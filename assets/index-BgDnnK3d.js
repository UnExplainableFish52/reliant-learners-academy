(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();function Iu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vu={exports:{}},Ar={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=Symbol.for("react.transitional.element"),xf=Symbol.for("react.fragment");function Yu(e,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var n in s)n!=="key"&&(a[n]=s[n])}else a=s;return s=a.ref,{$$typeof:hf,type:e,key:l,ref:s!==void 0?s:null,props:a}}Ar.Fragment=xf;Ar.jsx=Yu;Ar.jsxs=Yu;Vu.exports=Ar;var t=Vu.exports,Gu={exports:{}},X={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yo=Symbol.for("react.transitional.element"),ff=Symbol.for("react.portal"),gf=Symbol.for("react.fragment"),pf=Symbol.for("react.strict_mode"),bf=Symbol.for("react.profiler"),yf=Symbol.for("react.consumer"),vf=Symbol.for("react.context"),jf=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),wf=Symbol.for("react.memo"),$u=Symbol.for("react.lazy"),lc=Symbol.iterator;function Sf(e){return e===null||typeof e!="object"?null:(e=lc&&e[lc]||e["@@iterator"],typeof e=="function"?e:null)}var Qu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xu=Object.assign,Zu={};function Ia(e,s,a){this.props=e,this.context=s,this.refs=Zu,this.updater=a||Qu}Ia.prototype.isReactComponent={};Ia.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};Ia.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ju(){}Ju.prototype=Ia.prototype;function Go(e,s,a){this.props=e,this.context=s,this.refs=Zu,this.updater=a||Qu}var $o=Go.prototype=new Ju;$o.constructor=Go;Xu($o,Ia.prototype);$o.isPureReactComponent=!0;var nc=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},Ku=Object.prototype.hasOwnProperty;function Qo(e,s,a,l,n,r){return a=r.ref,{$$typeof:Yo,type:e,key:s,ref:a!==void 0?a:null,props:r}}function kf(e,s){return Qo(e.type,s,void 0,void 0,void 0,e.props)}function Xo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yo}function Cf(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return s[a]})}var rc=/\/+/g;function Zr(e,s){return typeof e=="object"&&e!==null&&e.key!=null?Cf(""+e.key):s.toString(36)}function ic(){}function Af(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(ic,ic):(e.status="pending",e.then(function(s){e.status==="pending"&&(e.status="fulfilled",e.value=s)},function(s){e.status==="pending"&&(e.status="rejected",e.reason=s)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ra(e,s,a,l,n){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(r){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Yo:case ff:i=!0;break;case $u:return i=e._init,ra(i(e._payload),s,a,l,n)}}if(i)return n=n(e),i=l===""?"."+Zr(e,0):l,nc(n)?(a="",i!=null&&(a=i.replace(rc,"$&/")+"/"),ra(n,s,a,"",function(u){return u})):n!=null&&(Xo(n)&&(n=kf(n,a+(n.key==null||e&&e.key===n.key?"":(""+n.key).replace(rc,"$&/")+"/")+i)),s.push(n)),1;i=0;var o=l===""?".":l+":";if(nc(e))for(var d=0;d<e.length;d++)l=e[d],r=o+Zr(l,d),i+=ra(l,s,a,r,n);else if(d=Sf(e),typeof d=="function")for(e=d.call(e),d=0;!(l=e.next()).done;)l=l.value,r=o+Zr(l,d++),i+=ra(l,s,a,r,n);else if(r==="object"){if(typeof e.then=="function")return ra(Af(e),s,a,l,n);throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.")}return i}function mn(e,s,a){if(e==null)return e;var l=[],n=0;return ra(e,l,"","",function(r){return s.call(a,r,n++)}),l}function Tf(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var oc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Mf(){}X.Children={map:mn,forEach:function(e,s,a){mn(e,function(){s.apply(this,arguments)},a)},count:function(e){var s=0;return mn(e,function(){s++}),s},toArray:function(e){return mn(e,function(s){return s})||[]},only:function(e){if(!Xo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=Ia;X.Fragment=gf;X.Profiler=bf;X.PureComponent=Go;X.StrictMode=pf;X.Suspense=Nf;X.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he;X.__COMPILER_RUNTIME={__proto__:null,c:function(e){return he.H.useMemoCache(e)}};X.cache=function(e){return function(){return e.apply(null,arguments)}};X.cloneElement=function(e,s,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var l=Xu({},e.props),n=e.key,r=void 0;if(s!=null)for(i in s.ref!==void 0&&(r=void 0),s.key!==void 0&&(n=""+s.key),s)!Ku.call(s,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&s.ref===void 0||(l[i]=s[i]);var i=arguments.length-2;if(i===1)l.children=a;else if(1<i){for(var o=Array(i),d=0;d<i;d++)o[d]=arguments[d+2];l.children=o}return Qo(e.type,n,void 0,void 0,r,l)};X.createContext=function(e){return e={$$typeof:vf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:yf,_context:e},e};X.createElement=function(e,s,a){var l,n={},r=null;if(s!=null)for(l in s.key!==void 0&&(r=""+s.key),s)Ku.call(s,l)&&l!=="key"&&l!=="__self"&&l!=="__source"&&(n[l]=s[l]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var o=Array(i),d=0;d<i;d++)o[d]=arguments[d+2];n.children=o}if(e&&e.defaultProps)for(l in i=e.defaultProps,i)n[l]===void 0&&(n[l]=i[l]);return Qo(e,r,void 0,void 0,null,n)};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:jf,render:e}};X.isValidElement=Xo;X.lazy=function(e){return{$$typeof:$u,_payload:{_status:-1,_result:e},_init:Tf}};X.memo=function(e,s){return{$$typeof:wf,type:e,compare:s===void 0?null:s}};X.startTransition=function(e){var s=he.T,a={};he.T=a;try{var l=e(),n=he.S;n!==null&&n(a,l),typeof l=="object"&&l!==null&&typeof l.then=="function"&&l.then(Mf,oc)}catch(r){oc(r)}finally{he.T=s}};X.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()};X.use=function(e){return he.H.use(e)};X.useActionState=function(e,s,a){return he.H.useActionState(e,s,a)};X.useCallback=function(e,s){return he.H.useCallback(e,s)};X.useContext=function(e){return he.H.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e,s){return he.H.useDeferredValue(e,s)};X.useEffect=function(e,s,a){var l=he.H;if(typeof a=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return l.useEffect(e,s)};X.useId=function(){return he.H.useId()};X.useImperativeHandle=function(e,s,a){return he.H.useImperativeHandle(e,s,a)};X.useInsertionEffect=function(e,s){return he.H.useInsertionEffect(e,s)};X.useLayoutEffect=function(e,s){return he.H.useLayoutEffect(e,s)};X.useMemo=function(e,s){return he.H.useMemo(e,s)};X.useOptimistic=function(e,s){return he.H.useOptimistic(e,s)};X.useReducer=function(e,s,a){return he.H.useReducer(e,s,a)};X.useRef=function(e){return he.H.useRef(e)};X.useState=function(e){return he.H.useState(e)};X.useSyncExternalStore=function(e,s,a){return he.H.useSyncExternalStore(e,s,a)};X.useTransition=function(){return he.H.useTransition()};X.version="19.1.1";Gu.exports=X;var c=Gu.exports;const ys=Iu(c);var Wu={exports:{}},Tr={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(U,F){var I=U.length;U.push(F);e:for(;0<I;){var z=I-1>>>1,L=U[z];if(0<n(L,F))U[z]=F,U[I]=L,I=z;else break e}}function a(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var F=U[0],I=U.pop();if(I!==F){U[0]=I;e:for(var z=0,L=U.length,H=L>>>1;z<H;){var _=2*(z+1)-1,B=U[_],Y=_+1,Q=U[Y];if(0>n(B,I))Y<L&&0>n(Q,B)?(U[z]=Q,U[Y]=I,z=Y):(U[z]=B,U[_]=I,z=_);else if(Y<L&&0>n(Q,I))U[z]=Q,U[Y]=I,z=Y;else break e}}return F}function n(U,F){var I=U.sortIndex-F.sortIndex;return I!==0?I:U.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var d=[],u=[],h=1,x=null,y=3,p=!1,b=!1,v=!1,N=!1,f=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function g(U){for(var F=a(u);F!==null;){if(F.callback===null)l(u);else if(F.startTime<=U)l(u),F.sortIndex=F.expirationTime,s(d,F);else break;F=a(u)}}function k(U){if(v=!1,g(U),!b)if(a(d)!==null)b=!0,w||(w=!0,R());else{var F=a(u);F!==null&&q(k,F.startTime-U)}}var w=!1,S=-1,T=5,C=-1;function A(){return N?!0:!(e.unstable_now()-C<T)}function M(){if(N=!1,w){var U=e.unstable_now();C=U;var F=!0;try{e:{b=!1,v&&(v=!1,m(S),S=-1),p=!0;var I=y;try{t:{for(g(U),x=a(d);x!==null&&!(x.expirationTime>U&&A());){var z=x.callback;if(typeof z=="function"){x.callback=null,y=x.priorityLevel;var L=z(x.expirationTime<=U);if(U=e.unstable_now(),typeof L=="function"){x.callback=L,g(U),F=!0;break t}x===a(d)&&l(d),g(U)}else l(d);x=a(d)}if(x!==null)F=!0;else{var H=a(u);H!==null&&q(k,H.startTime-U),F=!1}}break e}finally{x=null,y=I,p=!1}F=void 0}}finally{F?R():w=!1}}}var R;if(typeof j=="function")R=function(){j(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,D=O.port2;O.port1.onmessage=M,R=function(){D.postMessage(null)}}else R=function(){f(M,0)};function q(U,F){S=f(function(){U(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(U){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var I=y;y=F;try{return U()}finally{y=I}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var I=y;y=U;try{return F()}finally{y=I}},e.unstable_scheduleCallback=function(U,F,I){var z=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?z+I:z):I=z,U){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=I+L,U={id:h++,callback:F,priorityLevel:U,startTime:I,expirationTime:L,sortIndex:-1},I>z?(U.sortIndex=I,s(u,U),a(d)===null&&U===a(u)&&(v?(m(S),S=-1):v=!0,q(k,I-z))):(U.sortIndex=L,s(d,U),b||p||(b=!0,w||(w=!0,R()))),U},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(U){var F=y;return function(){var I=y;y=F;try{return U.apply(this,arguments)}finally{y=I}}}})(tm);em.exports=tm;var Df=em.exports,sm={exports:{}},_e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ef=c;function am(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function as(){}var He={d:{f:as,r:function(){throw Error(am(522))},D:as,C:as,L:as,m:as,X:as,S:as,M:as},p:0,findDOMNode:null},Lf=Symbol.for("react.portal");function Rf(e,s,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lf,key:l==null?null:""+l,children:e,containerInfo:s,implementation:a}}var hl=Ef.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Mr(e,s){if(e==="font")return"";if(typeof s=="string")return s==="use-credentials"?s:""}_e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=He;_e.createPortal=function(e,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)throw Error(am(299));return Rf(e,s,null,a)};_e.flushSync=function(e){var s=hl.T,a=He.p;try{if(hl.T=null,He.p=2,e)return e()}finally{hl.T=s,He.p=a,He.d.f()}};_e.preconnect=function(e,s){typeof e=="string"&&(s?(s=s.crossOrigin,s=typeof s=="string"?s==="use-credentials"?s:"":void 0):s=null,He.d.C(e,s))};_e.prefetchDNS=function(e){typeof e=="string"&&He.d.D(e)};_e.preinit=function(e,s){if(typeof e=="string"&&s&&typeof s.as=="string"){var a=s.as,l=Mr(a,s.crossOrigin),n=typeof s.integrity=="string"?s.integrity:void 0,r=typeof s.fetchPriority=="string"?s.fetchPriority:void 0;a==="style"?He.d.S(e,typeof s.precedence=="string"?s.precedence:void 0,{crossOrigin:l,integrity:n,fetchPriority:r}):a==="script"&&He.d.X(e,{crossOrigin:l,integrity:n,fetchPriority:r,nonce:typeof s.nonce=="string"?s.nonce:void 0})}};_e.preinitModule=function(e,s){if(typeof e=="string")if(typeof s=="object"&&s!==null){if(s.as==null||s.as==="script"){var a=Mr(s.as,s.crossOrigin);He.d.M(e,{crossOrigin:a,integrity:typeof s.integrity=="string"?s.integrity:void 0,nonce:typeof s.nonce=="string"?s.nonce:void 0})}}else s==null&&He.d.M(e)};_e.preload=function(e,s){if(typeof e=="string"&&typeof s=="object"&&s!==null&&typeof s.as=="string"){var a=s.as,l=Mr(a,s.crossOrigin);He.d.L(e,a,{crossOrigin:l,integrity:typeof s.integrity=="string"?s.integrity:void 0,nonce:typeof s.nonce=="string"?s.nonce:void 0,type:typeof s.type=="string"?s.type:void 0,fetchPriority:typeof s.fetchPriority=="string"?s.fetchPriority:void 0,referrerPolicy:typeof s.referrerPolicy=="string"?s.referrerPolicy:void 0,imageSrcSet:typeof s.imageSrcSet=="string"?s.imageSrcSet:void 0,imageSizes:typeof s.imageSizes=="string"?s.imageSizes:void 0,media:typeof s.media=="string"?s.media:void 0})}};_e.preloadModule=function(e,s){if(typeof e=="string")if(s){var a=Mr(s.as,s.crossOrigin);He.d.m(e,{as:typeof s.as=="string"&&s.as!=="script"?s.as:void 0,crossOrigin:a,integrity:typeof s.integrity=="string"?s.integrity:void 0})}else He.d.m(e)};_e.requestFormReset=function(e){He.d.r(e)};_e.unstable_batchedUpdates=function(e,s){return e(s)};_e.useFormState=function(e,s,a){return hl.H.useFormState(e,s,a)};_e.useFormStatus=function(){return hl.H.useHostTransitionStatus()};_e.version="19.1.1";function lm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lm)}catch(e){console.error(e)}}lm(),sm.exports=_e;var Of=sm.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce=Df,nm=c,Uf=Of;function P(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function rm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gl(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function im(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function dc(e){if(Gl(e)!==e)throw Error(P(188))}function zf(e){var s=e.alternate;if(!s){if(s=Gl(e),s===null)throw Error(P(188));return s!==e?null:e}for(var a=e,l=s;;){var n=a.return;if(n===null)break;var r=n.alternate;if(r===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===a)return dc(n),e;if(r===l)return dc(n),s;r=r.sibling}throw Error(P(188))}if(a.return!==l.return)a=n,l=r;else{for(var i=!1,o=n.child;o;){if(o===a){i=!0,a=n,l=r;break}if(o===l){i=!0,l=n,a=r;break}o=o.sibling}if(!i){for(o=r.child;o;){if(o===a){i=!0,a=r,l=n;break}if(o===l){i=!0,l=r,a=n;break}o=o.sibling}if(!i)throw Error(P(189))}}if(a.alternate!==l)throw Error(P(190))}if(a.tag!==3)throw Error(P(188));return a.stateNode.current===a?e:s}function om(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=om(e),s!==null)return s;e=e.sibling}return null}var ue=Object.assign,Pf=Symbol.for("react.element"),hn=Symbol.for("react.transitional.element"),dl=Symbol.for("react.portal"),ca=Symbol.for("react.fragment"),dm=Symbol.for("react.strict_mode"),Fi=Symbol.for("react.profiler"),Bf=Symbol.for("react.provider"),cm=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Zo=Symbol.for("react.forward_ref"),Hi=Symbol.for("react.suspense"),qi=Symbol.for("react.suspense_list"),Jo=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),_i=Symbol.for("react.activity"),Ff=Symbol.for("react.memo_cache_sentinel"),cc=Symbol.iterator;function el(e){return e===null||typeof e!="object"?null:(e=cc&&e[cc]||e["@@iterator"],typeof e=="function"?e:null)}var Hf=Symbol.for("react.client.reference");function Ii(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Hf?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ca:return"Fragment";case Fi:return"Profiler";case dm:return"StrictMode";case Hi:return"Suspense";case qi:return"SuspenseList";case _i:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case dl:return"Portal";case _t:return(e.displayName||"Context")+".Provider";case cm:return(e._context.displayName||"Context")+".Consumer";case Zo:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jo:return s=e.displayName||null,s!==null?s:Ii(e.type)||"Memo";case os:s=e._payload,e=e._init;try{return Ii(e(s))}catch{}}return null}var cl=Array.isArray,G=nm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=Uf.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fs={pending:!1,data:null,method:null,action:null},Vi=[],ua=-1;function Ot(e){return{current:e}}function Ee(e){0>ua||(e.current=Vi[ua],Vi[ua]=null,ua--)}function xe(e,s){ua++,Vi[ua]=e.current,e.current=s}var Et=Ot(null),Tl=Ot(null),vs=Ot(null),Xn=Ot(null);function Zn(e,s){switch(xe(vs,s),xe(Tl,e),xe(Et,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?fu(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=fu(s),e=Ax(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ee(Et),xe(Et,e)}function La(){Ee(Et),Ee(Tl),Ee(vs)}function Yi(e){e.memoizedState!==null&&xe(Xn,e);var s=Et.current,a=Ax(s,e.type);s!==a&&(xe(Tl,e),xe(Et,a))}function Jn(e){Tl.current===e&&(Ee(Et),Ee(Tl)),Xn.current===e&&(Ee(Xn),Bl._currentValue=Fs)}var Gi=Object.prototype.hasOwnProperty,Ko=Ce.unstable_scheduleCallback,Jr=Ce.unstable_cancelCallback,qf=Ce.unstable_shouldYield,_f=Ce.unstable_requestPaint,Lt=Ce.unstable_now,If=Ce.unstable_getCurrentPriorityLevel,um=Ce.unstable_ImmediatePriority,mm=Ce.unstable_UserBlockingPriority,Kn=Ce.unstable_NormalPriority,Vf=Ce.unstable_LowPriority,hm=Ce.unstable_IdlePriority,Yf=Ce.log,Gf=Ce.unstable_setDisableYieldValue,$l=null,st=null;function xs(e){if(typeof Yf=="function"&&Gf(e),st&&typeof st.setStrictMode=="function")try{st.setStrictMode($l,e)}catch{}}var at=Math.clz32?Math.clz32:Xf,$f=Math.log,Qf=Math.LN2;function Xf(e){return e>>>=0,e===0?32:31-($f(e)/Qf|0)|0}var xn=256,fn=4194304;function zs(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Dr(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,r=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=l&134217727;return o!==0?(l=o&~r,l!==0?n=zs(l):(i&=o,i!==0?n=zs(i):a||(a=o&~e,a!==0&&(n=zs(a))))):(o=l&~r,o!==0?n=zs(o):i!==0?n=zs(i):a||(a=l&~e,a!==0&&(n=zs(a)))),n===0?0:s!==0&&s!==n&&!(s&r)&&(r=n&-n,a=s&-s,r>=a||r===32&&(a&4194048)!==0)?s:n}function Ql(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Zf(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xm(){var e=xn;return xn<<=1,!(xn&4194048)&&(xn=256),e}function fm(){var e=fn;return fn<<=1,!(fn&62914560)&&(fn=4194304),e}function Kr(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function Xl(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jf(e,s,a,l,n,r){var i=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,d=e.expirationTimes,u=e.hiddenUpdates;for(a=i&~a;0<a;){var h=31-at(a),x=1<<h;o[h]=0,d[h]=-1;var y=u[h];if(y!==null)for(u[h]=null,h=0;h<y.length;h++){var p=y[h];p!==null&&(p.lane&=-536870913)}a&=~x}l!==0&&gm(e,l,0),r!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=r&~(i&~s))}function gm(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-at(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function pm(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-at(a),n=1<<l;n&s|e[l]&s&&(e[l]|=s),a&=~n}}function Wo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ed(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function bm(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:Px(e.type))}function Kf(e,s){var a=te.p;try{return te.p=e,s()}finally{te.p=a}}var Ls=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ls,$e="__reactProps$"+Ls,Va="__reactContainer$"+Ls,$i="__reactEvents$"+Ls,Wf="__reactListeners$"+Ls,eg="__reactHandles$"+Ls,uc="__reactResources$"+Ls,Zl="__reactMarker$"+Ls;function td(e){delete e[Pe],delete e[$e],delete e[$i],delete e[Wf],delete e[eg]}function ma(e){var s=e[Pe];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Va]||a[Pe]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=bu(e);e!==null;){if(a=e[Pe])return a;e=bu(e)}return s}e=a,a=e.parentNode}return null}function Ya(e){if(e=e[Pe]||e[Va]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function ul(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(P(33))}function Na(e){var s=e[uc];return s||(s=e[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Me(e){e[Zl]=!0}var ym=new Set,vm={};function Js(e,s){Ra(e,s),Ra(e+"Capture",s)}function Ra(e,s){for(vm[e]=s,e=0;e<s.length;e++)ym.add(s[e])}var tg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mc={},hc={};function sg(e){return Gi.call(hc,e)?!0:Gi.call(mc,e)?!1:tg.test(e)?hc[e]=!0:(mc[e]=!0,!1)}function On(e,s,a){if(sg(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function gn(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Pt(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}var Wr,xc;function ia(e){if(Wr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Wr=s&&s[1]||"",xc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+e+xc}var ei=!1;function ti(e,s){if(!e||ei)return"";ei=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var x=function(){throw Error()};if(Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(p){var y=p}Reflect.construct(e,[],x)}else{try{x.call()}catch(p){y=p}e.call(x.prototype)}}else{try{throw Error()}catch(p){y=p}(x=e())&&typeof x.catch=="function"&&x.catch(function(){})}}catch(p){if(p&&y&&typeof p.stack=="string")return[p.stack,y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=l.DetermineComponentFrameRoot(),i=r[0],o=r[1];if(i&&o){var d=i.split(`
`),u=o.split(`
`);for(n=l=0;l<d.length&&!d[l].includes("DetermineComponentFrameRoot");)l++;for(;n<u.length&&!u[n].includes("DetermineComponentFrameRoot");)n++;if(l===d.length||n===u.length)for(l=d.length-1,n=u.length-1;1<=l&&0<=n&&d[l]!==u[n];)n--;for(;1<=l&&0<=n;l--,n--)if(d[l]!==u[n]){if(l!==1||n!==1)do if(l--,n--,0>n||d[l]!==u[n]){var h=`
`+d[l].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=l&&0<=n);break}}}finally{ei=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ia(a):""}function ag(e){switch(e.tag){case 26:case 27:case 5:return ia(e.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 15:return ti(e.type,!1);case 11:return ti(e.type.render,!1);case 1:return ti(e.type,!0);case 31:return ia("Activity");default:return""}}function fc(e){try{var s="";do s+=ag(e),e=e.return;while(e);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jm(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function lg(e){var s=jm(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),l=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,r=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return n.call(this)},set:function(i){l=""+i,r.call(this,i)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Wn(e){e._valueTracker||(e._valueTracker=lg(e))}function Nm(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=jm(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ng=/[\n"\\]/g;function xt(e){return e.replace(ng,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qi(e,s,a,l,n,r,i,o){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),s!=null?i==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+ut(s)):e.value!==""+ut(s)&&(e.value=""+ut(s)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),s!=null?Xi(e,i,ut(s)):a!=null?Xi(e,i,ut(a)):l!=null&&e.removeAttribute("value"),n==null&&r!=null&&(e.defaultChecked=!!r),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+ut(o):e.removeAttribute("name")}function wm(e,s,a,l,n,r,i,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),s!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||s!=null))return;a=a!=null?""+ut(a):"",s=s!=null?""+ut(s):a,o||s===e.value||(e.value=s),e.defaultValue=s}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=o?e.checked:!!l,e.defaultChecked=!!l,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i)}function Xi(e,s,a){s==="number"&&er(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function wa(e,s,a,l){if(e=e.options,s){s={};for(var n=0;n<a.length;n++)s["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=s.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ut(a),s=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}s!==null||e[n].disabled||(s=e[n])}s!==null&&(s.selected=!0)}}function Sm(e,s,a){if(s!=null&&(s=""+ut(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+ut(a):""}function km(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(P(92));if(cl(l)){if(1<l.length)throw Error(P(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=ut(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Oa(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var rg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gc(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||rg.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function Cm(e,s,a){if(s!=null&&typeof s!="object")throw Error(P(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in s)l=s[n],s.hasOwnProperty(n)&&a[n]!==l&&gc(e,n,l)}else for(var r in s)s.hasOwnProperty(r)&&gc(e,r,s[r])}function sd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ig=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),og=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Un(e){return og.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Zi=null;function ad(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ha=null,Sa=null;function pc(e){var s=Ya(e);if(s&&(e=s.stateNode)){var a=e[$e]||null;e:switch(e=s.stateNode,s.type){case"input":if(Qi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var n=l[$e]||null;if(!n)throw Error(P(90));Qi(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&Nm(l)}break e;case"textarea":Sm(e,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&wa(e,!!a.multiple,s,!1)}}}var si=!1;function Am(e,s,a){if(si)return e(s,a);si=!0;try{var l=e(s);return l}finally{if(si=!1,(ha!==null||Sa!==null)&&(Hr(),ha&&(s=ha,e=Sa,Sa=ha=null,pc(s),e)))for(s=0;s<e.length;s++)pc(e[s])}}function Ml(e,s){var a=e.stateNode;if(a===null)return null;var l=a[$e]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(P(231,s,typeof a));return a}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ji=!1;if(Zt)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{Ji=!1}var fs=null,ld=null,zn=null;function Tm(){if(zn)return zn;var e,s=ld,a=s.length,l,n="value"in fs?fs.value:fs.textContent,r=n.length;for(e=0;e<a&&s[e]===n[e];e++);var i=a-e;for(l=1;l<=i&&s[a-l]===n[r-l];l++);return zn=n.slice(e,1<l?1-l:void 0)}function Pn(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function pn(){return!0}function bc(){return!1}function Qe(e){function s(a,l,n,r,i){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=r,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?pn:bc,this.isPropagationStopped=bc,this}return ue(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pn)},persist:function(){},isPersistent:pn}),s}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Er=Qe(Ks),Jl=ue({},Ks,{view:0,detail:0}),dg=Qe(Jl),ai,li,sl,Lr=ue({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sl&&(sl&&e.type==="mousemove"?(ai=e.screenX-sl.screenX,li=e.screenY-sl.screenY):li=ai=0,sl=e),ai)},movementY:function(e){return"movementY"in e?e.movementY:li}}),yc=Qe(Lr),cg=ue({},Lr,{dataTransfer:0}),ug=Qe(cg),mg=ue({},Jl,{relatedTarget:0}),ni=Qe(mg),hg=ue({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),xg=Qe(hg),fg=ue({},Ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gg=Qe(fg),pg=ue({},Ks,{data:0}),vc=Qe(pg),bg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jg(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=vg[e])?!!s[e]:!1}function nd(){return jg}var Ng=ue({},Jl,{key:function(e){if(e.key){var s=bg[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Pn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nd,charCode:function(e){return e.type==="keypress"?Pn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wg=Qe(Ng),Sg=ue({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jc=Qe(Sg),kg=ue({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nd}),Cg=Qe(kg),Ag=ue({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tg=Qe(Ag),Mg=ue({},Lr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dg=Qe(Mg),Eg=ue({},Ks,{newState:0,oldState:0}),Lg=Qe(Eg),Rg=[9,13,27,32],rd=Zt&&"CompositionEvent"in window,xl=null;Zt&&"documentMode"in document&&(xl=document.documentMode);var Og=Zt&&"TextEvent"in window&&!xl,Mm=Zt&&(!rd||xl&&8<xl&&11>=xl),Nc=" ",wc=!1;function Dm(e,s){switch(e){case"keyup":return Rg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Em(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function Ug(e,s){switch(e){case"compositionend":return Em(s);case"keypress":return s.which!==32?null:(wc=!0,Nc);case"textInput":return e=s.data,e===Nc&&wc?null:e;default:return null}}function zg(e,s){if(xa)return e==="compositionend"||!rd&&Dm(e,s)?(e=Tm(),zn=ld=fs=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Mm&&s.locale!=="ko"?null:s.data;default:return null}}var Pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sc(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Pg[e.type]:s==="textarea"}function Lm(e,s,a,l){ha?Sa?Sa.push(l):Sa=[l]:ha=l,s=br(s,"onChange"),0<s.length&&(a=new Er("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var fl=null,Dl=null;function Bg(e){Sx(e,0)}function Rr(e){var s=ul(e);if(Nm(s))return e}function kc(e,s){if(e==="change")return s}var Rm=!1;if(Zt){var ri;if(Zt){var ii="oninput"in document;if(!ii){var Cc=document.createElement("div");Cc.setAttribute("oninput","return;"),ii=typeof Cc.oninput=="function"}ri=ii}else ri=!1;Rm=ri&&(!document.documentMode||9<document.documentMode)}function Ac(){fl&&(fl.detachEvent("onpropertychange",Om),Dl=fl=null)}function Om(e){if(e.propertyName==="value"&&Rr(Dl)){var s=[];Lm(s,Dl,e,ad(e)),Am(Bg,s)}}function Fg(e,s,a){e==="focusin"?(Ac(),fl=s,Dl=a,fl.attachEvent("onpropertychange",Om)):e==="focusout"&&Ac()}function Hg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rr(Dl)}function qg(e,s){if(e==="click")return Rr(s)}function _g(e,s){if(e==="input"||e==="change")return Rr(s)}function Ig(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var rt=typeof Object.is=="function"?Object.is:Ig;function El(e,s){if(rt(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!Gi.call(s,n)||!rt(e[n],s[n]))return!1}return!0}function Tc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mc(e,s){var a=Tc(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tc(a)}}function Um(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Um(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function zm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=er(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=er(e.document)}return s}function id(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var Vg=Zt&&"documentMode"in document&&11>=document.documentMode,fa=null,Ki=null,gl=null,Wi=!1;function Dc(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wi||fa==null||fa!==er(l)||(l=fa,"selectionStart"in l&&id(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&El(gl,l)||(gl=l,l=br(Ki,"onSelect"),0<l.length&&(s=new Er("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=fa)))}function Os(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var ga={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},oi={},Pm={};Zt&&(Pm=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Ws(e){if(oi[e])return oi[e];if(!ga[e])return e;var s=ga[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Pm)return oi[e]=s[a];return e}var Bm=Ws("animationend"),Fm=Ws("animationiteration"),Hm=Ws("animationstart"),Yg=Ws("transitionrun"),Gg=Ws("transitionstart"),$g=Ws("transitioncancel"),qm=Ws("transitionend"),_m=new Map,eo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eo.push("scrollEnd");function kt(e,s){_m.set(e,s),Js(s,[e])}var Ec=new WeakMap;function ft(e,s){if(typeof e=="object"&&e!==null){var a=Ec.get(e);return a!==void 0?a:(s={value:e,source:s,stack:fc(s)},Ec.set(e,s),s)}return{value:e,source:s,stack:fc(s)}}var ct=[],pa=0,od=0;function Or(){for(var e=pa,s=od=pa=0;s<e;){var a=ct[s];ct[s++]=null;var l=ct[s];ct[s++]=null;var n=ct[s];ct[s++]=null;var r=ct[s];if(ct[s++]=null,l!==null&&n!==null){var i=l.pending;i===null?n.next=n:(n.next=i.next,i.next=n),l.pending=n}r!==0&&Im(a,n,r)}}function Ur(e,s,a,l){ct[pa++]=e,ct[pa++]=s,ct[pa++]=a,ct[pa++]=l,od|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function dd(e,s,a,l){return Ur(e,s,a,l),tr(e)}function Ga(e,s){return Ur(e,null,null,s),tr(e)}function Im(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,r=e.return;r!==null;)r.childLanes|=a,l=r.alternate,l!==null&&(l.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(n=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,n&&s!==null&&(n=31-at(a),e=r.hiddenUpdates,l=e[n],l===null?e[n]=[s]:l.push(s),s.lane=a|536870912),r):null}function tr(e){if(50<Cl)throw Cl=0,No=null,Error(P(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var ba={};function Qg(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,s,a,l){return new Qg(e,s,a,l)}function cd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $t(e,s){var a=e.alternate;return a===null?(a=tt(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Vm(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Bn(e,s,a,l,n,r){var i=0;if(l=e,typeof e=="function")cd(e)&&(i=1);else if(typeof e=="string")i=Z0(e,a,Et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case _i:return e=tt(31,a,s,n),e.elementType=_i,e.lanes=r,e;case ca:return Hs(a.children,n,r,s);case dm:i=8,n|=24;break;case Fi:return e=tt(12,a,s,n|2),e.elementType=Fi,e.lanes=r,e;case Hi:return e=tt(13,a,s,n),e.elementType=Hi,e.lanes=r,e;case qi:return e=tt(19,a,s,n),e.elementType=qi,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bf:case _t:i=10;break e;case cm:i=9;break e;case Zo:i=11;break e;case Jo:i=14;break e;case os:i=16,l=null;break e}i=29,a=Error(P(130,e===null?"null":typeof e,"")),l=null}return s=tt(i,a,s,n),s.elementType=e,s.type=l,s.lanes=r,s}function Hs(e,s,a,l){return e=tt(7,e,l,s),e.lanes=a,e}function di(e,s,a){return e=tt(6,e,null,s),e.lanes=a,e}function ci(e,s,a){return s=tt(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var ya=[],va=0,sr=null,ar=0,mt=[],ht=0,qs=null,It=1,Vt="";function Ps(e,s){ya[va++]=ar,ya[va++]=sr,sr=e,ar=s}function Ym(e,s,a){mt[ht++]=It,mt[ht++]=Vt,mt[ht++]=qs,qs=e;var l=It;e=Vt;var n=32-at(l)-1;l&=~(1<<n),a+=1;var r=32-at(s)+n;if(30<r){var i=n-n%5;r=(l&(1<<i)-1).toString(32),l>>=i,n-=i,It=1<<32-at(s)+n|a<<n|l,Vt=r+e}else It=1<<r|a<<n|l,Vt=e}function ud(e){e.return!==null&&(Ps(e,1),Ym(e,1,0))}function md(e){for(;e===sr;)sr=ya[--va],ya[va]=null,ar=ya[--va],ya[va]=null;for(;e===qs;)qs=mt[--ht],mt[ht]=null,Vt=mt[--ht],mt[ht]=null,It=mt[--ht],mt[ht]=null}var Fe=null,pe=null,ee=!1,_s=null,Mt=!1,to=Error(P(519));function Gs(e){var s=Error(P(418,""));throw Ll(ft(s,e)),to}function Lc(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Pe]=e,s[$e]=l,a){case"dialog":J("cancel",s),J("close",s);break;case"iframe":case"object":case"embed":J("load",s);break;case"video":case"audio":for(a=0;a<Ul.length;a++)J(Ul[a],s);break;case"source":J("error",s);break;case"img":case"image":case"link":J("error",s),J("load",s);break;case"details":J("toggle",s);break;case"input":J("invalid",s),wm(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Wn(s);break;case"select":J("invalid",s);break;case"textarea":J("invalid",s),km(s,l.value,l.defaultValue,l.children),Wn(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Cx(s.textContent,a)?(l.popover!=null&&(J("beforetoggle",s),J("toggle",s)),l.onScroll!=null&&J("scroll",s),l.onScrollEnd!=null&&J("scrollend",s),l.onClick!=null&&(s.onclick=Ir),s=!0):s=!1,s||Gs(e)}function Rc(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:Fe=Fe.return}}function al(e){if(e!==Fe)return!1;if(!ee)return Rc(e),ee=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||To(e.type,e.memoizedProps)),a=!a),a&&pe&&Gs(e),Rc(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(s===0){pe=St(e.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;e=e.nextSibling}pe=null}}else s===27?(s=pe,Rs(e.type)?(e=Eo,Eo=null,pe=e):pe=s):pe=Fe?St(e.stateNode.nextSibling):null;return!0}function Kl(){pe=Fe=null,ee=!1}function Oc(){var e=_s;return e!==null&&(Ge===null?Ge=e:Ge.push.apply(Ge,e),_s=null),e}function Ll(e){_s===null?_s=[e]:_s.push(e)}var so=Ot(null),ea=null,Yt=null;function cs(e,s,a){xe(so,s._currentValue),s._currentValue=a}function Qt(e){e._currentValue=so.current,Ee(so)}function ao(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function lo(e,s,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var r=n.dependencies;if(r!==null){var i=n.child;r=r.firstContext;e:for(;r!==null;){var o=r;r=n;for(var d=0;d<s.length;d++)if(o.context===s[d]){r.lanes|=a,o=r.alternate,o!==null&&(o.lanes|=a),ao(r.return,a,e),l||(i=null);break e}r=o.next}}else if(n.tag===18){if(i=n.return,i===null)throw Error(P(341));i.lanes|=a,r=i.alternate,r!==null&&(r.lanes|=a),ao(i,a,e),i=null}else i=n.child;if(i!==null)i.return=n;else for(i=n;i!==null;){if(i===e){i=null;break}if(n=i.sibling,n!==null){n.return=i.return,i=n;break}i=i.return}n=i}}function Wl(e,s,a,l){e=null;for(var n=s,r=!1;n!==null;){if(!r){if(n.flags&524288)r=!0;else if(n.flags&262144)break}if(n.tag===10){var i=n.alternate;if(i===null)throw Error(P(387));if(i=i.memoizedProps,i!==null){var o=n.type;rt(n.pendingProps.value,i.value)||(e!==null?e.push(o):e=[o])}}else if(n===Xn.current){if(i=n.alternate,i===null)throw Error(P(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Bl):e=[Bl])}n=n.return}e!==null&&lo(s,e,a,l),s.flags|=262144}function lr(e){for(e=e.firstContext;e!==null;){if(!rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $s(e){ea=e,Yt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Gm(ea,e)}function bn(e,s){return ea===null&&$s(e),Gm(e,s)}function Gm(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Yt===null){if(e===null)throw Error(P(308));Yt=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Yt=Yt.next=s;return a}var Xg=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},Zg=Ce.unstable_scheduleCallback,Jg=Ce.unstable_NormalPriority,Se={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hd(){return{controller:new Xg,data:new Map,refCount:0}}function en(e){e.refCount--,e.refCount===0&&Zg(Jg,function(){e.controller.abort()})}var pl=null,no=0,Ua=0,ka=null;function Kg(e,s){if(pl===null){var a=pl=[];no=0,Ua=zd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return no++,s.then(Uc,Uc),s}function Uc(){if(--no===0&&pl!==null){ka!==null&&(ka.status="fulfilled");var e=pl;pl=null,Ua=0,ka=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function Wg(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var n=0;n<a.length;n++)(0,a[n])(s)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var zc=G.S;G.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Kg(e,s),zc!==null&&zc(e,s)};var Is=Ot(null);function xd(){var e=Is.current;return e!==null?e:de.pooledCache}function Fn(e,s){s===null?xe(Is,Is.current):xe(Is,s.pool)}function $m(){var e=xd();return e===null?null:{parent:Se._currentValue,pool:e}}var tn=Error(P(460)),Qm=Error(P(474)),zr=Error(P(542)),ro={then:function(){}};function Pc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yn(){}function Xm(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(yn,yn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Fc(e),e;default:if(typeof s.status=="string")s.then(yn,yn);else{if(e=de,e!==null&&100<e.shellSuspendCounter)throw Error(P(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var n=s;n.status="fulfilled",n.value=l}},function(l){if(s.status==="pending"){var n=s;n.status="rejected",n.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Fc(e),e}throw bl=s,tn}}var bl=null;function Bc(){if(bl===null)throw Error(P(459));var e=bl;return bl=null,e}function Fc(e){if(e===tn||e===zr)throw Error(P(483))}var ds=!1;function fd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function io(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function js(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,le&2){var n=l.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),l.pending=s,s=tr(e),Im(e,null,a),s}return Ur(e,l,s,a),tr(e)}function yl(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,pm(e,a)}}function ui(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var i={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?n=r=i:r=r.next=i,a=a.next}while(a!==null);r===null?n=r=s:r=r.next=s}else n=r=s;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var oo=!1;function vl(){if(oo){var e=ka;if(e!==null)throw e}}function jl(e,s,a,l){oo=!1;var n=e.updateQueue;ds=!1;var r=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var d=o,u=d.next;d.next=null,i===null?r=u:i.next=u,i=d;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==i&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=d))}if(r!==null){var x=n.baseState;i=0,h=u=d=null,o=r;do{var y=o.lane&-536870913,p=y!==o.lane;if(p?(W&y)===y:(l&y)===y){y!==0&&y===Ua&&(oo=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var b=e,v=o;y=s;var N=a;switch(v.tag){case 1:if(b=v.payload,typeof b=="function"){x=b.call(N,x,y);break e}x=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,y=typeof b=="function"?b.call(N,x,y):b,y==null)break e;x=ue({},x,y);break e;case 2:ds=!0}}y=o.callback,y!==null&&(e.flags|=64,p&&(e.flags|=8192),p=n.callbacks,p===null?n.callbacks=[y]:p.push(y))}else p={lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=p,d=x):h=h.next=p,i|=y;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;p=o,o=p.next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}while(!0);h===null&&(d=x),n.baseState=d,n.firstBaseUpdate=u,n.lastBaseUpdate=h,r===null&&(n.shared.lanes=0),Ds|=i,e.lanes=i,e.memoizedState=x}}function Zm(e,s){if(typeof e!="function")throw Error(P(191,e));e.call(s)}function Jm(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Zm(a[e],s)}var za=Ot(null),nr=Ot(0);function Hc(e,s){e=Wt,xe(nr,e),xe(za,s),Wt=e|s.baseLanes}function co(){xe(nr,Wt),xe(za,za.current)}function gd(){Wt=nr.current,Ee(za),Ee(nr)}var Ts=0,Z=null,ie=null,je=null,rr=!1,Ca=!1,Qs=!1,ir=0,Rl=0,Aa=null,e0=0;function ye(){throw Error(P(321))}function pd(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!rt(e[a],s[a]))return!1;return!0}function bd(e,s,a,l,n,r){return Ts=r,Z=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=e===null||e.memoizedState===null?Th:Mh,Qs=!1,r=a(l,n),Qs=!1,Ca&&(r=Wm(s,a,l,n)),Km(e),r}function Km(e){G.H=or;var s=ie!==null&&ie.next!==null;if(Ts=0,je=ie=Z=null,rr=!1,Rl=0,Aa=null,s)throw Error(P(300));e===null||De||(e=e.dependencies,e!==null&&lr(e)&&(De=!0))}function Wm(e,s,a,l){Z=e;var n=0;do{if(Ca&&(Aa=null),Rl=0,Ca=!1,25<=n)throw Error(P(301));if(n+=1,je=ie=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}G.H=i0,r=s(a,l)}while(Ca);return r}function t0(){var e=G.H,s=e.useState()[0];return s=typeof s.then=="function"?sn(s):s,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Z.flags|=1024),s}function yd(){var e=ir!==0;return ir=0,e}function vd(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function jd(e){if(rr){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}rr=!1}Ts=0,je=ie=Z=null,Ca=!1,Rl=ir=0,Aa=null}function Ve(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Z.memoizedState=je=e:je=je.next=e,je}function Ne(){if(ie===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var s=je===null?Z.memoizedState:je.next;if(s!==null)je=s,ie=e;else{if(e===null)throw Z.alternate===null?Error(P(467)):Error(P(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},je===null?Z.memoizedState=je=e:je=je.next=e}return je}function Nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sn(e){var s=Rl;return Rl+=1,Aa===null&&(Aa=[]),e=Xm(Aa,e,s),s=Z,(je===null?s.memoizedState:je.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?Th:Mh),e}function Pr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sn(e);if(e.$$typeof===_t)return Be(e)}throw Error(P(438,String(e)))}function wd(e){var s=null,a=Z.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Z.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(n){return n.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Nd(),Z.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=Ff;return s.index++,a}function Jt(e,s){return typeof s=="function"?s(e):s}function Hn(e){var s=Ne();return Sd(s,ie,e)}function Sd(e,s,a){var l=e.queue;if(l===null)throw Error(P(311));l.lastRenderedReducer=a;var n=e.baseQueue,r=l.pending;if(r!==null){if(n!==null){var i=n.next;n.next=r.next,r.next=i}s.baseQueue=n=r,l.pending=null}if(r=e.baseState,n===null)e.memoizedState=r;else{s=n.next;var o=i=null,d=null,u=s,h=!1;do{var x=u.lane&-536870913;if(x!==u.lane?(W&x)===x:(Ts&x)===x){var y=u.revertLane;if(y===0)d!==null&&(d=d.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),x===Ua&&(h=!0);else if((Ts&y)===y){u=u.next,y===Ua&&(h=!0);continue}else x={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},d===null?(o=d=x,i=r):d=d.next=x,Z.lanes|=y,Ds|=y;x=u.action,Qs&&a(r,x),r=u.hasEagerState?u.eagerState:a(r,x)}else y={lane:x,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},d===null?(o=d=y,i=r):d=d.next=y,Z.lanes|=x,Ds|=x;u=u.next}while(u!==null&&u!==s);if(d===null?i=r:d.next=o,!rt(r,e.memoizedState)&&(De=!0,h&&(a=ka,a!==null)))throw a;e.memoizedState=r,e.baseState=i,e.baseQueue=d,l.lastRenderedState=r}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function mi(e){var s=Ne(),a=s.queue;if(a===null)throw Error(P(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,r=s.memoizedState;if(n!==null){a.pending=null;var i=n=n.next;do r=e(r,i.action),i=i.next;while(i!==n);rt(r,s.memoizedState)||(De=!0),s.memoizedState=r,s.baseQueue===null&&(s.baseState=r),a.lastRenderedState=r}return[r,l]}function eh(e,s,a){var l=Z,n=Ne(),r=ee;if(r){if(a===void 0)throw Error(P(407));a=a()}else a=s();var i=!rt((ie||n).memoizedState,a);i&&(n.memoizedState=a,De=!0),n=n.queue;var o=ah.bind(null,l,n,e);if(an(2048,8,o,[e]),n.getSnapshot!==s||i||je!==null&&je.memoizedState.tag&1){if(l.flags|=2048,Pa(9,Br(),sh.bind(null,l,n,a,s),null),de===null)throw Error(P(349));r||Ts&124||th(l,s,a)}return a}function th(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Z.updateQueue,s===null?(s=Nd(),Z.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function sh(e,s,a,l){s.value=a,s.getSnapshot=l,lh(s)&&nh(e)}function ah(e,s,a){return a(function(){lh(s)&&nh(e)})}function lh(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!rt(e,a)}catch{return!0}}function nh(e){var s=Ga(e,2);s!==null&&nt(s,e,2)}function uo(e){var s=Ve();if(typeof e=="function"){var a=e;if(e=a(),Qs){xs(!0);try{a()}finally{xs(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jt,lastRenderedState:e},s}function rh(e,s,a,l){return e.baseState=a,Sd(e,ie,typeof l=="function"?l:Jt)}function s0(e,s,a,l,n){if(Fr(e))throw Error(P(485));if(e=s.action,e!==null){var r={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){r.listeners.push(i)}};G.T!==null?a(!0):r.isTransition=!1,l(r),a=s.pending,a===null?(r.next=s.pending=r,ih(s,r)):(r.next=a.next,s.pending=a.next=r)}}function ih(e,s){var a=s.action,l=s.payload,n=e.state;if(s.isTransition){var r=G.T,i={};G.T=i;try{var o=a(n,l),d=G.S;d!==null&&d(i,o),qc(e,s,o)}catch(u){mo(e,s,u)}finally{G.T=r}}else try{r=a(n,l),qc(e,s,r)}catch(u){mo(e,s,u)}}function qc(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_c(e,s,l)},function(l){return mo(e,s,l)}):_c(e,s,a)}function _c(e,s,a){s.status="fulfilled",s.value=a,oh(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,ih(e,a)))}function mo(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,oh(s),s=s.next;while(s!==l)}e.action=null}function oh(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function dh(e,s){return s}function Ic(e,s){if(ee){var a=de.formState;if(a!==null){e:{var l=Z;if(ee){if(pe){t:{for(var n=pe,r=Mt;n.nodeType!==8;){if(!r){n=null;break t}if(n=St(n.nextSibling),n===null){n=null;break t}}r=n.data,n=r==="F!"||r==="F"?n:null}if(n){pe=St(n.nextSibling),l=n.data==="F!";break e}}Gs(l)}l=!1}l&&(s=a[0])}}return a=Ve(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dh,lastRenderedState:s},a.queue=l,a=kh.bind(null,Z,l),l.dispatch=a,l=uo(!1),r=Td.bind(null,Z,!1,l.queue),l=Ve(),n={state:s,dispatch:null,action:e,pending:null},l.queue=n,a=s0.bind(null,Z,n,r,a),n.dispatch=a,l.memoizedState=e,[s,a,!1]}function Vc(e){var s=Ne();return ch(s,ie,e)}function ch(e,s,a){if(s=Sd(e,s,dh)[0],e=Hn(Jt)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=sn(s)}catch(i){throw i===tn?zr:i}else l=s;s=Ne();var n=s.queue,r=n.dispatch;return a!==s.memoizedState&&(Z.flags|=2048,Pa(9,Br(),a0.bind(null,n,a),null)),[l,r,e]}function a0(e,s){e.action=s}function Yc(e){var s=Ne(),a=ie;if(a!==null)return ch(s,a,e);Ne(),s=s.memoizedState,a=Ne();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function Pa(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Z.updateQueue,s===null&&(s=Nd(),Z.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function Br(){return{destroy:void 0,resource:void 0}}function uh(){return Ne().memoizedState}function qn(e,s,a,l){var n=Ve();l=l===void 0?null:l,Z.flags|=e,n.memoizedState=Pa(1|s,Br(),a,l)}function an(e,s,a,l){var n=Ne();l=l===void 0?null:l;var r=n.memoizedState.inst;ie!==null&&l!==null&&pd(l,ie.memoizedState.deps)?n.memoizedState=Pa(s,r,a,l):(Z.flags|=e,n.memoizedState=Pa(1|s,r,a,l))}function Gc(e,s){qn(8390656,8,e,s)}function mh(e,s){an(2048,8,e,s)}function hh(e,s){return an(4,2,e,s)}function xh(e,s){return an(4,4,e,s)}function fh(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function gh(e,s,a){a=a!=null?a.concat([e]):null,an(4,4,fh.bind(null,s,e),a)}function kd(){}function ph(e,s){var a=Ne();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&pd(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function bh(e,s){var a=Ne();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&pd(s,l[1]))return l[0];if(l=e(),Qs){xs(!0);try{e()}finally{xs(!1)}}return a.memoizedState=[l,s],l}function Cd(e,s,a){return a===void 0||Ts&1073741824?e.memoizedState=s:(e.memoizedState=a,e=ox(),Z.lanes|=e,Ds|=e,a)}function yh(e,s,a,l){return rt(a,s)?a:za.current!==null?(e=Cd(e,a,l),rt(e,s)||(De=!0),e):Ts&42?(e=ox(),Z.lanes|=e,Ds|=e,s):(De=!0,e.memoizedState=a)}function vh(e,s,a,l,n){var r=te.p;te.p=r!==0&&8>r?r:8;var i=G.T,o={};G.T=o,Td(e,!1,s,a);try{var d=n(),u=G.S;if(u!==null&&u(o,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=Wg(d,l);Nl(e,s,h,lt(e))}else Nl(e,s,l,lt(e))}catch(x){Nl(e,s,{then:function(){},status:"rejected",reason:x},lt())}finally{te.p=r,G.T=i}}function l0(){}function ho(e,s,a,l){if(e.tag!==5)throw Error(P(476));var n=jh(e).queue;vh(e,n,s,Fs,a===null?l0:function(){return Nh(e),a(l)})}function jh(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:Fs,baseState:Fs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jt,lastRenderedState:Fs},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jt,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Nh(e){var s=jh(e).next.queue;Nl(e,s,{},lt())}function Ad(){return Be(Bl)}function wh(){return Ne().memoizedState}function Sh(){return Ne().memoizedState}function n0(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=lt();e=js(a);var l=Ns(s,e,a);l!==null&&(nt(l,s,a),yl(l,s,a)),s={cache:hd()},e.payload=s;return}s=s.return}}function r0(e,s,a){var l=lt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Fr(e)?Ch(s,a):(a=dd(e,s,a,l),a!==null&&(nt(a,e,l),Ah(a,s,l)))}function kh(e,s,a){var l=lt();Nl(e,s,a,l)}function Nl(e,s,a,l){var n={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fr(e))Ch(s,n);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=s.lastRenderedReducer,r!==null))try{var i=s.lastRenderedState,o=r(i,a);if(n.hasEagerState=!0,n.eagerState=o,rt(o,i))return Ur(e,s,n,0),de===null&&Or(),!1}catch{}finally{}if(a=dd(e,s,n,l),a!==null)return nt(a,e,l),Ah(a,s,l),!0}return!1}function Td(e,s,a,l){if(l={lane:2,revertLane:zd(),action:l,hasEagerState:!1,eagerState:null,next:null},Fr(e)){if(s)throw Error(P(479))}else s=dd(e,a,l,2),s!==null&&nt(s,e,2)}function Fr(e){var s=e.alternate;return e===Z||s!==null&&s===Z}function Ch(e,s){Ca=rr=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function Ah(e,s,a){if(a&4194048){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,pm(e,a)}}var or={readContext:Be,use:Pr,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},Th={readContext:Be,use:Pr,useCallback:function(e,s){return Ve().memoizedState=[e,s===void 0?null:s],e},useContext:Be,useEffect:Gc,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,qn(4194308,4,fh.bind(null,s,e),a)},useLayoutEffect:function(e,s){return qn(4194308,4,e,s)},useInsertionEffect:function(e,s){qn(4,2,e,s)},useMemo:function(e,s){var a=Ve();s=s===void 0?null:s;var l=e();if(Qs){xs(!0);try{e()}finally{xs(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=Ve();if(a!==void 0){var n=a(s);if(Qs){xs(!0);try{a(s)}finally{xs(!1)}}}else n=s;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=r0.bind(null,Z,e),[l.memoizedState,e]},useRef:function(e){var s=Ve();return e={current:e},s.memoizedState=e},useState:function(e){e=uo(e);var s=e.queue,a=kh.bind(null,Z,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:kd,useDeferredValue:function(e,s){var a=Ve();return Cd(a,e,s)},useTransition:function(){var e=uo(!1);return e=vh.bind(null,Z,e.queue,!0,!1),Ve().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Z,n=Ve();if(ee){if(a===void 0)throw Error(P(407));a=a()}else{if(a=s(),de===null)throw Error(P(349));W&124||th(l,s,a)}n.memoizedState=a;var r={value:a,getSnapshot:s};return n.queue=r,Gc(ah.bind(null,l,r,e),[e]),l.flags|=2048,Pa(9,Br(),sh.bind(null,l,r,a,s),null),a},useId:function(){var e=Ve(),s=de.identifierPrefix;if(ee){var a=Vt,l=It;a=(l&~(1<<32-at(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=ir++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=e0++,s="«"+s+"r"+a.toString(32)+"»";return e.memoizedState=s},useHostTransitionStatus:Ad,useFormState:Ic,useActionState:Ic,useOptimistic:function(e){var s=Ve();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Td.bind(null,Z,!0,a),a.dispatch=s,[e,s]},useMemoCache:wd,useCacheRefresh:function(){return Ve().memoizedState=n0.bind(null,Z)}},Mh={readContext:Be,use:Pr,useCallback:ph,useContext:Be,useEffect:mh,useImperativeHandle:gh,useInsertionEffect:hh,useLayoutEffect:xh,useMemo:bh,useReducer:Hn,useRef:uh,useState:function(){return Hn(Jt)},useDebugValue:kd,useDeferredValue:function(e,s){var a=Ne();return yh(a,ie.memoizedState,e,s)},useTransition:function(){var e=Hn(Jt)[0],s=Ne().memoizedState;return[typeof e=="boolean"?e:sn(e),s]},useSyncExternalStore:eh,useId:wh,useHostTransitionStatus:Ad,useFormState:Vc,useActionState:Vc,useOptimistic:function(e,s){var a=Ne();return rh(a,ie,e,s)},useMemoCache:wd,useCacheRefresh:Sh},i0={readContext:Be,use:Pr,useCallback:ph,useContext:Be,useEffect:mh,useImperativeHandle:gh,useInsertionEffect:hh,useLayoutEffect:xh,useMemo:bh,useReducer:mi,useRef:uh,useState:function(){return mi(Jt)},useDebugValue:kd,useDeferredValue:function(e,s){var a=Ne();return ie===null?Cd(a,e,s):yh(a,ie.memoizedState,e,s)},useTransition:function(){var e=mi(Jt)[0],s=Ne().memoizedState;return[typeof e=="boolean"?e:sn(e),s]},useSyncExternalStore:eh,useId:wh,useHostTransitionStatus:Ad,useFormState:Yc,useActionState:Yc,useOptimistic:function(e,s){var a=Ne();return ie!==null?rh(a,ie,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:wd,useCacheRefresh:Sh},Ta=null,Ol=0;function vn(e){var s=Ol;return Ol+=1,Ta===null&&(Ta=[]),Xm(Ta,e,s)}function ll(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function jn(e,s){throw s.$$typeof===Pf?Error(P(525)):(e=Object.prototype.toString.call(s),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function $c(e){var s=e._init;return s(e._payload)}function Dh(e){function s(f,m){if(e){var j=f.deletions;j===null?(f.deletions=[m],f.flags|=16):j.push(m)}}function a(f,m){if(!e)return null;for(;m!==null;)s(f,m),m=m.sibling;return null}function l(f){for(var m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function n(f,m){return f=$t(f,m),f.index=0,f.sibling=null,f}function r(f,m,j){return f.index=j,e?(j=f.alternate,j!==null?(j=j.index,j<m?(f.flags|=67108866,m):j):(f.flags|=67108866,m)):(f.flags|=1048576,m)}function i(f){return e&&f.alternate===null&&(f.flags|=67108866),f}function o(f,m,j,g){return m===null||m.tag!==6?(m=di(j,f.mode,g),m.return=f,m):(m=n(m,j),m.return=f,m)}function d(f,m,j,g){var k=j.type;return k===ca?h(f,m,j.props.children,g,j.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===os&&$c(k)===m.type)?(m=n(m,j.props),ll(m,j),m.return=f,m):(m=Bn(j.type,j.key,j.props,null,f.mode,g),ll(m,j),m.return=f,m)}function u(f,m,j,g){return m===null||m.tag!==4||m.stateNode.containerInfo!==j.containerInfo||m.stateNode.implementation!==j.implementation?(m=ci(j,f.mode,g),m.return=f,m):(m=n(m,j.children||[]),m.return=f,m)}function h(f,m,j,g,k){return m===null||m.tag!==7?(m=Hs(j,f.mode,g,k),m.return=f,m):(m=n(m,j),m.return=f,m)}function x(f,m,j){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=di(""+m,f.mode,j),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case hn:return j=Bn(m.type,m.key,m.props,null,f.mode,j),ll(j,m),j.return=f,j;case dl:return m=ci(m,f.mode,j),m.return=f,m;case os:var g=m._init;return m=g(m._payload),x(f,m,j)}if(cl(m)||el(m))return m=Hs(m,f.mode,j,null),m.return=f,m;if(typeof m.then=="function")return x(f,vn(m),j);if(m.$$typeof===_t)return x(f,bn(f,m),j);jn(f,m)}return null}function y(f,m,j,g){var k=m!==null?m.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return k!==null?null:o(f,m,""+j,g);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case hn:return j.key===k?d(f,m,j,g):null;case dl:return j.key===k?u(f,m,j,g):null;case os:return k=j._init,j=k(j._payload),y(f,m,j,g)}if(cl(j)||el(j))return k!==null?null:h(f,m,j,g,null);if(typeof j.then=="function")return y(f,m,vn(j),g);if(j.$$typeof===_t)return y(f,m,bn(f,j),g);jn(f,j)}return null}function p(f,m,j,g,k){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return f=f.get(j)||null,o(m,f,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case hn:return f=f.get(g.key===null?j:g.key)||null,d(m,f,g,k);case dl:return f=f.get(g.key===null?j:g.key)||null,u(m,f,g,k);case os:var w=g._init;return g=w(g._payload),p(f,m,j,g,k)}if(cl(g)||el(g))return f=f.get(j)||null,h(m,f,g,k,null);if(typeof g.then=="function")return p(f,m,j,vn(g),k);if(g.$$typeof===_t)return p(f,m,j,bn(m,g),k);jn(m,g)}return null}function b(f,m,j,g){for(var k=null,w=null,S=m,T=m=0,C=null;S!==null&&T<j.length;T++){S.index>T?(C=S,S=null):C=S.sibling;var A=y(f,S,j[T],g);if(A===null){S===null&&(S=C);break}e&&S&&A.alternate===null&&s(f,S),m=r(A,m,T),w===null?k=A:w.sibling=A,w=A,S=C}if(T===j.length)return a(f,S),ee&&Ps(f,T),k;if(S===null){for(;T<j.length;T++)S=x(f,j[T],g),S!==null&&(m=r(S,m,T),w===null?k=S:w.sibling=S,w=S);return ee&&Ps(f,T),k}for(S=l(S);T<j.length;T++)C=p(S,f,T,j[T],g),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?T:C.key),m=r(C,m,T),w===null?k=C:w.sibling=C,w=C);return e&&S.forEach(function(M){return s(f,M)}),ee&&Ps(f,T),k}function v(f,m,j,g){if(j==null)throw Error(P(151));for(var k=null,w=null,S=m,T=m=0,C=null,A=j.next();S!==null&&!A.done;T++,A=j.next()){S.index>T?(C=S,S=null):C=S.sibling;var M=y(f,S,A.value,g);if(M===null){S===null&&(S=C);break}e&&S&&M.alternate===null&&s(f,S),m=r(M,m,T),w===null?k=M:w.sibling=M,w=M,S=C}if(A.done)return a(f,S),ee&&Ps(f,T),k;if(S===null){for(;!A.done;T++,A=j.next())A=x(f,A.value,g),A!==null&&(m=r(A,m,T),w===null?k=A:w.sibling=A,w=A);return ee&&Ps(f,T),k}for(S=l(S);!A.done;T++,A=j.next())A=p(S,f,T,A.value,g),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?T:A.key),m=r(A,m,T),w===null?k=A:w.sibling=A,w=A);return e&&S.forEach(function(R){return s(f,R)}),ee&&Ps(f,T),k}function N(f,m,j,g){if(typeof j=="object"&&j!==null&&j.type===ca&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case hn:e:{for(var k=j.key;m!==null;){if(m.key===k){if(k=j.type,k===ca){if(m.tag===7){a(f,m.sibling),g=n(m,j.props.children),g.return=f,f=g;break e}}else if(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===os&&$c(k)===m.type){a(f,m.sibling),g=n(m,j.props),ll(g,j),g.return=f,f=g;break e}a(f,m);break}else s(f,m);m=m.sibling}j.type===ca?(g=Hs(j.props.children,f.mode,g,j.key),g.return=f,f=g):(g=Bn(j.type,j.key,j.props,null,f.mode,g),ll(g,j),g.return=f,f=g)}return i(f);case dl:e:{for(k=j.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===j.containerInfo&&m.stateNode.implementation===j.implementation){a(f,m.sibling),g=n(m,j.children||[]),g.return=f,f=g;break e}else{a(f,m);break}else s(f,m);m=m.sibling}g=ci(j,f.mode,g),g.return=f,f=g}return i(f);case os:return k=j._init,j=k(j._payload),N(f,m,j,g)}if(cl(j))return b(f,m,j,g);if(el(j)){if(k=el(j),typeof k!="function")throw Error(P(150));return j=k.call(j),v(f,m,j,g)}if(typeof j.then=="function")return N(f,m,vn(j),g);if(j.$$typeof===_t)return N(f,m,bn(f,j),g);jn(f,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,m!==null&&m.tag===6?(a(f,m.sibling),g=n(m,j),g.return=f,f=g):(a(f,m),g=di(j,f.mode,g),g.return=f,f=g),i(f)):a(f,m)}return function(f,m,j,g){try{Ol=0;var k=N(f,m,j,g);return Ta=null,k}catch(S){if(S===tn||S===zr)throw S;var w=tt(29,S,null,f.mode);return w.lanes=g,w.return=f,w}finally{}}}var Ba=Dh(!0),Eh=Dh(!1),pt=Ot(null),Rt=null;function us(e){var s=e.alternate;xe(ke,ke.current&1),xe(pt,e),Rt===null&&(s===null||za.current!==null||s.memoizedState!==null)&&(Rt=e)}function Lh(e){if(e.tag===22){if(xe(ke,ke.current),xe(pt,e),Rt===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(Rt=e)}}else ms()}function ms(){xe(ke,ke.current),xe(pt,pt.current)}function Gt(e){Ee(pt),Rt===e&&(Rt=null),Ee(ke)}var ke=Ot(0);function dr(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Do(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function hi(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:ue({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var xo={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=lt(),n=js(l);n.payload=s,a!=null&&(n.callback=a),s=Ns(e,n,l),s!==null&&(nt(s,e,l),yl(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=lt(),n=js(l);n.tag=1,n.payload=s,a!=null&&(n.callback=a),s=Ns(e,n,l),s!==null&&(nt(s,e,l),yl(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=lt(),l=js(a);l.tag=2,s!=null&&(l.callback=s),s=Ns(e,l,a),s!==null&&(nt(s,e,a),yl(s,e,a))}};function Qc(e,s,a,l,n,r,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,r,i):s.prototype&&s.prototype.isPureReactComponent?!El(a,l)||!El(n,r):!0}function Xc(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&xo.enqueueReplaceState(s,s.state,null)}function Xs(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=ue({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var cr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Rh(e){cr(e)}function Oh(e){console.error(e)}function Uh(e){cr(e)}function ur(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Zc(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function fo(e,s,a){return a=js(a),a.tag=3,a.payload={element:null},a.callback=function(){ur(e,s)},a}function zh(e){return e=js(e),e.tag=3,e}function Ph(e,s,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var r=l.value;e.payload=function(){return n(r)},e.callback=function(){Zc(s,a,l)}}var i=a.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){Zc(s,a,l),typeof n!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var o=l.stack;this.componentDidCatch(l.value,{componentStack:o!==null?o:""})})}function o0(e,s,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Wl(s,a,n,!0),a=pt.current,a!==null){switch(a.tag){case 13:return Rt===null?wo():a.alternate===null&&be===0&&(be=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===ro?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Si(e,l,n)),!1;case 22:return a.flags|=65536,l===ro?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Si(e,l,n)),!1}throw Error(P(435,a.tag))}return Si(e,l,n),wo(),!1}if(ee)return s=pt.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=n,l!==to&&(e=Error(P(422),{cause:l}),Ll(ft(e,a)))):(l!==to&&(s=Error(P(423),{cause:l}),Ll(ft(s,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=ft(l,a),n=fo(e.stateNode,l,n),ui(e,n),be!==4&&(be=2)),!1;var r=Error(P(520),{cause:l});if(r=ft(r,a),kl===null?kl=[r]:kl.push(r),be!==4&&(be=2),s===null)return!0;l=ft(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=fo(a.stateNode,l,e),ui(a,e),!1;case 1:if(s=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ws===null||!ws.has(r))))return a.flags|=65536,n&=-n,a.lanes|=n,n=zh(n),Ph(n,e,a,l),ui(a,n),!1}a=a.return}while(a!==null);return!1}var Bh=Error(P(461)),De=!1;function Le(e,s,a,l){s.child=e===null?Eh(s,null,a,l):Ba(s,e.child,a,l)}function Jc(e,s,a,l,n){a=a.render;var r=s.ref;if("ref"in l){var i={};for(var o in l)o!=="ref"&&(i[o]=l[o])}else i=l;return $s(s),l=bd(e,s,a,i,r,n),o=yd(),e!==null&&!De?(vd(e,s,n),Kt(e,s,n)):(ee&&o&&ud(s),s.flags|=1,Le(e,s,l,n),s.child)}function Kc(e,s,a,l,n){if(e===null){var r=a.type;return typeof r=="function"&&!cd(r)&&r.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=r,Fh(e,s,r,l,n)):(e=Bn(a.type,null,l,s,s.mode,n),e.ref=s.ref,e.return=s,s.child=e)}if(r=e.child,!Md(e,n)){var i=r.memoizedProps;if(a=a.compare,a=a!==null?a:El,a(i,l)&&e.ref===s.ref)return Kt(e,s,n)}return s.flags|=1,e=$t(r,l),e.ref=s.ref,e.return=s,s.child=e}function Fh(e,s,a,l,n){if(e!==null){var r=e.memoizedProps;if(El(r,l)&&e.ref===s.ref)if(De=!1,s.pendingProps=l=r,Md(e,n))e.flags&131072&&(De=!0);else return s.lanes=e.lanes,Kt(e,s,n)}return go(e,s,a,l,n)}function Hh(e,s,a){var l=s.pendingProps,n=l.children,r=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if(s.flags&128){if(l=r!==null?r.baseLanes|a:a,e!==null){for(n=s.child=e.child,r=0;n!==null;)r=r|n.lanes|n.childLanes,n=n.sibling;s.childLanes=r&~l}else s.childLanes=0,s.child=null;return Wc(e,s,l,a)}if(a&536870912)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fn(s,r!==null?r.cachePool:null),r!==null?Hc(s,r):co(),Lh(s);else return s.lanes=s.childLanes=536870912,Wc(e,s,r!==null?r.baseLanes|a:a,a)}else r!==null?(Fn(s,r.cachePool),Hc(s,r),ms(),s.memoizedState=null):(e!==null&&Fn(s,null),co(),ms());return Le(e,s,n,a),s.child}function Wc(e,s,a,l){var n=xd();return n=n===null?null:{parent:Se._currentValue,pool:n},s.memoizedState={baseLanes:a,cachePool:n},e!==null&&Fn(s,null),co(),Lh(s),e!==null&&Wl(e,s,l,!0),null}function _n(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(P(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function go(e,s,a,l,n){return $s(s),a=bd(e,s,a,l,void 0,n),l=yd(),e!==null&&!De?(vd(e,s,n),Kt(e,s,n)):(ee&&l&&ud(s),s.flags|=1,Le(e,s,a,n),s.child)}function eu(e,s,a,l,n,r){return $s(s),s.updateQueue=null,a=Wm(s,l,a,n),Km(e),l=yd(),e!==null&&!De?(vd(e,s,r),Kt(e,s,r)):(ee&&l&&ud(s),s.flags|=1,Le(e,s,a,r),s.child)}function tu(e,s,a,l,n){if($s(s),s.stateNode===null){var r=ba,i=a.contextType;typeof i=="object"&&i!==null&&(r=Be(i)),r=new a(l,r),s.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=xo,s.stateNode=r,r._reactInternals=s,r=s.stateNode,r.props=l,r.state=s.memoizedState,r.refs={},fd(s),i=a.contextType,r.context=typeof i=="object"&&i!==null?Be(i):ba,r.state=s.memoizedState,i=a.getDerivedStateFromProps,typeof i=="function"&&(hi(s,a,i,l),r.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(i=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),i!==r.state&&xo.enqueueReplaceState(r,r.state,null),jl(s,l,r,n),vl(),r.state=s.memoizedState),typeof r.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){r=s.stateNode;var o=s.memoizedProps,d=Xs(a,o);r.props=d;var u=r.context,h=a.contextType;i=ba,typeof h=="object"&&h!==null&&(i=Be(h));var x=a.getDerivedStateFromProps;h=typeof x=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=s.pendingProps!==o,h||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||u!==i)&&Xc(s,r,l,i),ds=!1;var y=s.memoizedState;r.state=y,jl(s,l,r,n),vl(),u=s.memoizedState,o||y!==u||ds?(typeof x=="function"&&(hi(s,a,x,l),u=s.memoizedState),(d=ds||Qc(s,a,d,l,y,u,i))?(h||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(s.flags|=4194308)):(typeof r.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=u),r.props=l,r.state=u,r.context=i,l=d):(typeof r.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{r=s.stateNode,io(e,s),i=s.memoizedProps,h=Xs(a,i),r.props=h,x=s.pendingProps,y=r.context,u=a.contextType,d=ba,typeof u=="object"&&u!==null&&(d=Be(u)),o=a.getDerivedStateFromProps,(u=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(i!==x||y!==d)&&Xc(s,r,l,d),ds=!1,y=s.memoizedState,r.state=y,jl(s,l,r,n),vl();var p=s.memoizedState;i!==x||y!==p||ds||e!==null&&e.dependencies!==null&&lr(e.dependencies)?(typeof o=="function"&&(hi(s,a,o,l),p=s.memoizedState),(h=ds||Qc(s,a,h,l,y,p,d)||e!==null&&e.dependencies!==null&&lr(e.dependencies))?(u||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(l,p,d),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(l,p,d)),typeof r.componentDidUpdate=="function"&&(s.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(s.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=p),r.props=l,r.state=p,r.context=d,l=h):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(s.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(s.flags|=1024),l=!1)}return r=l,_n(e,s),l=(s.flags&128)!==0,r||l?(r=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:r.render(),s.flags|=1,e!==null&&l?(s.child=Ba(s,e.child,null,n),s.child=Ba(s,null,a,n)):Le(e,s,a,n),s.memoizedState=r.state,e=s.child):e=Kt(e,s,n),e}function su(e,s,a,l){return Kl(),s.flags|=256,Le(e,s,a,l),s.child}var xi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fi(e){return{baseLanes:e,cachePool:$m()}}function gi(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=gt),e}function qh(e,s,a){var l=s.pendingProps,n=!1,r=(s.flags&128)!==0,i;if((i=r)||(i=e!==null&&e.memoizedState===null?!1:(ke.current&2)!==0),i&&(n=!0,s.flags&=-129),i=(s.flags&32)!==0,s.flags&=-33,e===null){if(ee){if(n?us(s):ms(),ee){var o=pe,d;if(d=o){e:{for(d=o,o=Mt;d.nodeType!==8;){if(!o){o=null;break e}if(d=St(d.nextSibling),d===null){o=null;break e}}o=d}o!==null?(s.memoizedState={dehydrated:o,treeContext:qs!==null?{id:It,overflow:Vt}:null,retryLane:536870912,hydrationErrors:null},d=tt(18,null,null,0),d.stateNode=o,d.return=s,s.child=d,Fe=s,pe=null,d=!0):d=!1}d||Gs(s)}if(o=s.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Do(o)?s.lanes=32:s.lanes=536870912,null;Gt(s)}return o=l.children,l=l.fallback,n?(ms(),n=s.mode,o=mr({mode:"hidden",children:o},n),l=Hs(l,n,a,null),o.return=s,l.return=s,o.sibling=l,s.child=o,n=s.child,n.memoizedState=fi(a),n.childLanes=gi(e,i,a),s.memoizedState=xi,l):(us(s),po(s,o))}if(d=e.memoizedState,d!==null&&(o=d.dehydrated,o!==null)){if(r)s.flags&256?(us(s),s.flags&=-257,s=pi(e,s,a)):s.memoizedState!==null?(ms(),s.child=e.child,s.flags|=128,s=null):(ms(),n=l.fallback,o=s.mode,l=mr({mode:"visible",children:l.children},o),n=Hs(n,o,a,null),n.flags|=2,l.return=s,n.return=s,l.sibling=n,s.child=l,Ba(s,e.child,null,a),l=s.child,l.memoizedState=fi(a),l.childLanes=gi(e,i,a),s.memoizedState=xi,s=n);else if(us(s),Do(o)){if(i=o.nextSibling&&o.nextSibling.dataset,i)var u=i.dgst;i=u,l=Error(P(419)),l.stack="",l.digest=i,Ll({value:l,source:null,stack:null}),s=pi(e,s,a)}else if(De||Wl(e,s,a,!1),i=(a&e.childLanes)!==0,De||i){if(i=de,i!==null&&(l=a&-a,l=l&42?1:Wo(l),l=l&(i.suspendedLanes|a)?0:l,l!==0&&l!==d.retryLane))throw d.retryLane=l,Ga(e,l),nt(i,e,l),Bh;o.data==="$?"||wo(),s=pi(e,s,a)}else o.data==="$?"?(s.flags|=192,s.child=e.child,s=null):(e=d.treeContext,pe=St(o.nextSibling),Fe=s,ee=!0,_s=null,Mt=!1,e!==null&&(mt[ht++]=It,mt[ht++]=Vt,mt[ht++]=qs,It=e.id,Vt=e.overflow,qs=s),s=po(s,l.children),s.flags|=4096);return s}return n?(ms(),n=l.fallback,o=s.mode,d=e.child,u=d.sibling,l=$t(d,{mode:"hidden",children:l.children}),l.subtreeFlags=d.subtreeFlags&65011712,u!==null?n=$t(u,n):(n=Hs(n,o,a,null),n.flags|=2),n.return=s,l.return=s,l.sibling=n,s.child=l,l=n,n=s.child,o=e.child.memoizedState,o===null?o=fi(a):(d=o.cachePool,d!==null?(u=Se._currentValue,d=d.parent!==u?{parent:u,pool:u}:d):d=$m(),o={baseLanes:o.baseLanes|a,cachePool:d}),n.memoizedState=o,n.childLanes=gi(e,i,a),s.memoizedState=xi,l):(us(s),a=e.child,e=a.sibling,a=$t(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(i=s.deletions,i===null?(s.deletions=[e],s.flags|=16):i.push(e)),s.child=a,s.memoizedState=null,a)}function po(e,s){return s=mr({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function mr(e,s){return e=tt(22,e,null,s),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function pi(e,s,a){return Ba(s,e.child,null,a),e=po(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function au(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),ao(e.return,s,a)}function bi(e,s,a,l,n){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n}:(r.isBackwards=s,r.rendering=null,r.renderingStartTime=0,r.last=l,r.tail=a,r.tailMode=n)}function _h(e,s,a){var l=s.pendingProps,n=l.revealOrder,r=l.tail;if(Le(e,s,l.children,a),l=ke.current,l&2)l=l&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&au(e,a,s);else if(e.tag===19)au(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(xe(ke,l),n){case"forwards":for(a=s.child,n=null;a!==null;)e=a.alternate,e!==null&&dr(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=s.child,s.child=null):(n=a.sibling,a.sibling=null),bi(s,!1,n,a,r);break;case"backwards":for(a=null,n=s.child,s.child=null;n!==null;){if(e=n.alternate,e!==null&&dr(e)===null){s.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}bi(s,!0,a,null,r);break;case"together":bi(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Kt(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),Ds|=s.lanes,!(a&s.childLanes))if(e!==null){if(Wl(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(P(153));if(s.child!==null){for(e=s.child,a=$t(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=$t(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Md(e,s){return e.lanes&s?!0:(e=e.dependencies,!!(e!==null&&lr(e)))}function d0(e,s,a){switch(s.tag){case 3:Zn(s,s.stateNode.containerInfo),cs(s,Se,e.memoizedState.cache),Kl();break;case 27:case 5:Yi(s);break;case 4:Zn(s,s.stateNode.containerInfo);break;case 10:cs(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(us(s),s.flags|=128,null):a&s.child.childLanes?qh(e,s,a):(us(s),e=Kt(e,s,a),e!==null?e.sibling:null);us(s);break;case 19:var n=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Wl(e,s,a,!1),l=(a&s.childLanes)!==0),n){if(l)return _h(e,s,a);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),xe(ke,ke.current),l)break;return null;case 22:case 23:return s.lanes=0,Hh(e,s,a);case 24:cs(s,Se,e.memoizedState.cache)}return Kt(e,s,a)}function Ih(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)De=!0;else{if(!Md(e,a)&&!(s.flags&128))return De=!1,d0(e,s,a);De=!!(e.flags&131072)}else De=!1,ee&&s.flags&1048576&&Ym(s,ar,s.index);switch(s.lanes=0,s.tag){case 16:e:{e=s.pendingProps;var l=s.elementType,n=l._init;if(l=n(l._payload),s.type=l,typeof l=="function")cd(l)?(e=Xs(l,e),s.tag=1,s=tu(null,s,l,e,a)):(s.tag=0,s=go(null,s,l,e,a));else{if(l!=null){if(n=l.$$typeof,n===Zo){s.tag=11,s=Jc(null,s,l,e,a);break e}else if(n===Jo){s.tag=14,s=Kc(null,s,l,e,a);break e}}throw s=Ii(l)||l,Error(P(306,s,""))}}return s;case 0:return go(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,n=Xs(l,s.pendingProps),tu(e,s,l,n,a);case 3:e:{if(Zn(s,s.stateNode.containerInfo),e===null)throw Error(P(387));l=s.pendingProps;var r=s.memoizedState;n=r.element,io(e,s),jl(s,l,null,a);var i=s.memoizedState;if(l=i.cache,cs(s,Se,l),l!==r.cache&&lo(s,[Se],a,!0),vl(),l=i.element,r.isDehydrated)if(r={element:l,isDehydrated:!1,cache:i.cache},s.updateQueue.baseState=r,s.memoizedState=r,s.flags&256){s=su(e,s,l,a);break e}else if(l!==n){n=ft(Error(P(424)),s),Ll(n),s=su(e,s,l,a);break e}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pe=St(e.firstChild),Fe=s,ee=!0,_s=null,Mt=!0,a=Eh(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Kl(),l===n){s=Kt(e,s,a);break e}Le(e,s,l,a)}s=s.child}return s;case 26:return _n(e,s),e===null?(a=vu(s.type,null,s.pendingProps,null))?s.memoizedState=a:ee||(a=s.type,e=s.pendingProps,l=yr(vs.current).createElement(a),l[Pe]=s,l[$e]=e,Ue(l,a,e),Me(l),s.stateNode=l):s.memoizedState=vu(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return Yi(s),e===null&&ee&&(l=s.stateNode=Mx(s.type,s.pendingProps,vs.current),Fe=s,Mt=!0,n=pe,Rs(s.type)?(Eo=n,pe=St(l.firstChild)):pe=n),Le(e,s,s.pendingProps.children,a),_n(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&ee&&((n=l=pe)&&(l=P0(l,s.type,s.pendingProps,Mt),l!==null?(s.stateNode=l,Fe=s,pe=St(l.firstChild),Mt=!1,n=!0):n=!1),n||Gs(s)),Yi(s),n=s.type,r=s.pendingProps,i=e!==null?e.memoizedProps:null,l=r.children,To(n,r)?l=null:i!==null&&To(n,i)&&(s.flags|=32),s.memoizedState!==null&&(n=bd(e,s,t0,null,null,a),Bl._currentValue=n),_n(e,s),Le(e,s,l,a),s.child;case 6:return e===null&&ee&&((e=a=pe)&&(a=B0(a,s.pendingProps,Mt),a!==null?(s.stateNode=a,Fe=s,pe=null,e=!0):e=!1),e||Gs(s)),null;case 13:return qh(e,s,a);case 4:return Zn(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=Ba(s,null,l,a):Le(e,s,l,a),s.child;case 11:return Jc(e,s,s.type,s.pendingProps,a);case 7:return Le(e,s,s.pendingProps,a),s.child;case 8:return Le(e,s,s.pendingProps.children,a),s.child;case 12:return Le(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,cs(s,s.type,l.value),Le(e,s,l.children,a),s.child;case 9:return n=s.type._context,l=s.pendingProps.children,$s(s),n=Be(n),l=l(n),s.flags|=1,Le(e,s,l,a),s.child;case 14:return Kc(e,s,s.type,s.pendingProps,a);case 15:return Fh(e,s,s.type,s.pendingProps,a);case 19:return _h(e,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},e===null?(a=mr(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=$t(e.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Hh(e,s,a);case 24:return $s(s),l=Be(Se),e===null?(n=xd(),n===null&&(n=de,r=hd(),n.pooledCache=r,r.refCount++,r!==null&&(n.pooledCacheLanes|=a),n=r),s.memoizedState={parent:l,cache:n},fd(s),cs(s,Se,n)):(e.lanes&a&&(io(e,s),jl(s,null,null,a),vl()),n=e.memoizedState,r=s.memoizedState,n.parent!==l?(n={parent:l,cache:l},s.memoizedState=n,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=n),cs(s,Se,l)):(l=r.cache,cs(s,Se,l),l!==n.cache&&lo(s,[Se],a,!0))),Le(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(P(156,s.tag))}function Bt(e){e.flags|=4}function lu(e,s){if(s.type!=="stylesheet"||s.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Lx(s)){if(s=pt.current,s!==null&&((W&4194048)===W?Rt!==null:(W&62914560)!==W&&!(W&536870912)||s!==Rt))throw bl=ro,Qm;e.flags|=8192}}function Nn(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?fm():536870912,e.lanes|=s,Fa|=s)}function nl(e,s){if(!ee)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ge(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function c0(e,s,a){var l=s.pendingProps;switch(md(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(s),null;case 1:return ge(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Qt(Se),La(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(al(s)?Bt(s):e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Oc())),ge(s),null;case 26:return a=s.memoizedState,e===null?(Bt(s),a!==null?(ge(s),lu(s,a)):(ge(s),s.flags&=-16777217)):a?a!==e.memoizedState?(Bt(s),ge(s),lu(s,a)):(ge(s),s.flags&=-16777217):(e.memoizedProps!==l&&Bt(s),ge(s),s.flags&=-16777217),null;case 27:Jn(s),a=vs.current;var n=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Bt(s);else{if(!l){if(s.stateNode===null)throw Error(P(166));return ge(s),null}e=Et.current,al(s)?Lc(s):(e=Mx(n,l,a),s.stateNode=e,Bt(s))}return ge(s),null;case 5:if(Jn(s),a=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Bt(s);else{if(!l){if(s.stateNode===null)throw Error(P(166));return ge(s),null}if(e=Et.current,al(s))Lc(s);else{switch(n=yr(vs.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?n.createElement("select",{is:l.is}):n.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?n.createElement(a,{is:l.is}):n.createElement(a)}}e[Pe]=s,e[$e]=l;e:for(n=s.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s.stateNode=e;e:switch(Ue(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Bt(s)}}return ge(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&Bt(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(P(166));if(e=vs.current,al(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,n=Fe,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[Pe]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cx(e.nodeValue,a)),e||Gs(s)}else e=yr(e).createTextNode(l),e[Pe]=s,s.stateNode=e}return ge(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=al(s),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(P(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(P(317));n[Pe]=s}else Kl(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ge(s),n=!1}else n=Oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return s.flags&256?(Gt(s),s):(Gt(s),null)}if(Gt(s),s.flags&128)return s.lanes=a,s;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=s.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool);var r=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==n&&(l.flags|=2048)}return a!==e&&a&&(s.child.flags|=8192),Nn(s,s.updateQueue),ge(s),null;case 4:return La(),e===null&&Pd(s.stateNode.containerInfo),ge(s),null;case 10:return Qt(s.type),ge(s),null;case 19:if(Ee(ke),n=s.memoizedState,n===null)return ge(s),null;if(l=(s.flags&128)!==0,r=n.rendering,r===null)if(l)nl(n,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(r=dr(e),r!==null){for(s.flags|=128,nl(n,!1),e=r.updateQueue,s.updateQueue=e,Nn(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)Vm(a,e),a=a.sibling;return xe(ke,ke.current&1|2),s.child}e=e.sibling}n.tail!==null&&Lt()>xr&&(s.flags|=128,l=!0,nl(n,!1),s.lanes=4194304)}else{if(!l)if(e=dr(r),e!==null){if(s.flags|=128,l=!0,e=e.updateQueue,s.updateQueue=e,Nn(s,e),nl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!r.alternate&&!ee)return ge(s),null}else 2*Lt()-n.renderingStartTime>xr&&a!==536870912&&(s.flags|=128,l=!0,nl(n,!1),s.lanes=4194304);n.isBackwards?(r.sibling=s.child,s.child=r):(e=n.last,e!==null?e.sibling=r:s.child=r,n.last=r)}return n.tail!==null?(s=n.tail,n.rendering=s,n.tail=s.sibling,n.renderingStartTime=Lt(),s.sibling=null,e=ke.current,xe(ke,l?e&1|2:e&1),s):(ge(s),null);case 22:case 23:return Gt(s),gd(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?a&536870912&&!(s.flags&128)&&(ge(s),s.subtreeFlags&6&&(s.flags|=8192)):ge(s),a=s.updateQueue,a!==null&&Nn(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&Ee(Is),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Qt(Se),ge(s),null;case 25:return null;case 30:return null}throw Error(P(156,s.tag))}function u0(e,s){switch(md(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Qt(Se),La(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return Jn(s),null;case 13:if(Gt(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(P(340));Kl()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return Ee(ke),null;case 4:return La(),null;case 10:return Qt(s.type),null;case 22:case 23:return Gt(s),gd(),e!==null&&Ee(Is),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Qt(Se),null;case 25:return null;default:return null}}function Vh(e,s){switch(md(s),s.tag){case 3:Qt(Se),La();break;case 26:case 27:case 5:Jn(s);break;case 4:La();break;case 13:Gt(s);break;case 19:Ee(ke);break;case 10:Qt(s.type);break;case 22:case 23:Gt(s),gd(),e!==null&&Ee(Is);break;case 24:Qt(Se)}}function ln(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var r=a.create,i=a.inst;l=r(),i.destroy=l}a=a.next}while(a!==n)}}catch(o){oe(s,s.return,o)}}function Ms(e,s,a){try{var l=s.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var r=n.next;l=r;do{if((l.tag&e)===e){var i=l.inst,o=i.destroy;if(o!==void 0){i.destroy=void 0,n=s;var d=a,u=o;try{u()}catch(h){oe(n,d,h)}}}l=l.next}while(l!==r)}}catch(h){oe(s,s.return,h)}}function Yh(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{Jm(s,a)}catch(l){oe(e,e.return,l)}}}function Gh(e,s,a){a.props=Xs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){oe(e,s,l)}}function wl(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){oe(e,s,n)}}function Dt(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){oe(e,s,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){oe(e,s,n)}else a.current=null}function $h(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){oe(e,e.return,n)}}function yi(e,s,a){try{var l=e.stateNode;L0(l,e.type,a,s),l[$e]=s}catch(n){oe(e,e.return,n)}}function Qh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rs(e.type)||e.tag===4}function vi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bo(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ir));else if(l!==4&&(l===27&&Rs(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(bo(e,s,a),e=e.sibling;e!==null;)bo(e,s,a),e=e.sibling}function hr(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&Rs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(hr(e,s,a),e=e.sibling;e!==null;)hr(e,s,a),e=e.sibling}function Xh(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=s.attributes;n.length;)s.removeAttributeNode(n[0]);Ue(s,l,a),s[Pe]=e,s[$e]=a}catch(r){oe(e,e.return,r)}}var qt=!1,ve=!1,ji=!1,nu=typeof WeakSet=="function"?WeakSet:Set,Te=null;function m0(e,s){if(e=e.containerInfo,Co=wr,e=zm(e),id(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,r=l.focusNode;l=l.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var i=0,o=-1,d=-1,u=0,h=0,x=e,y=null;t:for(;;){for(var p;x!==a||n!==0&&x.nodeType!==3||(o=i+n),x!==r||l!==0&&x.nodeType!==3||(d=i+l),x.nodeType===3&&(i+=x.nodeValue.length),(p=x.firstChild)!==null;)y=x,x=p;for(;;){if(x===e)break t;if(y===a&&++u===n&&(o=i),y===r&&++h===l&&(d=i),(p=x.nextSibling)!==null)break;x=y,y=x.parentNode}x=p}a=o===-1||d===-1?null:{start:o,end:d}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ao={focusedElem:e,selectionRange:a},wr=!1,Te=s;Te!==null;)if(s=Te,e=s.child,(s.subtreeFlags&1024)!==0&&e!==null)e.return=s,Te=e;else for(;Te!==null;){switch(s=Te,r=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,a=s,n=r.memoizedProps,r=r.memoizedState,l=a.stateNode;try{var b=Xs(a.type,n,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(b,r),l.__reactInternalSnapshotBeforeUpdate=e}catch(v){oe(a,a.return,v)}}break;case 3:if(e&1024){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Mo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(P(163))}if(e=s.sibling,e!==null){e.return=s.return,Te=e;break}Te=s.return}}function Zh(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ls(e,a),l&4&&ln(5,a);break;case 1:if(ls(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(i){oe(a,a.return,i)}else{var n=Xs(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(n,s,e.__reactInternalSnapshotBeforeUpdate)}catch(i){oe(a,a.return,i)}}l&64&&Yh(a),l&512&&wl(a,a.return);break;case 3:if(ls(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Jm(e,s)}catch(i){oe(a,a.return,i)}}break;case 27:s===null&&l&4&&Xh(a);case 26:case 5:ls(e,a),s===null&&l&4&&$h(a),l&512&&wl(a,a.return);break;case 12:ls(e,a);break;case 13:ls(e,a),l&4&&Wh(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=j0.bind(null,a),F0(e,a))));break;case 22:if(l=a.memoizedState!==null||qt,!l){s=s!==null&&s.memoizedState!==null||ve,n=qt;var r=ve;qt=l,(ve=s)&&!r?is(e,a,(a.subtreeFlags&8772)!==0):ls(e,a),qt=n,ve=r}break;case 30:break;default:ls(e,a)}}function Jh(e){var s=e.alternate;s!==null&&(e.alternate=null,Jh(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&td(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,Ye=!1;function Ft(e,s,a){for(a=a.child;a!==null;)Kh(e,s,a),a=a.sibling}function Kh(e,s,a){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount($l,a)}catch{}switch(a.tag){case 26:ve||Dt(a,s),Ft(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ve||Dt(a,s);var l=me,n=Ye;Rs(a.type)&&(me=a.stateNode,Ye=!1),Ft(e,s,a),Al(a.stateNode),me=l,Ye=n;break;case 5:ve||Dt(a,s);case 6:if(l=me,n=Ye,me=null,Ft(e,s,a),me=l,Ye=n,me!==null)if(Ye)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(a.stateNode)}catch(r){oe(a,s,r)}else try{me.removeChild(a.stateNode)}catch(r){oe(a,s,r)}break;case 18:me!==null&&(Ye?(e=me,pu(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ql(e)):pu(me,a.stateNode));break;case 4:l=me,n=Ye,me=a.stateNode.containerInfo,Ye=!0,Ft(e,s,a),me=l,Ye=n;break;case 0:case 11:case 14:case 15:ve||Ms(2,a,s),ve||Ms(4,a,s),Ft(e,s,a);break;case 1:ve||(Dt(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Gh(a,s,l)),Ft(e,s,a);break;case 21:Ft(e,s,a);break;case 22:ve=(l=ve)||a.memoizedState!==null,Ft(e,s,a),ve=l;break;default:Ft(e,s,a)}}function Wh(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ql(e)}catch(a){oe(s,s.return,a)}}function h0(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new nu),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new nu),s;default:throw Error(P(435,e.tag))}}function Ni(e,s){var a=h0(e);s.forEach(function(l){var n=N0.bind(null,e,l);a.has(l)||(a.add(l),l.then(n,n))})}function Ze(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],r=e,i=s,o=i;e:for(;o!==null;){switch(o.tag){case 27:if(Rs(o.type)){me=o.stateNode,Ye=!1;break e}break;case 5:me=o.stateNode,Ye=!1;break e;case 3:case 4:me=o.stateNode.containerInfo,Ye=!0;break e}o=o.return}if(me===null)throw Error(P(160));Kh(r,i,n),me=null,Ye=!1,r=n.alternate,r!==null&&(r.return=null),n.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)ex(s,e),s=s.sibling}var wt=null;function ex(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ze(s,e),Je(e),l&4&&(Ms(3,e,e.return),ln(3,e),Ms(5,e,e.return));break;case 1:Ze(s,e),Je(e),l&512&&(ve||a===null||Dt(a,a.return)),l&64&&qt&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=wt;if(Ze(s,e),Je(e),l&512&&(ve||a===null||Dt(a,a.return)),l&4){var r=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":r=n.getElementsByTagName("title")[0],(!r||r[Zl]||r[Pe]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=n.createElement(l),n.head.insertBefore(r,n.querySelector("head > title"))),Ue(r,l,a),r[Pe]=e,Me(r),l=r;break e;case"link":var i=Nu("link","href",n).get(l+(a.href||""));if(i){for(var o=0;o<i.length;o++)if(r=i[o],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){i.splice(o,1);break t}}r=n.createElement(l),Ue(r,l,a),n.head.appendChild(r);break;case"meta":if(i=Nu("meta","content",n).get(l+(a.content||""))){for(o=0;o<i.length;o++)if(r=i[o],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){i.splice(o,1);break t}}r=n.createElement(l),Ue(r,l,a),n.head.appendChild(r);break;default:throw Error(P(468,l))}r[Pe]=e,Me(r),l=r}e.stateNode=l}else wu(n,e.type,e.stateNode);else e.stateNode=ju(n,l,e.memoizedProps);else r!==l?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,l===null?wu(n,e.type,e.stateNode):ju(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&yi(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ze(s,e),Je(e),l&512&&(ve||a===null||Dt(a,a.return)),a!==null&&l&4&&yi(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ze(s,e),Je(e),l&512&&(ve||a===null||Dt(a,a.return)),e.flags&32){n=e.stateNode;try{Oa(n,"")}catch(p){oe(e,e.return,p)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,yi(e,n,a!==null?a.memoizedProps:n)),l&1024&&(ji=!0);break;case 6:if(Ze(s,e),Je(e),l&4){if(e.stateNode===null)throw Error(P(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(p){oe(e,e.return,p)}}break;case 3:if(Yn=null,n=wt,wt=vr(s.containerInfo),Ze(s,e),wt=n,Je(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ql(s.containerInfo)}catch(p){oe(e,e.return,p)}ji&&(ji=!1,tx(e));break;case 4:l=wt,wt=vr(e.stateNode.containerInfo),Ze(s,e),Je(e),wt=l;break;case 12:Ze(s,e),Je(e);break;case 13:Ze(s,e),Je(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Od=Lt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ni(e,l)));break;case 22:n=e.memoizedState!==null;var d=a!==null&&a.memoizedState!==null,u=qt,h=ve;if(qt=u||n,ve=h||d,Ze(s,e),ve=h,qt=u,Je(e),l&8192)e:for(s=e.stateNode,s._visibility=n?s._visibility&-2:s._visibility|1,n&&(a===null||d||qt||ve||Bs(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){d=a=s;try{if(r=d.stateNode,n)i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{o=d.stateNode;var x=d.memoizedProps.style,y=x!=null&&x.hasOwnProperty("display")?x.display:null;o.style.display=y==null||typeof y=="boolean"?"":(""+y).trim()}}catch(p){oe(d,d.return,p)}}}else if(s.tag===6){if(a===null){d=s;try{d.stateNode.nodeValue=n?"":d.memoizedProps}catch(p){oe(d,d.return,p)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ni(e,a))));break;case 19:Ze(s,e),Je(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ni(e,l)));break;case 30:break;case 21:break;default:Ze(s,e),Je(e)}}function Je(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(Qh(l)){a=l;break}l=l.return}if(a==null)throw Error(P(160));switch(a.tag){case 27:var n=a.stateNode,r=vi(e);hr(e,r,n);break;case 5:var i=a.stateNode;a.flags&32&&(Oa(i,""),a.flags&=-33);var o=vi(e);hr(e,o,i);break;case 3:case 4:var d=a.stateNode.containerInfo,u=vi(e);bo(e,u,d);break;default:throw Error(P(161))}}catch(h){oe(e,e.return,h)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function tx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;tx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function ls(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Zh(e,s.alternate,s),s=s.sibling}function Bs(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Ms(4,s,s.return),Bs(s);break;case 1:Dt(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Gh(s,s.return,a),Bs(s);break;case 27:Al(s.stateNode);case 26:case 5:Dt(s,s.return),Bs(s);break;case 22:s.memoizedState===null&&Bs(s);break;case 30:Bs(s);break;default:Bs(s)}e=e.sibling}}function is(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,n=e,r=s,i=r.flags;switch(r.tag){case 0:case 11:case 15:is(n,r,a),ln(4,r);break;case 1:if(is(n,r,a),l=r,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(u){oe(l,l.return,u)}if(l=r,n=l.updateQueue,n!==null){var o=l.stateNode;try{var d=n.shared.hiddenCallbacks;if(d!==null)for(n.shared.hiddenCallbacks=null,n=0;n<d.length;n++)Zm(d[n],o)}catch(u){oe(l,l.return,u)}}a&&i&64&&Yh(r),wl(r,r.return);break;case 27:Xh(r);case 26:case 5:is(n,r,a),a&&l===null&&i&4&&$h(r),wl(r,r.return);break;case 12:is(n,r,a);break;case 13:is(n,r,a),a&&i&4&&Wh(n,r);break;case 22:r.memoizedState===null&&is(n,r,a),wl(r,r.return);break;case 30:break;default:is(n,r,a)}s=s.sibling}}function Dd(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&en(a))}function Ed(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&en(e))}function At(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sx(e,s,a,l),s=s.sibling}function sx(e,s,a,l){var n=s.flags;switch(s.tag){case 0:case 11:case 15:At(e,s,a,l),n&2048&&ln(9,s);break;case 1:At(e,s,a,l);break;case 3:At(e,s,a,l),n&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&en(e)));break;case 12:if(n&2048){At(e,s,a,l),e=s.stateNode;try{var r=s.memoizedProps,i=r.id,o=r.onPostCommit;typeof o=="function"&&o(i,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(d){oe(s,s.return,d)}}else At(e,s,a,l);break;case 13:At(e,s,a,l);break;case 23:break;case 22:r=s.stateNode,i=s.alternate,s.memoizedState!==null?r._visibility&2?At(e,s,a,l):Sl(e,s):r._visibility&2?At(e,s,a,l):(r._visibility|=2,oa(e,s,a,l,(s.subtreeFlags&10256)!==0)),n&2048&&Dd(i,s);break;case 24:At(e,s,a,l),n&2048&&Ed(s.alternate,s);break;default:At(e,s,a,l)}}function oa(e,s,a,l,n){for(n=n&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var r=e,i=s,o=a,d=l,u=i.flags;switch(i.tag){case 0:case 11:case 15:oa(r,i,o,d,n),ln(8,i);break;case 23:break;case 22:var h=i.stateNode;i.memoizedState!==null?h._visibility&2?oa(r,i,o,d,n):Sl(r,i):(h._visibility|=2,oa(r,i,o,d,n)),n&&u&2048&&Dd(i.alternate,i);break;case 24:oa(r,i,o,d,n),n&&u&2048&&Ed(i.alternate,i);break;default:oa(r,i,o,d,n)}s=s.sibling}}function Sl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,n=l.flags;switch(l.tag){case 22:Sl(a,l),n&2048&&Dd(l.alternate,l);break;case 24:Sl(a,l),n&2048&&Ed(l.alternate,l);break;default:Sl(a,l)}s=s.sibling}}var ml=8192;function aa(e){if(e.subtreeFlags&ml)for(e=e.child;e!==null;)ax(e),e=e.sibling}function ax(e){switch(e.tag){case 26:aa(e),e.flags&ml&&e.memoizedState!==null&&K0(wt,e.memoizedState,e.memoizedProps);break;case 5:aa(e);break;case 3:case 4:var s=wt;wt=vr(e.stateNode.containerInfo),aa(e),wt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ml,ml=16777216,aa(e),ml=s):aa(e));break;default:aa(e)}}function lx(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function rl(e){var s=e.deletions;if(e.flags&16){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Te=l,rx(l,e)}lx(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nx(e),e=e.sibling}function nx(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Ms(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,In(e)):rl(e);break;default:rl(e)}}function In(e){var s=e.deletions;if(e.flags&16){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Te=l,rx(l,e)}lx(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Ms(8,s,s.return),In(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,In(s));break;default:In(s)}e=e.sibling}}function rx(e,s){for(;Te!==null;){var a=Te;switch(a.tag){case 0:case 11:case 15:Ms(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:en(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Te=l;else e:for(a=e;Te!==null;){l=Te;var n=l.sibling,r=l.return;if(Jh(l),l===a){Te=null;break e}if(n!==null){n.return=r,Te=n;break e}Te=r}}}var x0={getCacheForType:function(e){var s=Be(Se),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a}},f0=typeof WeakMap=="function"?WeakMap:Map,le=0,de=null,K=null,W=0,ae=0,et=null,gs=!1,$a=!1,Ld=!1,Wt=0,be=0,Ds=0,Vs=0,Rd=0,gt=0,Fa=0,kl=null,Ge=null,yo=!1,Od=0,xr=1/0,fr=null,ws=null,Oe=0,Ss=null,Ha=null,Ma=0,vo=0,jo=null,ix=null,Cl=0,No=null;function lt(){if(le&2&&W!==0)return W&-W;if(G.T!==null){var e=Ua;return e!==0?e:zd()}return bm()}function ox(){gt===0&&(gt=!(W&536870912)||ee?xm():536870912);var e=pt.current;return e!==null&&(e.flags|=32),gt}function nt(e,s,a){(e===de&&(ae===2||ae===9)||e.cancelPendingCommit!==null)&&(qa(e,0),ps(e,W,gt,!1)),Xl(e,a),(!(le&2)||e!==de)&&(e===de&&(!(le&2)&&(Vs|=a),be===4&&ps(e,W,gt,!1)),Ut(e))}function dx(e,s,a){if(le&6)throw Error(P(327));var l=!a&&(s&124)===0&&(s&e.expiredLanes)===0||Ql(e,s),n=l?b0(e,s):wi(e,s,!0),r=l;do{if(n===0){$a&&!l&&ps(e,s,0,!1);break}else{if(a=e.current.alternate,r&&!g0(a)){n=wi(e,s,!1),r=!1;continue}if(n===2){if(r=s,e.errorRecoveryDisabledLanes&r)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){s=i;e:{var o=e;n=kl;var d=o.current.memoizedState.isDehydrated;if(d&&(qa(o,i).flags|=256),i=wi(o,i,!1),i!==2){if(Ld&&!d){o.errorRecoveryDisabledLanes|=r,Vs|=r,n=4;break e}r=Ge,Ge=n,r!==null&&(Ge===null?Ge=r:Ge.push.apply(Ge,r))}n=i}if(r=!1,n!==2)continue}}if(n===1){qa(e,0),ps(e,s,0,!0);break}e:{switch(l=e,r=n,r){case 0:case 1:throw Error(P(345));case 4:if((s&4194048)!==s)break;case 6:ps(l,s,gt,!gs);break e;case 2:Ge=null;break;case 3:case 5:break;default:throw Error(P(329))}if((s&62914560)===s&&(n=Od+300-Lt(),10<n)){if(ps(l,s,gt,!gs),Dr(l,0,!0)!==0)break e;l.timeoutHandle=Tx(ru.bind(null,l,a,Ge,fr,yo,s,gt,Vs,Fa,gs,r,2,-0,0),n);break e}ru(l,a,Ge,fr,yo,s,gt,Vs,Fa,gs,r,0,-0,0)}}break}while(!0);Ut(e)}function ru(e,s,a,l,n,r,i,o,d,u,h,x,y,p){if(e.timeoutHandle=-1,x=s.subtreeFlags,(x&8192||(x&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:J0},ax(s),x=W0(),x!==null)){e.cancelPendingCommit=x(ou.bind(null,e,s,r,a,l,n,i,o,d,h,1,y,p)),ps(e,r,i,!u);return}ou(e,s,r,a,l,n,i,o,d)}function g0(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],r=n.getSnapshot;n=n.value;try{if(!rt(r(),n))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(e,s,a,l){s&=~Rd,s&=~Vs,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var n=s;0<n;){var r=31-at(n),i=1<<r;l[r]=-1,n&=~i}a!==0&&gm(e,a,s)}function Hr(){return le&6?!0:(nn(0),!1)}function Ud(){if(K!==null){if(ae===0)var e=K.return;else e=K,Yt=ea=null,jd(e),Ta=null,Ol=0,e=K;for(;e!==null;)Vh(e.alternate,e),e=e.return;K=null}}function qa(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,O0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ud(),de=e,K=a=$t(e.current,null),W=s,ae=0,et=null,gs=!1,$a=Ql(e,s),Ld=!1,Fa=gt=Rd=Vs=Ds=be=0,Ge=kl=null,yo=!1,s&8&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var n=31-at(l),r=1<<n;s|=e[n],l&=~r}return Wt=s,Or(),a}function cx(e,s){Z=null,G.H=or,s===tn||s===zr?(s=Bc(),ae=3):s===Qm?(s=Bc(),ae=4):ae=s===Bh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,et=s,K===null&&(be=1,ur(e,ft(s,e.current)))}function ux(){var e=G.H;return G.H=or,e===null?or:e}function mx(){var e=G.A;return G.A=x0,e}function wo(){be=4,gs||(W&4194048)!==W&&pt.current!==null||($a=!0),!(Ds&134217727)&&!(Vs&134217727)||de===null||ps(de,W,gt,!1)}function wi(e,s,a){var l=le;le|=2;var n=ux(),r=mx();(de!==e||W!==s)&&(fr=null,qa(e,s)),s=!1;var i=be;e:do try{if(ae!==0&&K!==null){var o=K,d=et;switch(ae){case 8:Ud(),i=6;break e;case 3:case 2:case 9:case 6:pt.current===null&&(s=!0);var u=ae;if(ae=0,et=null,ja(e,o,d,u),a&&$a){i=0;break e}break;default:u=ae,ae=0,et=null,ja(e,o,d,u)}}p0(),i=be;break}catch(h){cx(e,h)}while(!0);return s&&e.shellSuspendCounter++,Yt=ea=null,le=l,G.H=n,G.A=r,K===null&&(de=null,W=0,Or()),i}function p0(){for(;K!==null;)hx(K)}function b0(e,s){var a=le;le|=2;var l=ux(),n=mx();de!==e||W!==s?(fr=null,xr=Lt()+500,qa(e,s)):$a=Ql(e,s);e:do try{if(ae!==0&&K!==null){s=K;var r=et;t:switch(ae){case 1:ae=0,et=null,ja(e,s,r,1);break;case 2:case 9:if(Pc(r)){ae=0,et=null,iu(s);break}s=function(){ae!==2&&ae!==9||de!==e||(ae=7),Ut(e)},r.then(s,s);break e;case 3:ae=7;break e;case 4:ae=5;break e;case 7:Pc(r)?(ae=0,et=null,iu(s)):(ae=0,et=null,ja(e,s,r,7));break;case 5:var i=null;switch(K.tag){case 26:i=K.memoizedState;case 5:case 27:var o=K;if(!i||Lx(i)){ae=0,et=null;var d=o.sibling;if(d!==null)K=d;else{var u=o.return;u!==null?(K=u,qr(u)):K=null}break t}}ae=0,et=null,ja(e,s,r,5);break;case 6:ae=0,et=null,ja(e,s,r,6);break;case 8:Ud(),be=6;break e;default:throw Error(P(462))}}y0();break}catch(h){cx(e,h)}while(!0);return Yt=ea=null,G.H=l,G.A=n,le=a,K!==null?0:(de=null,W=0,Or(),be)}function y0(){for(;K!==null&&!qf();)hx(K)}function hx(e){var s=Ih(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,s===null?qr(e):K=s}function iu(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=eu(a,s,s.pendingProps,s.type,void 0,W);break;case 11:s=eu(a,s,s.pendingProps,s.type.render,s.ref,W);break;case 5:jd(s);default:Vh(a,s),s=K=Vm(s,Wt),s=Ih(a,s,Wt)}e.memoizedProps=e.pendingProps,s===null?qr(e):K=s}function ja(e,s,a,l){Yt=ea=null,jd(s),Ta=null,Ol=0;var n=s.return;try{if(o0(e,n,s,a,W)){be=1,ur(e,ft(a,e.current)),K=null;return}}catch(r){if(n!==null)throw K=n,r;be=1,ur(e,ft(a,e.current)),K=null;return}s.flags&32768?(ee||l===1?e=!0:$a||W&536870912?e=!1:(gs=e=!0,(l===2||l===9||l===3||l===6)&&(l=pt.current,l!==null&&l.tag===13&&(l.flags|=16384))),xx(s,e)):qr(s)}function qr(e){var s=e;do{if(s.flags&32768){xx(s,gs);return}e=s.return;var a=c0(s.alternate,s,Wt);if(a!==null){K=a;return}if(s=s.sibling,s!==null){K=s;return}K=s=e}while(s!==null);be===0&&(be=5)}function xx(e,s){do{var a=u0(e.alternate,e);if(a!==null){a.flags&=32767,K=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){K=e;return}K=e=a}while(e!==null);be=6,K=null}function ou(e,s,a,l,n,r,i,o,d){e.cancelPendingCommit=null;do _r();while(Oe!==0);if(le&6)throw Error(P(327));if(s!==null){if(s===e.current)throw Error(P(177));if(r=s.lanes|s.childLanes,r|=od,Jf(e,a,r,i,o,d),e===de&&(K=de=null,W=0),Ha=s,Ss=e,Ma=a,vo=r,jo=n,ix=l,s.subtreeFlags&10256||s.flags&10256?(e.callbackNode=null,e.callbackPriority=0,w0(Kn,function(){return yx(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,s.subtreeFlags&13878||l){l=G.T,G.T=null,n=te.p,te.p=2,i=le,le|=4;try{m0(e,s,a)}finally{le=i,te.p=n,G.T=l}}Oe=1,fx(),gx(),px()}}function fx(){if(Oe===1){Oe=0;var e=Ss,s=Ha,a=(s.flags&13878)!==0;if(s.subtreeFlags&13878||a){a=G.T,G.T=null;var l=te.p;te.p=2;var n=le;le|=4;try{ex(s,e);var r=Ao,i=zm(e.containerInfo),o=r.focusedElem,d=r.selectionRange;if(i!==o&&o&&o.ownerDocument&&Um(o.ownerDocument.documentElement,o)){if(d!==null&&id(o)){var u=d.start,h=d.end;if(h===void 0&&(h=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(h,o.value.length);else{var x=o.ownerDocument||document,y=x&&x.defaultView||window;if(y.getSelection){var p=y.getSelection(),b=o.textContent.length,v=Math.min(d.start,b),N=d.end===void 0?v:Math.min(d.end,b);!p.extend&&v>N&&(i=N,N=v,v=i);var f=Mc(o,v),m=Mc(o,N);if(f&&m&&(p.rangeCount!==1||p.anchorNode!==f.node||p.anchorOffset!==f.offset||p.focusNode!==m.node||p.focusOffset!==m.offset)){var j=x.createRange();j.setStart(f.node,f.offset),p.removeAllRanges(),v>N?(p.addRange(j),p.extend(m.node,m.offset)):(j.setEnd(m.node,m.offset),p.addRange(j))}}}}for(x=[],p=o;p=p.parentNode;)p.nodeType===1&&x.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<x.length;o++){var g=x[o];g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}wr=!!Co,Ao=Co=null}finally{le=n,te.p=l,G.T=a}}e.current=s,Oe=2}}function gx(){if(Oe===2){Oe=0;var e=Ss,s=Ha,a=(s.flags&8772)!==0;if(s.subtreeFlags&8772||a){a=G.T,G.T=null;var l=te.p;te.p=2;var n=le;le|=4;try{Zh(e,s.alternate,s)}finally{le=n,te.p=l,G.T=a}}Oe=3}}function px(){if(Oe===4||Oe===3){Oe=0,_f();var e=Ss,s=Ha,a=Ma,l=ix;s.subtreeFlags&10256||s.flags&10256?Oe=5:(Oe=0,Ha=Ss=null,bx(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(ws=null),ed(a),s=s.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot($l,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=G.T,n=te.p,te.p=2,G.T=null;try{for(var r=e.onRecoverableError,i=0;i<l.length;i++){var o=l[i];r(o.value,{componentStack:o.stack})}}finally{G.T=s,te.p=n}}Ma&3&&_r(),Ut(e),n=e.pendingLanes,a&4194090&&n&42?e===No?Cl++:(Cl=0,No=e):Cl=0,nn(0)}}function bx(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,en(s)))}function _r(e){return fx(),gx(),px(),yx()}function yx(){if(Oe!==5)return!1;var e=Ss,s=vo;vo=0;var a=ed(Ma),l=G.T,n=te.p;try{te.p=32>a?32:a,G.T=null,a=jo,jo=null;var r=Ss,i=Ma;if(Oe=0,Ha=Ss=null,Ma=0,le&6)throw Error(P(331));var o=le;if(le|=4,nx(r.current),sx(r,r.current,i,a),le=o,nn(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot($l,r)}catch{}return!0}finally{te.p=n,G.T=l,bx(e,s)}}function du(e,s,a){s=ft(a,s),s=fo(e.stateNode,s,2),e=Ns(e,s,2),e!==null&&(Xl(e,2),Ut(e))}function oe(e,s,a){if(e.tag===3)du(e,e,a);else for(;s!==null;){if(s.tag===3){du(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ws===null||!ws.has(l))){e=ft(a,e),a=zh(2),l=Ns(s,a,2),l!==null&&(Ph(a,l,s,e),Xl(l,2),Ut(l));break}}s=s.return}}function Si(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new f0;var n=new Set;l.set(s,n)}else n=l.get(s),n===void 0&&(n=new Set,l.set(s,n));n.has(a)||(Ld=!0,n.add(a),e=v0.bind(null,e,s,a),s.then(e,e))}function v0(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,de===e&&(W&a)===a&&(be===4||be===3&&(W&62914560)===W&&300>Lt()-Od?!(le&2)&&qa(e,0):Rd|=a,Fa===W&&(Fa=0)),Ut(e)}function vx(e,s){s===0&&(s=fm()),e=Ga(e,s),e!==null&&(Xl(e,s),Ut(e))}function j0(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),vx(e,a)}function N0(e,s){var a=0;switch(e.tag){case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(P(314))}l!==null&&l.delete(s),vx(e,a)}function w0(e,s){return Ko(e,s)}var gr=null,da=null,So=!1,pr=!1,ki=!1,Ys=0;function Ut(e){e!==da&&e.next===null&&(da===null?gr=da=e:da=da.next=e),pr=!0,So||(So=!0,k0())}function nn(e,s){if(!ki&&pr){ki=!0;do for(var a=!1,l=gr;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var r=0;else{var i=l.suspendedLanes,o=l.pingedLanes;r=(1<<31-at(42|e)+1)-1,r&=n&~(i&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,cu(l,r))}else r=W,r=Dr(l,l===de?r:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),!(r&3)||Ql(l,r)||(a=!0,cu(l,r));l=l.next}while(a);ki=!1}}function S0(){jx()}function jx(){pr=So=!1;var e=0;Ys!==0&&(R0()&&(e=Ys),Ys=0);for(var s=Lt(),a=null,l=gr;l!==null;){var n=l.next,r=Nx(l,s);r===0?(l.next=null,a===null?gr=n:a.next=n,n===null&&(da=a)):(a=l,(e!==0||r&3)&&(pr=!0)),l=n}nn(e)}function Nx(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var i=31-at(r),o=1<<i,d=n[i];d===-1?(!(o&a)||o&l)&&(n[i]=Zf(o,s)):d<=s&&(e.expiredLanes|=o),r&=~o}if(s=de,a=W,a=Dr(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(ae===2||ae===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Jr(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Ql(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&Jr(l),ed(a)){case 2:case 8:a=mm;break;case 32:a=Kn;break;case 268435456:a=hm;break;default:a=Kn}return l=wx.bind(null,e),a=Ko(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&Jr(l),e.callbackPriority=2,e.callbackNode=null,2}function wx(e,s){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(_r()&&e.callbackNode!==a)return null;var l=W;return l=Dr(e,e===de?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(dx(e,l,s),Nx(e,Lt()),e.callbackNode!=null&&e.callbackNode===a?wx.bind(null,e):null)}function cu(e,s){if(_r())return null;dx(e,s,!0)}function k0(){U0(function(){le&6?Ko(um,S0):jx()})}function zd(){return Ys===0&&(Ys=xm()),Ys}function uu(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Un(""+e)}function mu(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function C0(e,s,a,l,n){if(s==="submit"&&a&&a.stateNode===n){var r=uu((n[$e]||null).action),i=l.submitter;i&&(s=(s=i[$e]||null)?uu(s.formAction):i.getAttribute("formAction"),s!==null&&(r=s,i=null));var o=new Er("action","action",null,l,n);e.push({event:o,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ys!==0){var d=i?mu(n,i):new FormData(n);ho(a,{pending:!0,data:d,method:n.method,action:r},null,d)}}else typeof r=="function"&&(o.preventDefault(),d=i?mu(n,i):new FormData(n),ho(a,{pending:!0,data:d,method:n.method,action:r},r,d))},currentTarget:n}]})}}for(var Ci=0;Ci<eo.length;Ci++){var Ai=eo[Ci],A0=Ai.toLowerCase(),T0=Ai[0].toUpperCase()+Ai.slice(1);kt(A0,"on"+T0)}kt(Bm,"onAnimationEnd");kt(Fm,"onAnimationIteration");kt(Hm,"onAnimationStart");kt("dblclick","onDoubleClick");kt("focusin","onFocus");kt("focusout","onBlur");kt(Yg,"onTransitionRun");kt(Gg,"onTransitionStart");kt($g,"onTransitionCancel");kt(qm,"onTransitionEnd");Ra("onMouseEnter",["mouseout","mouseover"]);Ra("onMouseLeave",["mouseout","mouseover"]);Ra("onPointerEnter",["pointerout","pointerover"]);Ra("onPointerLeave",["pointerout","pointerover"]);Js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Js("onBeforeInput",["compositionend","keypress","textInput","paste"]);Js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Sx(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var r=void 0;if(s)for(var i=l.length-1;0<=i;i--){var o=l[i],d=o.instance,u=o.currentTarget;if(o=o.listener,d!==r&&n.isPropagationStopped())break e;r=o,n.currentTarget=u;try{r(n)}catch(h){cr(h)}n.currentTarget=null,r=d}else for(i=0;i<l.length;i++){if(o=l[i],d=o.instance,u=o.currentTarget,o=o.listener,d!==r&&n.isPropagationStopped())break e;r=o,n.currentTarget=u;try{r(n)}catch(h){cr(h)}n.currentTarget=null,r=d}}}}function J(e,s){var a=s[$i];a===void 0&&(a=s[$i]=new Set);var l=e+"__bubble";a.has(l)||(kx(s,e,2,!1),a.add(l))}function Ti(e,s,a){var l=0;s&&(l|=4),kx(a,e,l,s)}var wn="_reactListening"+Math.random().toString(36).slice(2);function Pd(e){if(!e[wn]){e[wn]=!0,ym.forEach(function(a){a!=="selectionchange"&&(M0.has(a)||Ti(a,!1,e),Ti(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[wn]||(s[wn]=!0,Ti("selectionchange",!1,s))}}function kx(e,s,a,l){switch(Px(s)){case 2:var n=sp;break;case 8:n=ap;break;default:n=qd}a=n.bind(null,s,a,e),n=void 0,!Ji||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(s,a,{capture:!0,passive:n}):e.addEventListener(s,a,!0):n!==void 0?e.addEventListener(s,a,{passive:n}):e.addEventListener(s,a,!1)}function Mi(e,s,a,l,n){var r=l;if(!(s&1)&&!(s&2)&&l!==null)e:for(;;){if(l===null)return;var i=l.tag;if(i===3||i===4){var o=l.stateNode.containerInfo;if(o===n)break;if(i===4)for(i=l.return;i!==null;){var d=i.tag;if((d===3||d===4)&&i.stateNode.containerInfo===n)return;i=i.return}for(;o!==null;){if(i=ma(o),i===null)return;if(d=i.tag,d===5||d===6||d===26||d===27){l=r=i;continue e}o=o.parentNode}}l=l.return}Am(function(){var u=r,h=ad(a),x=[];e:{var y=_m.get(e);if(y!==void 0){var p=Er,b=e;switch(e){case"keypress":if(Pn(a)===0)break e;case"keydown":case"keyup":p=wg;break;case"focusin":b="focus",p=ni;break;case"focusout":b="blur",p=ni;break;case"beforeblur":case"afterblur":p=ni;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ug;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Cg;break;case Bm:case Fm:case Hm:p=xg;break;case qm:p=Tg;break;case"scroll":case"scrollend":p=dg;break;case"wheel":p=Dg;break;case"copy":case"cut":case"paste":p=gg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=jc;break;case"toggle":case"beforetoggle":p=Lg}var v=(s&4)!==0,N=!v&&(e==="scroll"||e==="scrollend"),f=v?y!==null?y+"Capture":null:y;v=[];for(var m=u,j;m!==null;){var g=m;if(j=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||j===null||f===null||(g=Ml(m,f),g!=null&&v.push(zl(m,g,j))),N)break;m=m.return}0<v.length&&(y=new p(y,b,null,a,h),x.push({event:y,listeners:v}))}}if(!(s&7)){e:{if(y=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",y&&a!==Zi&&(b=a.relatedTarget||a.fromElement)&&(ma(b)||b[Va]))break e;if((p||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,p?(b=a.relatedTarget||a.toElement,p=u,b=b?ma(b):null,b!==null&&(N=Gl(b),v=b.tag,b!==N||v!==5&&v!==27&&v!==6)&&(b=null)):(p=null,b=u),p!==b)){if(v=yc,g="onMouseLeave",f="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=jc,g="onPointerLeave",f="onPointerEnter",m="pointer"),N=p==null?y:ul(p),j=b==null?y:ul(b),y=new v(g,m+"leave",p,a,h),y.target=N,y.relatedTarget=j,g=null,ma(h)===u&&(v=new v(f,m+"enter",b,a,h),v.target=j,v.relatedTarget=N,g=v),N=g,p&&b)t:{for(v=p,f=b,m=0,j=v;j;j=la(j))m++;for(j=0,g=f;g;g=la(g))j++;for(;0<m-j;)v=la(v),m--;for(;0<j-m;)f=la(f),j--;for(;m--;){if(v===f||f!==null&&v===f.alternate)break t;v=la(v),f=la(f)}v=null}else v=null;p!==null&&hu(x,y,p,v,!1),b!==null&&N!==null&&hu(x,N,b,v,!0)}}e:{if(y=u?ul(u):window,p=y.nodeName&&y.nodeName.toLowerCase(),p==="select"||p==="input"&&y.type==="file")var k=kc;else if(Sc(y))if(Rm)k=_g;else{k=Hg;var w=Fg}else p=y.nodeName,!p||p.toLowerCase()!=="input"||y.type!=="checkbox"&&y.type!=="radio"?u&&sd(u.elementType)&&(k=kc):k=qg;if(k&&(k=k(e,u))){Lm(x,k,a,h);break e}w&&w(e,y,u),e==="focusout"&&u&&y.type==="number"&&u.memoizedProps.value!=null&&Xi(y,"number",y.value)}switch(w=u?ul(u):window,e){case"focusin":(Sc(w)||w.contentEditable==="true")&&(fa=w,Ki=u,gl=null);break;case"focusout":gl=Ki=fa=null;break;case"mousedown":Wi=!0;break;case"contextmenu":case"mouseup":case"dragend":Wi=!1,Dc(x,a,h);break;case"selectionchange":if(Vg)break;case"keydown":case"keyup":Dc(x,a,h)}var S;if(rd)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else xa?Dm(e,a)&&(T="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(T="onCompositionStart");T&&(Mm&&a.locale!=="ko"&&(xa||T!=="onCompositionStart"?T==="onCompositionEnd"&&xa&&(S=Tm()):(fs=h,ld="value"in fs?fs.value:fs.textContent,xa=!0)),w=br(u,T),0<w.length&&(T=new vc(T,e,null,a,h),x.push({event:T,listeners:w}),S?T.data=S:(S=Em(a),S!==null&&(T.data=S)))),(S=Og?Ug(e,a):zg(e,a))&&(T=br(u,"onBeforeInput"),0<T.length&&(w=new vc("onBeforeInput","beforeinput",null,a,h),x.push({event:w,listeners:T}),w.data=S)),C0(x,e,u,a,h)}Sx(x,s)})}function zl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function br(e,s){for(var a=s+"Capture",l=[];e!==null;){var n=e,r=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||r===null||(n=Ml(e,a),n!=null&&l.unshift(zl(e,n,r)),n=Ml(e,s),n!=null&&l.push(zl(e,n,r))),e.tag===3)return l;e=e.return}return[]}function la(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hu(e,s,a,l,n){for(var r=s._reactName,i=[];a!==null&&a!==l;){var o=a,d=o.alternate,u=o.stateNode;if(o=o.tag,d!==null&&d===l)break;o!==5&&o!==26&&o!==27||u===null||(d=u,n?(u=Ml(a,r),u!=null&&i.unshift(zl(a,u,d))):n||(u=Ml(a,r),u!=null&&i.push(zl(a,u,d)))),a=a.return}i.length!==0&&e.push({event:s,listeners:i})}var D0=/\r\n?/g,E0=/\u0000|\uFFFD/g;function xu(e){return(typeof e=="string"?e:""+e).replace(D0,`
`).replace(E0,"")}function Cx(e,s){return s=xu(s),xu(e)===s}function Ir(){}function re(e,s,a,l,n,r){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Oa(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Oa(e,""+l);break;case"className":gn(e,"class",l);break;case"tabIndex":gn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,a,l);break;case"style":Cm(e,l,r);break;case"data":if(s!=="object"){gn(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Un(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(s!=="input"&&re(e,s,"name",n.name,n,null),re(e,s,"formEncType",n.formEncType,n,null),re(e,s,"formMethod",n.formMethod,n,null),re(e,s,"formTarget",n.formTarget,n,null)):(re(e,s,"encType",n.encType,n,null),re(e,s,"method",n.method,n,null),re(e,s,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Un(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ir);break;case"onScroll":l!=null&&J("scroll",e);break;case"onScrollEnd":l!=null&&J("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(P(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(P(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Un(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":J("beforetoggle",e),J("toggle",e),On(e,"popover",l);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":On(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ig.get(a)||a,On(e,a,l))}}function ko(e,s,a,l,n,r){switch(a){case"style":Cm(e,l,r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(P(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(P(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Oa(e,l):(typeof l=="number"||typeof l=="bigint")&&Oa(e,""+l);break;case"onScroll":l!=null&&J("scroll",e);break;case"onScrollEnd":l!=null&&J("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ir);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vm.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),s=a.slice(2,n?a.length-7:void 0),r=e[$e]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(s,r,n),typeof l=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):On(e,a,l)}}}function Ue(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":J("error",e),J("load",e);var l=!1,n=!1,r;for(r in a)if(a.hasOwnProperty(r)){var i=a[r];if(i!=null)switch(r){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,s));default:re(e,s,r,i,a,null)}}n&&re(e,s,"srcSet",a.srcSet,a,null),l&&re(e,s,"src",a.src,a,null);return;case"input":J("invalid",e);var o=r=i=n=null,d=null,u=null;for(l in a)if(a.hasOwnProperty(l)){var h=a[l];if(h!=null)switch(l){case"name":n=h;break;case"type":i=h;break;case"checked":d=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(P(137,s));break;default:re(e,s,l,h,a,null)}}wm(e,r,o,d,u,i,n,!1),Wn(e);return;case"select":J("invalid",e),l=i=r=null;for(n in a)if(a.hasOwnProperty(n)&&(o=a[n],o!=null))switch(n){case"value":r=o;break;case"defaultValue":i=o;break;case"multiple":l=o;default:re(e,s,n,o,a,null)}s=r,a=i,e.multiple=!!l,s!=null?wa(e,!!l,s,!1):a!=null&&wa(e,!!l,a,!0);return;case"textarea":J("invalid",e),r=n=l=null;for(i in a)if(a.hasOwnProperty(i)&&(o=a[i],o!=null))switch(i){case"value":l=o;break;case"defaultValue":n=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(P(91));break;default:re(e,s,i,o,a,null)}km(e,l,n,r),Wn(e);return;case"option":for(d in a)if(a.hasOwnProperty(d)&&(l=a[d],l!=null))switch(d){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:re(e,s,d,l,a,null)}return;case"dialog":J("beforetoggle",e),J("toggle",e),J("cancel",e),J("close",e);break;case"iframe":case"object":J("load",e);break;case"video":case"audio":for(l=0;l<Ul.length;l++)J(Ul[l],e);break;case"image":J("error",e),J("load",e);break;case"details":J("toggle",e);break;case"embed":case"source":case"link":J("error",e),J("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(l=a[u],l!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,s));default:re(e,s,u,l,a,null)}return;default:if(sd(s)){for(h in a)a.hasOwnProperty(h)&&(l=a[h],l!==void 0&&ko(e,s,h,l,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(l=a[o],l!=null&&re(e,s,o,l,a,null))}function L0(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,r=null,i=null,o=null,d=null,u=null,h=null;for(p in a){var x=a[p];if(a.hasOwnProperty(p)&&x!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":d=x;default:l.hasOwnProperty(p)||re(e,s,p,null,l,x)}}for(var y in l){var p=l[y];if(x=a[y],l.hasOwnProperty(y)&&(p!=null||x!=null))switch(y){case"type":r=p;break;case"name":n=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":i=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(P(137,s));break;default:p!==x&&re(e,s,y,p,l,x)}}Qi(e,i,o,d,u,h,r,n);return;case"select":p=i=o=y=null;for(r in a)if(d=a[r],a.hasOwnProperty(r)&&d!=null)switch(r){case"value":break;case"multiple":p=d;default:l.hasOwnProperty(r)||re(e,s,r,null,l,d)}for(n in l)if(r=l[n],d=a[n],l.hasOwnProperty(n)&&(r!=null||d!=null))switch(n){case"value":y=r;break;case"defaultValue":o=r;break;case"multiple":i=r;default:r!==d&&re(e,s,n,r,l,d)}s=o,a=i,l=p,y!=null?wa(e,!!a,y,!1):!!l!=!!a&&(s!=null?wa(e,!!a,s,!0):wa(e,!!a,a?[]:"",!1));return;case"textarea":p=y=null;for(o in a)if(n=a[o],a.hasOwnProperty(o)&&n!=null&&!l.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:re(e,s,o,null,l,n)}for(i in l)if(n=l[i],r=a[i],l.hasOwnProperty(i)&&(n!=null||r!=null))switch(i){case"value":y=n;break;case"defaultValue":p=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(P(91));break;default:n!==r&&re(e,s,i,n,l,r)}Sm(e,y,p);return;case"option":for(var b in a)if(y=a[b],a.hasOwnProperty(b)&&y!=null&&!l.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:re(e,s,b,null,l,y)}for(d in l)if(y=l[d],p=a[d],l.hasOwnProperty(d)&&y!==p&&(y!=null||p!=null))switch(d){case"selected":e.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:re(e,s,d,y,l,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in a)y=a[v],a.hasOwnProperty(v)&&y!=null&&!l.hasOwnProperty(v)&&re(e,s,v,null,l,y);for(u in l)if(y=l[u],p=a[u],l.hasOwnProperty(u)&&y!==p&&(y!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(P(137,s));break;default:re(e,s,u,y,l,p)}return;default:if(sd(s)){for(var N in a)y=a[N],a.hasOwnProperty(N)&&y!==void 0&&!l.hasOwnProperty(N)&&ko(e,s,N,void 0,l,y);for(h in l)y=l[h],p=a[h],!l.hasOwnProperty(h)||y===p||y===void 0&&p===void 0||ko(e,s,h,y,l,p);return}}for(var f in a)y=a[f],a.hasOwnProperty(f)&&y!=null&&!l.hasOwnProperty(f)&&re(e,s,f,null,l,y);for(x in l)y=l[x],p=a[x],!l.hasOwnProperty(x)||y===p||y==null&&p==null||re(e,s,x,y,l,p)}var Co=null,Ao=null;function yr(e){return e.nodeType===9?e:e.ownerDocument}function fu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ax(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function To(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Di=null;function R0(){var e=window.event;return e&&e.type==="popstate"?e===Di?!1:(Di=e,!0):(Di=null,!1)}var Tx=typeof setTimeout=="function"?setTimeout:void 0,O0=typeof clearTimeout=="function"?clearTimeout:void 0,gu=typeof Promise=="function"?Promise:void 0,U0=typeof queueMicrotask=="function"?queueMicrotask:typeof gu<"u"?function(e){return gu.resolve(null).then(e).catch(z0)}:Tx;function z0(e){setTimeout(function(){throw e})}function Rs(e){return e==="head"}function pu(e,s){var a=s,l=0,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(0<l&&8>l){a=l;var i=e.ownerDocument;if(a&1&&Al(i.documentElement),a&2&&Al(i.body),a&4)for(a=i.head,Al(a),i=a.firstChild;i;){var o=i.nextSibling,d=i.nodeName;i[Zl]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=o}}if(n===0){e.removeChild(r),ql(s);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:l=a.charCodeAt(0)-48;else l=0;a=r}while(a);ql(s)}function Mo(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mo(a),td(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function P0(e,s,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Zl])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var r=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=St(e.nextSibling),e===null)break}return null}function B0(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=St(e.nextSibling),e===null))return null;return e}function Do(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function F0(e,s){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function St(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}var Eo=null;function bu(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}function Mx(e,s,a){switch(s=yr(a),e){case"html":if(e=s.documentElement,!e)throw Error(P(452));return e;case"head":if(e=s.head,!e)throw Error(P(453));return e;case"body":if(e=s.body,!e)throw Error(P(454));return e;default:throw Error(P(451))}}function Al(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);td(e)}var bt=new Map,yu=new Set;function vr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ss=te.d;te.d={f:H0,r:q0,D:_0,C:I0,L:V0,m:Y0,X:$0,S:G0,M:Q0};function H0(){var e=ss.f(),s=Hr();return e||s}function q0(e){var s=Ya(e);s!==null&&s.tag===5&&s.type==="form"?Nh(s):ss.r(e)}var Qa=typeof document>"u"?null:document;function Dx(e,s,a){var l=Qa;if(l&&typeof s=="string"&&s){var n=xt(s);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),yu.has(n)||(yu.add(n),e={rel:e,crossOrigin:a,href:s},l.querySelector(n)===null&&(s=l.createElement("link"),Ue(s,"link",e),Me(s),l.head.appendChild(s)))}}function _0(e){ss.D(e),Dx("dns-prefetch",e,null)}function I0(e,s){ss.C(e,s),Dx("preconnect",e,s)}function V0(e,s,a){ss.L(e,s,a);var l=Qa;if(l&&e&&s){var n='link[rel="preload"][as="'+xt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+xt(a.imageSizes)+'"]')):n+='[href="'+xt(e)+'"]';var r=n;switch(s){case"style":r=_a(e);break;case"script":r=Xa(e)}bt.has(r)||(e=ue({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),bt.set(r,e),l.querySelector(n)!==null||s==="style"&&l.querySelector(rn(r))||s==="script"&&l.querySelector(on(r))||(s=l.createElement("link"),Ue(s,"link",e),Me(s),l.head.appendChild(s)))}}function Y0(e,s){ss.m(e,s);var a=Qa;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",n='link[rel="modulepreload"][as="'+xt(l)+'"][href="'+xt(e)+'"]',r=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Xa(e)}if(!bt.has(r)&&(e=ue({rel:"modulepreload",href:e},s),bt.set(r,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(on(r)))return}l=a.createElement("link"),Ue(l,"link",e),Me(l),a.head.appendChild(l)}}}function G0(e,s,a){ss.S(e,s,a);var l=Qa;if(l&&e){var n=Na(l).hoistableStyles,r=_a(e);s=s||"default";var i=n.get(r);if(!i){var o={loading:0,preload:null};if(i=l.querySelector(rn(r)))o.loading=5;else{e=ue({rel:"stylesheet",href:e,"data-precedence":s},a),(a=bt.get(r))&&Bd(e,a);var d=i=l.createElement("link");Me(d),Ue(d,"link",e),d._p=new Promise(function(u,h){d.onload=u,d.onerror=h}),d.addEventListener("load",function(){o.loading|=1}),d.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Vn(i,s,l)}i={type:"stylesheet",instance:i,count:1,state:o},n.set(r,i)}}}function $0(e,s){ss.X(e,s);var a=Qa;if(a&&e){var l=Na(a).hoistableScripts,n=Xa(e),r=l.get(n);r||(r=a.querySelector(on(n)),r||(e=ue({src:e,async:!0},s),(s=bt.get(n))&&Fd(e,s),r=a.createElement("script"),Me(r),Ue(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(n,r))}}function Q0(e,s){ss.M(e,s);var a=Qa;if(a&&e){var l=Na(a).hoistableScripts,n=Xa(e),r=l.get(n);r||(r=a.querySelector(on(n)),r||(e=ue({src:e,async:!0,type:"module"},s),(s=bt.get(n))&&Fd(e,s),r=a.createElement("script"),Me(r),Ue(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(n,r))}}function vu(e,s,a,l){var n=(n=vs.current)?vr(n):null;if(!n)throw Error(P(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=_a(a.href),a=Na(n).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=_a(a.href);var r=Na(n).hoistableStyles,i=r.get(e);if(i||(n=n.ownerDocument||n,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,i),(r=n.querySelector(rn(e)))&&!r._p&&(i.instance=r,i.state.loading=5),bt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bt.set(e,a),r||X0(n,e,a,i.state))),s&&l===null)throw Error(P(528,""));return i}if(s&&l!==null)throw Error(P(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Xa(a),a=Na(n).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,e))}}function _a(e){return'href="'+xt(e)+'"'}function rn(e){return'link[rel="stylesheet"]['+e+"]"}function Ex(e){return ue({},e,{"data-precedence":e.precedence,precedence:null})}function X0(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Ue(s,"link",a),Me(s),e.head.appendChild(s))}function Xa(e){return'[src="'+xt(e)+'"]'}function on(e){return"script[async]"+e}function ju(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+xt(a.href)+'"]');if(l)return s.instance=l,Me(l),l;var n=ue({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Me(l),Ue(l,"style",n),Vn(l,a.precedence,e),s.instance=l;case"stylesheet":n=_a(a.href);var r=e.querySelector(rn(n));if(r)return s.state.loading|=4,s.instance=r,Me(r),r;l=Ex(a),(n=bt.get(n))&&Bd(l,n),r=(e.ownerDocument||e).createElement("link"),Me(r);var i=r;return i._p=new Promise(function(o,d){i.onload=o,i.onerror=d}),Ue(r,"link",l),s.state.loading|=4,Vn(r,a.precedence,e),s.instance=r;case"script":return r=Xa(a.src),(n=e.querySelector(on(r)))?(s.instance=n,Me(n),n):(l=a,(n=bt.get(r))&&(l=ue({},a),Fd(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),Me(n),Ue(n,"link",l),e.head.appendChild(n),s.instance=n);case"void":return null;default:throw Error(P(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(l=s.instance,s.state.loading|=4,Vn(l,a.precedence,e));return s.instance}function Vn(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,r=n,i=0;i<l.length;i++){var o=l[i];if(o.dataset.precedence===s)r=o;else if(r!==n)break}r?r.parentNode.insertBefore(e,r.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Bd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Fd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Yn=null;function Nu(e,s,a){if(Yn===null){var l=new Map,n=Yn=new Map;n.set(a,l)}else n=Yn,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var r=a[n];if(!(r[Zl]||r[Pe]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var i=r.getAttribute(s)||"";i=e+i;var o=l.get(i);o?o.push(r):l.set(i,[r])}}return l}function wu(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function Z0(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Lx(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Pl=null;function J0(){}function K0(e,s,a){if(Pl===null)throw Error(P(475));var l=Pl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var n=_a(a.href),r=e.querySelector(rn(n));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=jr.bind(l),e.then(l,l)),s.state.loading|=4,s.instance=r,Me(r);return}r=e.ownerDocument||e,a=Ex(a),(n=bt.get(n))&&Bd(a,n),r=r.createElement("link"),Me(r);var i=r;i._p=new Promise(function(o,d){i.onload=o,i.onerror=d}),Ue(r,"link",a),s.instance=r}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,e),(e=s.state.preload)&&!(s.state.loading&3)&&(l.count++,s=jr.bind(l),e.addEventListener("load",s),e.addEventListener("error",s))}}function W0(){if(Pl===null)throw Error(P(475));var e=Pl;return e.stylesheets&&e.count===0&&Lo(e,e.stylesheets),0<e.count?function(s){var a=setTimeout(function(){if(e.stylesheets&&Lo(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a)}}:null}function jr(){if(this.count--,this.count===0){if(this.stylesheets)Lo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nr=null;function Lo(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nr=new Map,s.forEach(ep,e),Nr=null,jr.call(e))}function ep(e,s){if(!(s.state.loading&4)){var a=Nr.get(e);if(a)var l=a.get(null);else{a=new Map,Nr.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<n.length;r++){var i=n[r];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(a.set(i.dataset.precedence,i),l=i)}l&&a.set(null,l)}n=s.instance,i=n.getAttribute("data-precedence"),r=a.get(i)||l,r===l&&a.set(null,n),a.set(i,n),this.count++,l=jr.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),r?r.parentNode.insertBefore(n,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),s.state.loading|=4}}var Bl={$$typeof:_t,Provider:null,Consumer:null,_currentValue:Fs,_currentValue2:Fs,_threadCount:0};function tp(e,s,a,l,n,r,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.hiddenUpdates=Kr(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=r,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Rx(e,s,a,l,n,r,i,o,d,u,h,x){return e=new tp(e,s,a,i,o,d,u,x),s=1,r===!0&&(s|=24),r=tt(3,null,null,s),e.current=r,r.stateNode=e,s=hd(),s.refCount++,e.pooledCache=s,s.refCount++,r.memoizedState={element:l,isDehydrated:a,cache:s},fd(r),e}function Ox(e){return e?(e=ba,e):ba}function Ux(e,s,a,l,n,r){n=Ox(n),l.context===null?l.context=n:l.pendingContext=n,l=js(s),l.payload={element:a},r=r===void 0?null:r,r!==null&&(l.callback=r),a=Ns(e,l,s),a!==null&&(nt(a,e,s),yl(a,e,s))}function Su(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Hd(e,s){Su(e,s),(e=e.alternate)&&Su(e,s)}function zx(e){if(e.tag===13){var s=Ga(e,67108864);s!==null&&nt(s,e,67108864),Hd(e,67108864)}}var wr=!0;function sp(e,s,a,l){var n=G.T;G.T=null;var r=te.p;try{te.p=2,qd(e,s,a,l)}finally{te.p=r,G.T=n}}function ap(e,s,a,l){var n=G.T;G.T=null;var r=te.p;try{te.p=8,qd(e,s,a,l)}finally{te.p=r,G.T=n}}function qd(e,s,a,l){if(wr){var n=Ro(l);if(n===null)Mi(e,s,l,Sr,a),ku(e,l);else if(np(n,e,s,a,l))l.stopPropagation();else if(ku(e,l),s&4&&-1<lp.indexOf(e)){for(;n!==null;){var r=Ya(n);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var i=zs(r.pendingLanes);if(i!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var d=1<<31-at(i);o.entanglements[1]|=d,i&=~d}Ut(r),!(le&6)&&(xr=Lt()+500,nn(0))}}break;case 13:o=Ga(r,2),o!==null&&nt(o,r,2),Hr(),Hd(r,2)}if(r=Ro(l),r===null&&Mi(e,s,l,Sr,a),r===n)break;n=r}n!==null&&l.stopPropagation()}else Mi(e,s,l,null,a)}}function Ro(e){return e=ad(e),_d(e)}var Sr=null;function _d(e){if(Sr=null,e=ma(e),e!==null){var s=Gl(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=im(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Sr=e,null}function Px(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(If()){case um:return 2;case mm:return 8;case Kn:case Vf:return 32;case hm:return 268435456;default:return 32}default:return 32}}var Oo=!1,ks=null,Cs=null,As=null,Fl=new Map,Hl=new Map,hs=[],lp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ku(e,s){switch(e){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Fl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(s.pointerId)}}function il(e,s,a,l,n,r){return e===null||e.nativeEvent!==r?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:r,targetContainers:[n]},s!==null&&(s=Ya(s),s!==null&&zx(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),e)}function np(e,s,a,l,n){switch(s){case"focusin":return ks=il(ks,e,s,a,l,n),!0;case"dragenter":return Cs=il(Cs,e,s,a,l,n),!0;case"mouseover":return As=il(As,e,s,a,l,n),!0;case"pointerover":var r=n.pointerId;return Fl.set(r,il(Fl.get(r)||null,e,s,a,l,n)),!0;case"gotpointercapture":return r=n.pointerId,Hl.set(r,il(Hl.get(r)||null,e,s,a,l,n)),!0}return!1}function Bx(e){var s=ma(e.target);if(s!==null){var a=Gl(s);if(a!==null){if(s=a.tag,s===13){if(s=im(a),s!==null){e.blockedOn=s,Kf(e.priority,function(){if(a.tag===13){var l=lt();l=Wo(l);var n=Ga(a,l);n!==null&&nt(n,a,l),Hd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gn(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Ro(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Zi=l,a.target.dispatchEvent(l),Zi=null}else return s=Ya(a),s!==null&&zx(s),e.blockedOn=a,!1;s.shift()}return!0}function Cu(e,s,a){Gn(e)&&a.delete(s)}function rp(){Oo=!1,ks!==null&&Gn(ks)&&(ks=null),Cs!==null&&Gn(Cs)&&(Cs=null),As!==null&&Gn(As)&&(As=null),Fl.forEach(Cu),Hl.forEach(Cu)}function Sn(e,s){e.blockedOn===s&&(e.blockedOn=null,Oo||(Oo=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,rp)))}var kn=null;function Au(e){kn!==e&&(kn=e,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,function(){kn===e&&(kn=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],n=e[s+2];if(typeof l!="function"){if(_d(l||a)===null)continue;break}var r=Ya(a);r!==null&&(e.splice(s,3),s-=3,ho(r,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function ql(e){function s(d){return Sn(d,e)}ks!==null&&Sn(ks,e),Cs!==null&&Sn(Cs,e),As!==null&&Sn(As,e),Fl.forEach(s),Hl.forEach(s);for(var a=0;a<hs.length;a++){var l=hs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<hs.length&&(a=hs[0],a.blockedOn===null);)Bx(a),a.blockedOn===null&&hs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],r=a[l+1],i=n[$e]||null;if(typeof r=="function")i||Au(a);else if(i){var o=null;if(r&&r.hasAttribute("formAction")){if(n=r,i=r[$e]||null)o=i.formAction;else if(_d(n)!==null)continue}else o=i.action;typeof o=="function"?a[l+1]=o:(a.splice(l,3),l-=3),Au(a)}}}function Id(e){this._internalRoot=e}Vr.prototype.render=Id.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(P(409));var a=s.current,l=lt();Ux(a,l,e,s,null,null)};Vr.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Ux(e.current,2,null,e,null,null),Hr(),s[Va]=null}};function Vr(e){this._internalRoot=e}Vr.prototype.unstable_scheduleHydration=function(e){if(e){var s=bm();e={blockedOn:null,target:e,priority:s};for(var a=0;a<hs.length&&s!==0&&s<hs[a].priority;a++);hs.splice(a,0,e),a===0&&Bx(e)}};var Tu=nm.version;if(Tu!=="19.1.1")throw Error(P(527,Tu,"19.1.1"));te.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=zf(s),e=e!==null?om(e):null,e=e===null?null:e.stateNode,e};var ip={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cn.isDisabled&&Cn.supportsFiber)try{$l=Cn.inject(ip),st=Cn}catch{}}Tr.createRoot=function(e,s){if(!rm(e))throw Error(P(299));var a=!1,l="",n=Rh,r=Oh,i=Uh,o=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(n=s.onUncaughtError),s.onCaughtError!==void 0&&(r=s.onCaughtError),s.onRecoverableError!==void 0&&(i=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(o=s.unstable_transitionCallbacks)),s=Rx(e,1,!1,null,null,a,l,n,r,i,o,null),e[Va]=s.current,Pd(e),new Id(s)};Tr.hydrateRoot=function(e,s,a){if(!rm(e))throw Error(P(299));var l=!1,n="",r=Rh,i=Oh,o=Uh,d=null,u=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(i=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(d=a.unstable_transitionCallbacks),a.formState!==void 0&&(u=a.formState)),s=Rx(e,1,!0,s,a??null,l,n,r,i,o,d,u),s.context=Ox(null),a=s.current,l=lt(),l=Wo(l),n=js(l),n.callback=null,Ns(a,n,l),a=l,s.current.lanes=a,Xl(s,a),Ut(s),e[Va]=s.current,Pd(e),new Vr(s)};Tr.version="19.1.1";function Fx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fx)}catch(e){console.error(e)}}Fx(),Wu.exports=Tr;var op=Wu.exports;const dp=Iu(op);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mu="popstate";function cp(e={}){function s(n,r){let{pathname:i="/",search:o="",hash:d=""}=ta(n.location.hash.substring(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Uo("",{pathname:i,search:o,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function a(n,r){let i=n.document.querySelector("base"),o="";if(i&&i.getAttribute("href")){let d=n.location.href,u=d.indexOf("#");o=u===-1?d:d.slice(0,u)}return o+"#"+(typeof r=="string"?r:_l(r))}function l(n,r){it(n.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return mp(s,a,l,e)}function fe(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function it(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function up(){return Math.random().toString(36).substring(2,10)}function Du(e,s){return{usr:e.state,key:e.key,idx:s}}function Uo(e,s,a=null,l){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof s=="string"?ta(s):s,state:a,key:s&&s.key||l||up()}}function _l({pathname:e="/",search:s="",hash:a=""}){return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function ta(e){let s={};if(e){let a=e.indexOf("#");a>=0&&(s.hash=e.substring(a),e=e.substring(0,a));let l=e.indexOf("?");l>=0&&(s.search=e.substring(l),e=e.substring(0,l)),e&&(s.pathname=e)}return s}function mp(e,s,a,l={}){let{window:n=document.defaultView,v5Compat:r=!1}=l,i=n.history,o="POP",d=null,u=h();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function h(){return(i.state||{idx:null}).idx}function x(){o="POP";let N=h(),f=N==null?null:N-u;u=N,d&&d({action:o,location:v.location,delta:f})}function y(N,f){o="PUSH";let m=Uo(v.location,N,f);a&&a(m,N),u=h()+1;let j=Du(m,u),g=v.createHref(m);try{i.pushState(j,"",g)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;n.location.assign(g)}r&&d&&d({action:o,location:v.location,delta:1})}function p(N,f){o="REPLACE";let m=Uo(v.location,N,f);a&&a(m,N),u=h();let j=Du(m,u),g=v.createHref(m);i.replaceState(j,"",g),r&&d&&d({action:o,location:v.location,delta:0})}function b(N){return hp(N)}let v={get action(){return o},get location(){return e(n,i)},listen(N){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(Mu,x),d=N,()=>{n.removeEventListener(Mu,x),d=null}},createHref(N){return s(n,N)},createURL:b,encodeLocation(N){let f=b(N);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:y,replace:p,go(N){return i.go(N)}};return v}function hp(e,s=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),fe(a,"No window.location.(origin|href) available to create URL");let l=typeof e=="string"?e:_l(e);return l=l.replace(/ $/,"%20"),!s&&l.startsWith("//")&&(l=a+l),new URL(l,a)}function Hx(e,s,a="/"){return xp(e,s,a,!1)}function xp(e,s,a,l){let n=typeof s=="string"?ta(s):s,r=es(n.pathname||"/",a);if(r==null)return null;let i=qx(e);fp(i);let o=null;for(let d=0;o==null&&d<i.length;++d){let u=Cp(r);o=Sp(i[d],u,l)}return o}function qx(e,s=[],a=[],l="",n=!1){let r=(i,o,d=n,u)=>{let h={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(l)&&d)return;fe(h.relativePath.startsWith(l),`Absolute route path "${h.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(l.length)}let x=Xt([l,h.relativePath]),y=a.concat(h);i.children&&i.children.length>0&&(fe(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),qx(i.children,s,y,x,d)),!(i.path==null&&!i.index)&&s.push({path:x,score:Np(x,i.index),routesMeta:y})};return e.forEach((i,o)=>{var d;if(i.path===""||!((d=i.path)!=null&&d.includes("?")))r(i,o);else for(let u of _x(i.path))r(i,o,!0,u)}),s}function _x(e){let s=e.split("/");if(s.length===0)return[];let[a,...l]=s,n=a.endsWith("?"),r=a.replace(/\?$/,"");if(l.length===0)return n?[r,""]:[r];let i=_x(l.join("/")),o=[];return o.push(...i.map(d=>d===""?r:[r,d].join("/"))),n&&o.push(...i),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function fp(e){e.sort((s,a)=>s.score!==a.score?a.score-s.score:wp(s.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}var gp=/^:[\w-]+$/,pp=3,bp=2,yp=1,vp=10,jp=-2,Eu=e=>e==="*";function Np(e,s){let a=e.split("/"),l=a.length;return a.some(Eu)&&(l+=jp),s&&(l+=bp),a.filter(n=>!Eu(n)).reduce((n,r)=>n+(gp.test(r)?pp:r===""?yp:vp),l)}function wp(e,s){return e.length===s.length&&e.slice(0,-1).every((l,n)=>l===s[n])?e[e.length-1]-s[s.length-1]:0}function Sp(e,s,a=!1){let{routesMeta:l}=e,n={},r="/",i=[];for(let o=0;o<l.length;++o){let d=l[o],u=o===l.length-1,h=r==="/"?s:s.slice(r.length)||"/",x=kr({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),y=d.route;if(!x&&u&&a&&!l[l.length-1].route.index&&(x=kr({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!x)return null;Object.assign(n,x.params),i.push({params:n,pathname:Xt([r,x.pathname]),pathnameBase:Dp(Xt([r,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(r=Xt([r,x.pathnameBase]))}return i}function kr(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,l]=kp(e.path,e.caseSensitive,e.end),n=s.match(a);if(!n)return null;let r=n[0],i=r.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:l.reduce((u,{paramName:h,isOptional:x},y)=>{if(h==="*"){let b=o[y]||"";i=r.slice(0,r.length-b.length).replace(/(.)\/+$/,"$1")}const p=o[y];return x&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:i,pattern:e}}function kp(e,s=!1,a=!0){it(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let l=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,d)=>(l.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(l.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),l]}function Cp(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return it(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),e}}function es(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,l=e.charAt(a);return l&&l!=="/"?null:e.slice(a)||"/"}function Ap(e,s="/"){let{pathname:a,search:l="",hash:n=""}=typeof e=="string"?ta(e):e;return{pathname:a?a.startsWith("/")?a:Tp(a,s):s,search:Ep(l),hash:Lp(n)}}function Tp(e,s){let a=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function Ei(e,s,a,l){return`Cannot include a '${e}' character in a manually specified \`to.${s}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mp(e){return e.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function Vd(e){let s=Mp(e);return s.map((a,l)=>l===s.length-1?a.pathname:a.pathnameBase)}function Yd(e,s,a,l=!1){let n;typeof e=="string"?n=ta(e):(n={...e},fe(!n.pathname||!n.pathname.includes("?"),Ei("?","pathname","search",n)),fe(!n.pathname||!n.pathname.includes("#"),Ei("#","pathname","hash",n)),fe(!n.search||!n.search.includes("#"),Ei("#","search","hash",n)));let r=e===""||n.pathname==="",i=r?"/":n.pathname,o;if(i==null)o=a;else{let x=s.length-1;if(!l&&i.startsWith("..")){let y=i.split("/");for(;y[0]==="..";)y.shift(),x-=1;n.pathname=y.join("/")}o=x>=0?s[x]:"/"}let d=Ap(n,o),u=i&&i!=="/"&&i.endsWith("/"),h=(r||i===".")&&a.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}var Xt=e=>e.join("/").replace(/\/\/+/g,"/"),Dp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ep=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Lp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Rp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Ix=["POST","PUT","PATCH","DELETE"];new Set(Ix);var Op=["GET",...Ix];new Set(Op);var Za=c.createContext(null);Za.displayName="DataRouter";var Yr=c.createContext(null);Yr.displayName="DataRouterState";c.createContext(!1);var Vx=c.createContext({isTransitioning:!1});Vx.displayName="ViewTransition";var Up=c.createContext(new Map);Up.displayName="Fetchers";var zp=c.createContext(null);zp.displayName="Await";var Ct=c.createContext(null);Ct.displayName="Navigation";var dn=c.createContext(null);dn.displayName="Location";var yt=c.createContext({outlet:null,matches:[],isDataRoute:!1});yt.displayName="Route";var Gd=c.createContext(null);Gd.displayName="RouteError";function Pp(e,{relative:s}={}){fe(Ja(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:l}=c.useContext(Ct),{hash:n,pathname:r,search:i}=cn(e,{relative:s}),o=r;return a!=="/"&&(o=r==="/"?a:Xt([a,r])),l.createHref({pathname:o,search:i,hash:n})}function Ja(){return c.useContext(dn)!=null}function zt(){return fe(Ja(),"useLocation() may be used only in the context of a <Router> component."),c.useContext(dn).location}var Yx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gx(e){c.useContext(Ct).static||c.useLayoutEffect(e)}function Ae(){let{isDataRoute:e}=c.useContext(yt);return e?Jp():Bp()}function Bp(){fe(Ja(),"useNavigate() may be used only in the context of a <Router> component.");let e=c.useContext(Za),{basename:s,navigator:a}=c.useContext(Ct),{matches:l}=c.useContext(yt),{pathname:n}=zt(),r=JSON.stringify(Vd(l)),i=c.useRef(!1);return Gx(()=>{i.current=!0}),c.useCallback((d,u={})=>{if(it(i.current,Yx),!i.current)return;if(typeof d=="number"){a.go(d);return}let h=Yd(d,JSON.parse(r),n,u.relative==="path");e==null&&s!=="/"&&(h.pathname=h.pathname==="/"?s:Xt([s,h.pathname])),(u.replace?a.replace:a.push)(h,u.state,u)},[s,a,r,n,e])}var $x=c.createContext(null);function Qx(){return c.useContext($x)}function Fp(e){let s=c.useContext(yt).outlet;return s&&c.createElement($x.Provider,{value:e},s)}function Ka(){let{matches:e}=c.useContext(yt),s=e[e.length-1];return s?s.params:{}}function cn(e,{relative:s}={}){let{matches:a}=c.useContext(yt),{pathname:l}=zt(),n=JSON.stringify(Vd(a));return c.useMemo(()=>Yd(e,JSON.parse(n),l,s==="path"),[e,n,l,s])}function Hp(e,s){return Xx(e,s)}function Xx(e,s,a,l,n){var m;fe(Ja(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=c.useContext(Ct),{matches:i}=c.useContext(yt),o=i[i.length-1],d=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",x=o&&o.route;{let j=x&&x.path||"";Zx(u,!x||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let y=zt(),p;if(s){let j=typeof s=="string"?ta(s):s;fe(h==="/"||((m=j.pathname)==null?void 0:m.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${j.pathname}" was given in the \`location\` prop.`),p=j}else p=y;let b=p.pathname||"/",v=b;if(h!=="/"){let j=h.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=Hx(e,{pathname:v});it(x||N!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),it(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let f=Yp(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Xt([h,r.encodeLocation?r.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:Xt([h,r.encodeLocation?r.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,a,l,n);return s&&f?c.createElement(dn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},f):f}function qp(){let e=Zp(),s=Rp(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:l},r={padding:"2px 4px",backgroundColor:l},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=c.createElement(c.Fragment,null,c.createElement("p",null,"💿 Hey developer 👋"),c.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",c.createElement("code",{style:r},"ErrorBoundary")," or"," ",c.createElement("code",{style:r},"errorElement")," prop on your route.")),c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},s),a?c.createElement("pre",{style:n},a):null,i)}var _p=c.createElement(qp,null),Ip=class extends c.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){this.props.unstable_onError?this.props.unstable_onError(e,s):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?c.createElement(yt.Provider,{value:this.props.routeContext},c.createElement(Gd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vp({routeContext:e,match:s,children:a}){let l=c.useContext(Za);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),c.createElement(yt.Provider,{value:e},a)}function Yp(e,s=[],a=null,l=null,n=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(s.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let r=e,i=a==null?void 0:a.errors;if(i!=null){let u=r.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);fe(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let o=!1,d=-1;if(a)for(let u=0;u<r.length;u++){let h=r[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:x,errors:y}=a,p=h.route.loader&&!x.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||p){o=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((u,h,x)=>{let y,p=!1,b=null,v=null;a&&(y=i&&h.route.id?i[h.route.id]:void 0,b=h.route.errorElement||_p,o&&(d<0&&x===0?(Zx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):d===x&&(p=!0,v=h.route.hydrateFallbackElement||null)));let N=s.concat(r.slice(0,x+1)),f=()=>{let m;return y?m=b:p?m=v:h.route.Component?m=c.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=u,c.createElement(Vp,{match:h,routeContext:{outlet:u,matches:N,isDataRoute:a!=null},children:m})};return a&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?c.createElement(Ip,{location:a.location,revalidation:a.revalidation,component:b,error:y,children:f(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:l}):f()},null)}function $d(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gp(e){let s=c.useContext(Za);return fe(s,$d(e)),s}function $p(e){let s=c.useContext(Yr);return fe(s,$d(e)),s}function Qp(e){let s=c.useContext(yt);return fe(s,$d(e)),s}function Qd(e){let s=Qp(e),a=s.matches[s.matches.length-1];return fe(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function Xp(){return Qd("useRouteId")}function Zp(){var l;let e=c.useContext(Gd),s=$p("useRouteError"),a=Qd("useRouteError");return e!==void 0?e:(l=s.errors)==null?void 0:l[a]}function Jp(){let{router:e}=Gp("useNavigate"),s=Qd("useNavigate"),a=c.useRef(!1);return Gx(()=>{a.current=!0}),c.useCallback(async(n,r={})=>{it(a.current,Yx),a.current&&(typeof n=="number"?e.navigate(n):await e.navigate(n,{fromRouteId:s,...r}))},[e,s])}var Lu={};function Zx(e,s,a){!s&&!Lu[e]&&(Lu[e]=!0,it(!1,a))}c.memo(Kp);function Kp({routes:e,future:s,state:a,unstable_onError:l}){return Xx(e,void 0,a,l,s)}function Xd({to:e,replace:s,state:a,relative:l}){fe(Ja(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=c.useContext(Ct);it(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=c.useContext(yt),{pathname:i}=zt(),o=Ae(),d=Yd(e,Vd(r),i,l==="path"),u=JSON.stringify(d);return c.useEffect(()=>{o(JSON.parse(u),{replace:s,state:a,relative:l})},[o,u,l,s,a]),null}function Gr(e){return Fp(e.context)}function V(e){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Wp({basename:e="/",children:s=null,location:a,navigationType:l="POP",navigator:n,static:r=!1}){fe(!Ja(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),o=c.useMemo(()=>({basename:i,navigator:n,static:r,future:{}}),[i,n,r]);typeof a=="string"&&(a=ta(a));let{pathname:d="/",search:u="",hash:h="",state:x=null,key:y="default"}=a,p=c.useMemo(()=>{let b=es(d,i);return b==null?null:{location:{pathname:b,search:u,hash:h,state:x,key:y},navigationType:l}},[i,d,u,h,x,y,l]);return it(p!=null,`<Router basename="${i}"> is not able to match the URL "${d}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:c.createElement(Ct.Provider,{value:o},c.createElement(dn.Provider,{children:s,value:p}))}function $r({children:e,location:s}){return Hp(zo(e),s)}function zo(e,s=[]){let a=[];return c.Children.forEach(e,(l,n)=>{if(!c.isValidElement(l))return;let r=[...s,n];if(l.type===c.Fragment){a.push.apply(a,zo(l.props.children,r));return}fe(l.type===V,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!l.props.index||!l.props.children,"An index route cannot have child routes.");let i={id:l.props.id||r.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(i.children=zo(l.props.children,r)),a.push(i)}),a}var $n="get",Qn="application/x-www-form-urlencoded";function Qr(e){return e!=null&&typeof e.tagName=="string"}function eb(e){return Qr(e)&&e.tagName.toLowerCase()==="button"}function tb(e){return Qr(e)&&e.tagName.toLowerCase()==="form"}function sb(e){return Qr(e)&&e.tagName.toLowerCase()==="input"}function ab(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lb(e,s){return e.button===0&&(!s||s==="_self")&&!ab(e)}function Po(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,a)=>{let l=e[a];return s.concat(Array.isArray(l)?l.map(n=>[a,n]):[[a,l]])},[]))}function nb(e,s){let a=Po(e);return s&&s.forEach((l,n)=>{a.has(n)||s.getAll(n).forEach(r=>{a.append(n,r)})}),a}var An=null;function rb(){if(An===null)try{new FormData(document.createElement("form"),0),An=!1}catch{An=!0}return An}var ib=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Li(e){return e!=null&&!ib.has(e)?(it(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qn}"`),null):e}function ob(e,s){let a,l,n,r,i;if(tb(e)){let o=e.getAttribute("action");l=o?es(o,s):null,a=e.getAttribute("method")||$n,n=Li(e.getAttribute("enctype"))||Qn,r=new FormData(e)}else if(eb(e)||sb(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||o.getAttribute("action");if(l=d?es(d,s):null,a=e.getAttribute("formmethod")||o.getAttribute("method")||$n,n=Li(e.getAttribute("formenctype"))||Li(o.getAttribute("enctype"))||Qn,r=new FormData(o,e),!rb()){let{name:u,type:h,value:x}=e;if(h==="image"){let y=u?`${u}.`:"";r.append(`${y}x`,"0"),r.append(`${y}y`,"0")}else u&&r.append(u,x)}}else{if(Qr(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=$n,l=null,n=Qn,i=e}return r&&n==="text/plain"&&(i=r,r=void 0),{action:l,method:a.toLowerCase(),encType:n,formData:r,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zd(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function db(e,s,a){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l.pathname==="/"?l.pathname=`_root.${a}`:s&&es(l.pathname,s)==="/"?l.pathname=`${s.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function cb(e,s){if(e.id in s)return s[e.id];try{let a=await import(e.module);return s[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ub(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function mb(e,s,a){let l=await Promise.all(e.map(async n=>{let r=s.routes[n.route.id];if(r){let i=await cb(r,a);return i.links?i.links():[]}return[]}));return gb(l.flat(1).filter(ub).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function Ru(e,s,a,l,n,r){let i=(d,u)=>a[u]?d.route.id!==a[u].route.id:!0,o=(d,u)=>{var h;return a[u].pathname!==d.pathname||((h=a[u].route.path)==null?void 0:h.endsWith("*"))&&a[u].params["*"]!==d.params["*"]};return r==="assets"?s.filter((d,u)=>i(d,u)||o(d,u)):r==="data"?s.filter((d,u)=>{var x;let h=l.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(i(d,u)||o(d,u))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((x=a[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function hb(e,s,{includeHydrateFallback:a}={}){return xb(e.map(l=>{let n=s.routes[l.route.id];if(!n)return[];let r=[n.module];return n.clientActionModule&&(r=r.concat(n.clientActionModule)),n.clientLoaderModule&&(r=r.concat(n.clientLoaderModule)),a&&n.hydrateFallbackModule&&(r=r.concat(n.hydrateFallbackModule)),n.imports&&(r=r.concat(n.imports)),r}).flat(1))}function xb(e){return[...new Set(e)]}function fb(e){let s={},a=Object.keys(e).sort();for(let l of a)s[l]=e[l];return s}function gb(e,s){let a=new Set;return new Set(s),e.reduce((l,n)=>{let r=JSON.stringify(fb(n));return a.has(r)||(a.add(r),l.push({key:r,link:n})),l},[])}function Jx(){let e=c.useContext(Za);return Zd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function pb(){let e=c.useContext(Yr);return Zd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Jd=c.createContext(void 0);Jd.displayName="FrameworkContext";function Kx(){let e=c.useContext(Jd);return Zd(e,"You must render this element inside a <HydratedRouter> element"),e}function bb(e,s){let a=c.useContext(Jd),[l,n]=c.useState(!1),[r,i]=c.useState(!1),{onFocus:o,onBlur:d,onMouseEnter:u,onMouseLeave:h,onTouchStart:x}=s,y=c.useRef(null);c.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let v=f=>{f.forEach(m=>{i(m.isIntersecting)})},N=new IntersectionObserver(v,{threshold:.5});return y.current&&N.observe(y.current),()=>{N.disconnect()}}},[e]),c.useEffect(()=>{if(l){let v=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(v)}}},[l]);let p=()=>{n(!0)},b=()=>{n(!1),i(!1)};return a?e!=="intent"?[r,y,{}]:[r,y,{onFocus:ol(o,p),onBlur:ol(d,b),onMouseEnter:ol(u,p),onMouseLeave:ol(h,b),onTouchStart:ol(x,p)}]:[!1,y,{}]}function ol(e,s){return a=>{e&&e(a),a.defaultPrevented||s(a)}}function yb({page:e,...s}){let{router:a}=Jx(),l=c.useMemo(()=>Hx(a.routes,e,a.basename),[a.routes,e,a.basename]);return l?c.createElement(jb,{page:e,matches:l,...s}):null}function vb(e){let{manifest:s,routeModules:a}=Kx(),[l,n]=c.useState([]);return c.useEffect(()=>{let r=!1;return mb(e,s,a).then(i=>{r||n(i)}),()=>{r=!0}},[e,s,a]),l}function jb({page:e,matches:s,...a}){let l=zt(),{manifest:n,routeModules:r}=Kx(),{basename:i}=Jx(),{loaderData:o,matches:d}=pb(),u=c.useMemo(()=>Ru(e,s,d,n,l,"data"),[e,s,d,n,l]),h=c.useMemo(()=>Ru(e,s,d,n,l,"assets"),[e,s,d,n,l]),x=c.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let b=new Set,v=!1;if(s.forEach(f=>{var j;let m=n.routes[f.route.id];!m||!m.hasLoader||(!u.some(g=>g.route.id===f.route.id)&&f.route.id in o&&((j=r[f.route.id])!=null&&j.shouldRevalidate)||m.hasClientLoader?v=!0:b.add(f.route.id))}),b.size===0)return[];let N=db(e,i,"data");return v&&b.size>0&&N.searchParams.set("_routes",s.filter(f=>b.has(f.route.id)).map(f=>f.route.id).join(",")),[N.pathname+N.search]},[i,o,l,n,u,s,e,r]),y=c.useMemo(()=>hb(h,n),[h,n]),p=vb(h);return c.createElement(c.Fragment,null,x.map(b=>c.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...a})),y.map(b=>c.createElement("link",{key:b,rel:"modulepreload",href:b,...a})),p.map(({key:b,link:v})=>c.createElement("link",{key:b,nonce:a.nonce,...v})))}function Nb(...e){return s=>{e.forEach(a=>{typeof a=="function"?a(s):a!=null&&(a.current=s)})}}var Wx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wx&&(window.__reactRouterVersion="7.8.2")}catch{}function wb({basename:e,children:s,window:a}){let l=c.useRef();l.current==null&&(l.current=cp({window:a,v5Compat:!0}));let n=l.current,[r,i]=c.useState({action:n.action,location:n.location}),o=c.useCallback(d=>{c.startTransition(()=>i(d))},[i]);return c.useLayoutEffect(()=>n.listen(o),[n,o]),c.createElement(Wp,{basename:e,children:s,location:r.location,navigationType:r.action,navigator:n})}var ef=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$=c.forwardRef(function({onClick:s,discover:a="render",prefetch:l="none",relative:n,reloadDocument:r,replace:i,state:o,target:d,to:u,preventScrollReset:h,viewTransition:x,...y},p){let{basename:b}=c.useContext(Ct),v=typeof u=="string"&&ef.test(u),N,f=!1;if(typeof u=="string"&&v&&(N=u,Wx))try{let C=new URL(window.location.href),A=u.startsWith("//")?new URL(C.protocol+u):new URL(u),M=es(A.pathname,b);A.origin===C.origin&&M!=null?u=M+A.search+A.hash:f=!0}catch{it(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=Pp(u,{relative:n}),[j,g,k]=bb(l,y),w=Cb(u,{replace:i,state:o,target:d,preventScrollReset:h,relative:n,viewTransition:x});function S(C){s&&s(C),C.defaultPrevented||w(C)}let T=c.createElement("a",{...y,...k,href:N||m,onClick:f||r?s:S,ref:Nb(p,g),target:d,"data-discover":!v&&a==="render"?"true":void 0});return j&&!v?c.createElement(c.Fragment,null,T,c.createElement(yb,{page:m})):T});$.displayName="Link";var Zs=c.forwardRef(function({"aria-current":s="page",caseSensitive:a=!1,className:l="",end:n=!1,style:r,to:i,viewTransition:o,children:d,...u},h){let x=cn(i,{relative:u.relative}),y=zt(),p=c.useContext(Yr),{navigator:b,basename:v}=c.useContext(Ct),N=p!=null&&Eb(x)&&o===!0,f=b.encodeLocation?b.encodeLocation(x).pathname:x.pathname,m=y.pathname,j=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(m=m.toLowerCase(),j=j?j.toLowerCase():null,f=f.toLowerCase()),j&&v&&(j=es(j,v)||j);const g=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let k=m===f||!n&&m.startsWith(f)&&m.charAt(g)==="/",w=j!=null&&(j===f||!n&&j.startsWith(f)&&j.charAt(f.length)==="/"),S={isActive:k,isPending:w,isTransitioning:N},T=k?s:void 0,C;typeof l=="function"?C=l(S):C=[l,k?"active":null,w?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let A=typeof r=="function"?r(S):r;return c.createElement($,{...u,"aria-current":T,className:C,ref:h,style:A,to:i,viewTransition:o},typeof d=="function"?d(S):d)});Zs.displayName="NavLink";var Sb=c.forwardRef(({discover:e="render",fetcherKey:s,navigate:a,reloadDocument:l,replace:n,state:r,method:i=$n,action:o,onSubmit:d,relative:u,preventScrollReset:h,viewTransition:x,...y},p)=>{let b=Mb(),v=Db(o,{relative:u}),N=i.toLowerCase()==="get"?"get":"post",f=typeof o=="string"&&ef.test(o),m=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let g=j.nativeEvent.submitter,k=(g==null?void 0:g.getAttribute("formmethod"))||i;b(g||j.currentTarget,{fetcherKey:s,method:k,navigate:a,replace:n,state:r,relative:u,preventScrollReset:h,viewTransition:x})};return c.createElement("form",{ref:p,method:N,action:v,onSubmit:l?d:m,...y,"data-discover":!f&&e==="render"?"true":void 0})});Sb.displayName="Form";function kb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tf(e){let s=c.useContext(Za);return fe(s,kb(e)),s}function Cb(e,{target:s,replace:a,state:l,preventScrollReset:n,relative:r,viewTransition:i}={}){let o=Ae(),d=zt(),u=cn(e,{relative:r});return c.useCallback(h=>{if(lb(h,s)){h.preventDefault();let x=a!==void 0?a:_l(d)===_l(u);o(e,{replace:x,state:l,preventScrollReset:n,relative:r,viewTransition:i})}},[d,o,u,a,l,s,e,n,r,i])}function sf(e){it(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let s=c.useRef(Po(e)),a=c.useRef(!1),l=zt(),n=c.useMemo(()=>nb(l.search,a.current?null:s.current),[l.search]),r=Ae(),i=c.useCallback((o,d)=>{const u=Po(typeof o=="function"?o(new URLSearchParams(n)):o);a.current=!0,r("?"+u,d)},[r,n]);return[n,i]}var Ab=0,Tb=()=>`__${String(++Ab)}__`;function Mb(){let{router:e}=tf("useSubmit"),{basename:s}=c.useContext(Ct),a=Xp();return c.useCallback(async(l,n={})=>{let{action:r,method:i,encType:o,formData:d,body:u}=ob(l,s);if(n.navigate===!1){let h=n.fetcherKey||Tb();await e.fetch(h,a,n.action||r,{preventScrollReset:n.preventScrollReset,formData:d,body:u,formMethod:n.method||i,formEncType:n.encType||o,flushSync:n.flushSync})}else await e.navigate(n.action||r,{preventScrollReset:n.preventScrollReset,formData:d,body:u,formMethod:n.method||i,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,s,a])}function Db(e,{relative:s}={}){let{basename:a}=c.useContext(Ct),l=c.useContext(yt);fe(l,"useFormAction must be used inside a RouteContext");let[n]=l.matches.slice(-1),r={...cn(e||".",{relative:s})},i=zt();if(e==null){r.search=i.search;let o=new URLSearchParams(r.search),d=o.getAll("index");if(d.some(h=>h==="")){o.delete("index"),d.filter(x=>x).forEach(x=>o.append("index",x));let h=o.toString();r.search=h?`?${h}`:""}}return(!e||e===".")&&n.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(r.pathname=r.pathname==="/"?a:Xt([a,r.pathname])),_l(r)}function Eb(e,{relative:s}={}){let a=c.useContext(Vx);fe(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=tf("useViewTransitionState"),n=cn(e,{relative:s});if(!a.isTransitioning)return!1;let r=es(a.currentLocation.pathname,l)||a.currentLocation.pathname,i=es(a.nextLocation.pathname,l)||a.nextLocation.pathname;return kr(n.pathname,i)!=null||kr(n.pathname,r)!=null}const sa="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJzaGllbGRHcmFkaWVudCIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMTAwJSI+PHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6I0IyMjIyMjtzdG9wLW9wYWNpdHk6MSIgLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM4QjAwMDA7c3RvcC1vcGFjaXR5OjEiIC8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHBhdGggZD0iTTUwIDIgQyAxNSAxMCwgMTAgNDAsIDEwIDUwIEMgMTAgODAsIDUwIDk4LCA1MCA5OCBDIDUwIDk4LCA5MCA4MCwgOTAgNTAgQyA5MCA0MCwgODUgMTAsIDUwIDIgWiIgZmlsbD0idXJsKCNzaGllbGRHcmFkaWVudCkiLz48dGV4dCB4PSI1MCUiIHk9IjYyJSIgZm9udC1mYW1pbHk9IkludGVyLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjM4IiBmb250LXdlaWdodD0iOTAwIiBmaWxsPSIjRkZGRkZGIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBsZXR0ZXItc3BhY2luZz0iLTEiPlJMQTwvdGV4dD48L3N2Zz4=",Lb="Reliant Learners Academy",Il={email:"learnersaccademynp@gmail.com",phones:["+977-9802394518","+977-9802394519"],address:"Kathmandu, 44600, Nepal",officeHours:"Sun - Fri, 9:00 AM - 5:00 PM",socials:[{id:1,name:"Facebook",url:"https://www.facebook.com/people/ACCA-at-Learners-Academy/61565499307383/",iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAANhJREFUaEPtmFEKgzAMRS8x739p1oN25SI4ZImEttNSxL/QQBTG2SxdB4D/Ap6AAbxjZ3kIdwLmh+2kUdqwNY2WsjXNMt3a5CS7gLUDbHIErAE7wBhgK5N86gaYpIaGZ4A/J50ADsAbgAUga0Y4JgKANnABfPIt4APoAJ2AR8Av8M3a+QGcgSfgCrgBfI8hFQAw3gGbgBvA5y9gBdwATz8AasB2ADgItoANGAB2gA0YAHAENoANGAB2gA0YAHAENoANGAB2gA0YAHAENoANGAB2gA0YAHAENoANAACyzgP6kYpGtgAAAABJRU5ErkJggg=="},{id:2,name:"WhatsApp",url:"https://wa.me/9779802394517",iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAANhJREFUaEPtmFEKgzAMRS8x739p1oN25SI4ZImEttNSxL/QQBTG2SxdB4D/Ap6AAbxjZ3kIdwLmh+2kUdqwNY2WsjXNMt3a5CS7gLUDbHIErAE7wBhgK5N86gaYpIaGZ4A/J50ADsAbgAUga0Y4JgKANnABfPIt4APoAJ2AR8Av8M3a+QGcgSfgCrgBfI8hFQAw3gGbgBvA5y9gBdwATz8AasB2ADgItoANGAB2gA0YAHAENoANGAB2gA0YAHAENoANGAB2gA0YAHAENoANGAB2gA0YAHAENoANAACyzgP6kYpGtgAAAABJRU5ErkJggg=="}]},af={id:"admin01",name:"Admin User",email:"admin@learners.edu",avatarUrl:sa},Bo=[],Fo=[{id:1,url:"https://picsum.photos/seed/hero-campus/1920/1080",alt:"Vibrant campus life at Learners Academy",title:{main:"Shape Your Future in Finance with",highlighted:"Reliant Learners Academy"},subtitle:"Your premier destination for ACCA qualifications and professional accounting education.",buttons:[{to:"/admissions",text:"Apply Now",variant:"primary"},{to:"/courses",text:"Explore Courses",variant:"secondary"}]},{id:2,url:"https://picsum.photos/seed/hero-classroom/1920/1080",alt:"Students engaged in a modern classroom",title:{main:"Expert-Led & Interactive",highlighted:"ACCA Classes"},subtitle:"Learn from industry veterans in state-of-the-art facilities designed for your success.",buttons:[{to:"/about",text:"Meet Our Faculty",variant:"primary"},{to:"/gallery",text:"View Our Campus",variant:"secondary"}]},{id:3,url:"https://picsum.photos/seed/hero-students/1920/1080",alt:"Successful students celebrating their achievements",title:{main:"Join a Community of",highlighted:"Successful Achievers"},subtitle:"Benefit from our proven high pass rates and dedicated career support to launch your professional journey.",buttons:[{to:"/admissions",text:"Start Your Journey",variant:"primary"},{to:"/blog",text:"Read Success Stories",variant:"secondary"}]}],ce=[{id:1,name:"Kabin Pyakurel",username:"kabin.p",password:"password123",email:"kabin.p@learners.edu",phone:"+977-9801112221",qualification:"FCCA, MBA",bio:"A passionate educator with over 10 years of experience in teaching professional accounting. Specializes in Financial Reporting and Auditing.",imageUrl:"https://picsum.photos/seed/kabin/400/400",assignedPapers:["FR: Financial Reporting","AA: Audit and Assurance","SBR: Strategic Business Reporting"],address:"Kathmandu, Nepal",baseSalary:8e4,salaryHistory:[]},{id:2,name:"Susan Bones",username:"susan.b",password:"password123",email:"susan.b@learners.edu",phone:"+977-9801112222",qualification:"ACCA, MSc Finance",bio:"Expert in Performance Management and Financial Management, with a knack for simplifying complex topics for students.",imageUrl:"https://picsum.photos/seed/susan/400/400",assignedPapers:["PM: Performance Management","FM: Financial Management","APM: Advanced Performance Management"],address:"Pokhara, Nepal",baseSalary:75e3,salaryHistory:[]}],we=[{id:"applied-knowledge",title:"ACCA Applied Knowledge",level:"Applied Knowledge",description:"The Applied Knowledge exams are your starting point, providing a broad introduction to the world of finance and accounting. These exams are the essential foundation for your journey towards becoming a qualified professional.",duration:"6-12 months",eligibility:"High School / A-Levels",papers:["AB: Accountant in Business","MA: Management Accounting","FA: Financial Accounting"],syllabus:[{topic:"Business and Technology (BT)",details:"Understanding business in the context of its environment, including economic, legal, and regulatory influences on aspects like governance, employments, health and safety, data protection and security."},{topic:"Management Accounting (MA)",details:"Developing the knowledge and ability to apply management accounting techniques to quantitative and qualitative information for planning, decision-making, performance evaluation and control."},{topic:"Financial Accounting (FA)",details:"Developing knowledge and understanding of the underlying principles and concepts relating to financial accounting and technical proficiency in the use of double-entry accounting techniques."}],learningOutcomes:["Understand business structures and their purpose.","Master cost accounting and budgeting techniques.","Prepare and interpret financial statements for single entities."],facultyIds:[],studentIds:[]},{id:"applied-skills",title:"ACCA Applied Skills",level:"Applied Skills",description:"Building on your existing knowledge, the Applied Skills exams develop the strong, broad, and practical finance skills required of a strategic professional. These exams cover key technical areas that all accountants need to know.",duration:"12-18 months",eligibility:"ACCA Applied Knowledge or equivalent",papers:["LW: Corporate and Business Law","PM: Performance Management","TX: Taxation","FR: Financial Reporting","AA: Audit and Assurance","FM: Financial Management"],syllabus:[{topic:"Corporate and Business Law (LW)",details:"Understanding the general legal framework, and of specific legal areas relating to business, recognising the need to seek further specialist legal advice where necessary."},{topic:"Performance Management (PM)",details:"Applying management accounting techniques to quantitative and qualitative information for planning, decision-making, performance evaluation, and control."},{topic:"Taxation (TX)",details:"Understanding the tax system as applicable to individuals, single companies, and groups of companies."},{topic:"Financial Reporting (FR)",details:"Developing knowledge and skills in understanding and applying accounting standards and the theoretical framework in the preparation of financial statements of entities, including groups and how to analyse and interpret those financial statements."},{topic:"Audit and Assurance (AA)",details:"Understanding and applying assurance engagement, including the regulatory framework."},{topic:"Financial Management (FM)",details:"Developing the knowledge and skills expected of a financial manager."}],learningOutcomes:["Understand legal frameworks for business.","Apply advanced performance management techniques.","Prepare financial statements for groups (consolidated accounts).","Understand the audit process from planning to reporting."],facultyIds:[],studentIds:[]},{id:"strategic-professional",title:"ACCA Strategic Professional",level:"Strategic Professional",description:"The Strategic Professional exams prepare you for future leadership positions. They develop the strategic vision, expertise, and professional skills needed to make an impact in the workplace and add value to any organization.",duration:"12-18 months",eligibility:"ACCA Applied Skills or equivalent",papers:["SBL: Strategic Business Leader","SBR: Strategic Business Reporting","AFM: Advanced Financial Management","APM: Advanced Performance Management","ATX: Advanced Taxation","AAA: Advanced Audit and Assurance"],options:["SBL: Strategic Business Leader","SBR: Strategic Business Reporting","AFM: Advanced Financial Management","APM: Advanced Performance Management","ATX: Advanced Taxation","AAA: Advanced Audit and Assurance"],maxOptions:4,syllabus:[{topic:"Strategic Business Leader (SBL)",details:"Applying excellent leadership and ethical skills to lead organisations effectively."},{topic:"Strategic Business Reporting (SBR)",details:"Applying professional judgment in the reporting of financial information."},{topic:"Advanced Financial Management (AFM)",details:"Advising management and/or clients on complex strategic financial management issues."},{topic:"Advanced Performance Management (APM)",details:"Applying relevant knowledge, skills and exercise professional judgement in selecting and applying strategic management accounting techniques in different business contexts."}],learningOutcomes:["Demonstrate effective leadership and ethical decision-making.","Evaluate and communicate business reporting implications.","Master advanced investment and financing strategies.","Apply strategic management accounting techniques."],facultyIds:[],studentIds:[]}],Ho=[{id:1,name:"Rohan Thapa",program:"ACCA Applied Skills",quote:"The faculty at Learners Academy is top-notch. Their guidance and personalized attention were crucial for my success in the FR and AA papers.",imageUrl:"https://picsum.photos/seed/rohan/200/200"},{id:2,name:"Anjali Lama",program:"ACCA Strategic Professional",quote:"I'm grateful for the supportive learning environment and the extensive mock exam practice. It made a huge difference in my confidence and exam performance.",imageUrl:"https://picsum.photos/seed/anjali/200/200"},{id:3,name:"Bikash Shrestha",program:"ACCA Foundation",quote:"As a beginner, the foundational courses were explained with such clarity. I built a strong base here which is helping me in the higher levels.",imageUrl:"https://picsum.photos/seed/bikash/200/200"}],qo=[{question:"What is the duration of the ACCA course?",answer:"The ACCA qualification can be completed in as little as 2-3 years, but this can vary depending on your starting level, number of exemptions, and how many papers you sit per session."},{question:"Are there any entry requirements for ACCA?",answer:"For the ACCA Qualification, you generally need a minimum of two A-Levels and three GCSEs (or their equivalents) in five separate subjects, including English and Maths. If you don't meet these, you can start with the Foundations in Accountancy qualifications."},{question:"How many exams are there in ACCA?",answer:"There are a total of 13 exams, split into three levels: Applied Knowledge (3 exams), Applied Skills (6 exams), and Strategic Professional (4 exams)."},{question:"Does Learners Academy provide study materials?",answer:"Yes, we provide comprehensive, up-to-date study materials, including lecture notes, question banks, and mock exams, all included in your course fees."},{question:"Can I pay my fees in installments?",answer:"Yes, we offer flexible installment plans to make the course more affordable. Please contact our admissions office for details on the payment schedule."}],lf=[{id:1,type:"image",src:"https://picsum.photos/seed/campus-1/600/400",alt:"Main campus building",category:"Campus"},{id:2,type:"image",src:"https://picsum.photos/seed/events-1/600/400",alt:"Annual student orientation day",category:"Events"},{id:3,type:"image",src:"https://picsum.photos/seed/class-1/600/400",alt:"Modern classroom with interactive whiteboard",category:"Classrooms"},{id:4,type:"image",src:"https://picsum.photos/seed/students-1/600/400",alt:"Group of students studying in the library",category:"Students"},{id:5,type:"image",src:"https://picsum.photos/seed/campus-2/600/400",alt:"Campus garden area",category:"Campus"},{id:6,type:"image",src:"https://picsum.photos/seed/events-2/600/400",alt:"Guest lecture seminar",category:"Events"},{id:7,type:"image",src:"https://picsum.photos/seed/class-2/600/400",alt:"Computer lab session",category:"Classrooms"},{id:8,type:"image",src:"https://picsum.photos/seed/students-2/600/400",alt:"Students collaborating on a project",category:"Students"}],Cr=[{id:1,title:"A Day in the Life of an ACCA Student",description:"Follow our student, Anjali, as she takes you through a typical day at Learners Academy.",sourceType:"url",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnailUrl:"https://picsum.photos/seed/vlog-1/800/600",publicationDate:"2024-07-20"},{id:2,title:"Campus Tour: Explore Our Facilities",description:"Join us for a virtual tour of our state-of-the-art campus, from classrooms to the library.",sourceType:"url",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",thumbnailUrl:"https://picsum.photos/seed/vlog-2/800/600",publicationDate:"2024-07-15"}],un=[],ne=[{id:1,name:"Anita Sharma",avatarUrl:"https://picsum.photos/seed/anita/200/200",studentId:"S12345",password:"password123",email:"anita.s@example.com",phone:"9801234567",address:"Baneshwor, Kathmandu",dob:"2002-05-15",enrollmentDate:"2023-01-10",currentLevel:"Applied Skills",enrolledPapers:["FR","AA","PM"],totalFee:15e4,discount:1e4,grades:{},attendance:{FR:92,AA:88,PM:95},paymentHistory:[{invoiceId:"INV001",date:"2023-01-10",amount:5e4,status:"Paid",method:"eSewa"},{invoiceId:"INV002",date:"2023-04-10",amount:5e4,status:"Paid",method:"Khalti"}],dueDate:"2024-08-10"}],_o=[{id:1,name:"Ramesh Poudel",avatarUrl:"https://picsum.photos/seed/ramesh/200/200",achievement:"Nepal Topper in FR"},{id:2,name:"Sita Gurung",avatarUrl:"https://picsum.photos/seed/sita/200/200",achievement:"Passed all Skills papers in first attempt"},{id:3,name:"Hari Bahadur",avatarUrl:"https://picsum.photos/seed/hari/200/200",achievement:"World Rank Holder in PM"},{id:4,name:"Gita Thapa",avatarUrl:"https://picsum.photos/seed/gita/200/200",achievement:"National Prize Winner in SBL"},{id:5,name:"Bishal Rai",avatarUrl:"https://picsum.photos/seed/bishal/200/200",achievement:"Top Affiliate of the Year"},{id:6,name:"Maya Sherpa",avatarUrl:"https://picsum.photos/seed/maya/200/200",achievement:"Passed all exams in one go"},{id:7,name:"Nabin K.C.",avatarUrl:"https://picsum.photos/seed/nabin/200/200",achievement:"Highest Scorer in AAA"},{id:8,name:"Priya Karki",avatarUrl:"https://picsum.photos/seed/priya/200/200",achievement:"ACCA Scholarship Winner"}],Rb=[],nf=[{level:"One-Time Fees",items:[{details:"ACCA Initial Registration",ukFeesNrs:15e3,collegeFeesNrs:0},{details:"Annual Subscription Fee",ukFeesNrs:2e4,collegeFeesNrs:0}]},{level:"ACCA Knowledge Level",items:[{paper:"AB, MA, FA",details:"Per Paper Exam Fee",ukFeesNrs:15e3,collegeFeesNrs:18e3}],subtotals:{ukFeesNrs:45e3,collegeFeesNrs:54e3}}],Ob={FR:[],AA:[],PM:[]},Kd=[],Vl=[],Da=[],Ea=[],bs=[],Yl=[],Ou=[],Wd=[],rf=[],Xr=[],Ub=[],zb=[],Pb=[],Bb=[],E=(e,s)=>{try{const a=localStorage.getItem(e);if(a)return JSON.parse(a)}catch(a){console.error(`Error reading '${e}' from localStorage:`,a)}return s},se=(e,s)=>{try{localStorage.setItem(e,JSON.stringify(s))}catch(a){console.error(`Error saving '${e}' to localStorage:`,a)}},Fb=(e,s)=>{try{return localStorage.getItem(e)||s}catch(a){return console.error(`Error reading item '${e}' from localStorage:`,a),s}},Hb=()=>{const[e,s]=c.useState(()=>E("newsTicker",Bo)),[a,l]=c.useState(0);return c.useEffect(()=>{const n=r=>{r.key==="newsTicker"&&s(E("newsTicker",Bo))};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[]),c.useEffect(()=>{if(e.length===0)return;const n=setInterval(()=>{l(r=>(r+1)%e.length)},5e3);return()=>clearInterval(n)},[e]),e.length===0?null:t.jsx("div",{className:"bg-brand-dark text-white py-3 overflow-hidden",children:t.jsx("div",{className:"container mx-auto px-6",children:t.jsx("div",{className:"relative h-6",children:e.map((n,r)=>t.jsx("div",{className:`absolute w-full transition-transform duration-1000 ease-in-out ${r===a?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:t.jsx("p",{className:"text-center font-medium truncate",children:n})},r))})})})};function qb(e,s){try{const a=localStorage.getItem(e);if(a!==null)return JSON.parse(a)}catch(a){console.error(`Error reading '${e}' from localStorage:`,a)}return s}function ts(e,s){const[a,l]=c.useState(()=>qb(e,s)),n=c.useCallback(r=>{try{const i=JSON.stringify(r);localStorage.setItem(e,i),window.dispatchEvent(new StorageEvent("storage",{key:e,newValue:i})),l(r)}catch(i){console.error(`Error saving '${e}' to localStorage:`,i)}},[e]);return c.useEffect(()=>{const r=i=>{if(i.key===e&&i.newValue!==null)try{l(JSON.parse(i.newValue))}catch(o){console.error(`Error parsing new value for '${e}' from storage event:`,o)}else i.key===e&&i.newValue===null&&l(s)};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[e,s]),[a,n]}const Uu=[{to:"/",text:"Home"},{to:"/about",text:"About"},{to:"/courses",text:"Courses"},{to:"/admissions",text:"Admissions"},{to:"/gallery",text:"Gallery"},{to:"/faq",text:"FAQ"},{to:"/blog",text:"Blog"},{to:"/contact",text:"Contact"}],_b=()=>{const[e]=ts("academyLogoUrl",sa);return t.jsxs(Zs,{to:"/",className:"flex items-center",children:[t.jsx("img",{src:e,alt:"Learners Academy Logo",className:"h-12 w-auto"}),t.jsx("span",{className:"ml-3 text-xl font-bold text-brand-dark hidden sm:inline",children:"Reliant Learners Academy"})]})},Ib=()=>{const[e,s]=c.useState(!1),[a,l]=c.useState(!1),n=c.useRef(null);return c.useEffect(()=>{const r=i=>{n.current&&!n.current.contains(i.target)&&l(!1)};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]),t.jsxs(t.Fragment,{children:[t.jsx(Hb,{}),t.jsxs("header",{className:"bg-white shadow-md sticky top-0 z-40",children:[t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-4 flex justify-between items-center",children:[t.jsx(_b,{}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("nav",{className:"hidden md:flex items-center space-x-2 lg:space-x-4",children:Uu.map(r=>t.jsx(Zs,{to:r.to,className:({isActive:i})=>`font-semibold text-sm lg:text-base ${i?"text-brand-red":"text-brand-dark"} hover:text-brand-red transition-colors px-2 py-1 rounded-md`,children:r.text},r.to))}),t.jsxs("div",{ref:n,className:"hidden md:block relative ml-4",children:[t.jsxs("button",{onClick:()=>l(r=>!r),className:"bg-brand-red text-white px-4 py-2 rounded-md font-semibold text-sm hover:bg-red-700 transition-colors flex items-center","aria-haspopup":"true","aria-expanded":a,children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Login"]}),a&&t.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border animate-fade-in-down",children:[t.jsx($,{to:"/login?role=student",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Student Portal"}),t.jsx($,{to:"/login?role=faculty",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Faculty Portal"})]}),t.jsx("style",{children:`
                                @keyframes fade-in-down {
                                    0% { opacity: 0; transform: translateY(-10px); }
                                    100% { opacity: 1; transform: translateY(0); }
                                }
                                .animate-fade-in-down { animation: fade-in-down 0.2s ease-out forwards; }
                            `})]}),t.jsx("div",{className:"md:hidden ml-4",children:t.jsx("button",{onClick:()=>s(!e),"aria-label":"Open menu",children:t.jsx("svg",{className:"w-6 h-6 text-brand-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})})})]})]}),t.jsx("div",{className:`md:hidden transition-all duration-300 ease-in-out ${e?"max-h-screen":"max-h-0"} overflow-hidden`,children:t.jsxs("nav",{className:"flex flex-col space-y-1 px-4 pb-4",children:[Uu.map(r=>t.jsx(Zs,{to:r.to,className:({isActive:i})=>`block py-2 px-3 text-base font-medium rounded-md ${i?"text-brand-red bg-red-50":"text-brand-dark hover:bg-gray-100"}`,onClick:()=>s(!1),children:r.text},r.to)),t.jsx("div",{className:"border-t my-2"}),t.jsx($,{to:"/login?role=student",className:"block py-2 px-3 text-base font-medium rounded-md text-brand-dark hover:bg-gray-100",onClick:()=>s(!1),children:"Student Login"}),t.jsx($,{to:"/login?role=faculty",className:"block py-2 px-3 text-base font-medium rounded-md text-brand-dark hover:bg-gray-100",onClick:()=>s(!1),children:"Faculty Login"})]})})]})]})},Vb=()=>{const[e]=ts("academyLogoUrl",sa);return t.jsx($,{to:"/",className:"flex items-center",children:t.jsx("img",{src:e,alt:"Learners Academy Logo",className:"h-12 w-auto"})})},Yb=()=>{const[e,s]=c.useState(()=>E("contactDetails",Il));return c.useEffect(()=>{const a=l=>{l.key==="contactDetails"&&s(E("contactDetails",Il))};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),t.jsx("footer",{className:"bg-brand-dark text-white",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-12",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[t.jsxs("div",{className:"col-span-1 md:col-span-1",children:[t.jsx(Vb,{}),t.jsx("p",{className:"mt-4 text-gray-400 text-sm",children:"Your gateway to a successful career in accounting and finance."}),t.jsx("div",{className:"mt-4",children:t.jsx($,{to:"/login?role=admin",className:"text-xs text-gray-500 hover:text-white",children:"Admin Login"})})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold tracking-wider uppercase",children:"Quick Links"}),t.jsxs("ul",{className:"mt-4 space-y-2",children:[t.jsx("li",{children:t.jsx($,{to:"/about",className:"text-gray-400 hover:text-white transition-colors",children:"About Us"})}),t.jsx("li",{children:t.jsx($,{to:"/courses",className:"text-gray-400 hover:text-white transition-colors",children:"Courses"})}),t.jsx("li",{children:t.jsx($,{to:"/gallery",className:"text-gray-400 hover:text-white transition-colors",children:"Gallery"})}),t.jsx("li",{children:t.jsx($,{to:"/blog",className:"text-gray-400 hover:text-white transition-colors",children:"Blog"})}),t.jsx("li",{children:t.jsx($,{to:"/faq",className:"text-gray-400 hover:text-white transition-colors",children:"FAQ"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold tracking-wider uppercase",children:"Portals"}),t.jsxs("ul",{className:"mt-4 space-y-2",children:[t.jsx("li",{children:t.jsx($,{to:"/login?role=student",className:"text-gray-400 hover:text-white transition-colors",children:"Student Portal"})}),t.jsx("li",{children:t.jsx($,{to:"/login?role=faculty",className:"text-gray-400 hover:text-white transition-colors",children:"Faculty Portal"})}),t.jsx("li",{children:t.jsx($,{to:"/admissions",className:"text-gray-400 hover:text-white transition-colors",children:"Apply Now"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold tracking-wider uppercase",children:"Contact Us"}),t.jsxs("ul",{className:"mt-4 space-y-2 text-gray-400",children:[t.jsx("li",{children:e.address}),t.jsxs("li",{children:["Email: ",t.jsx("a",{href:`mailto:${e.email}`,className:"hover:text-white transition-colors",children:e.email})]}),e.phones.map((a,l)=>t.jsxs("li",{children:["Phone: ",t.jsx("a",{href:`tel:${a.replace(/-/g,"")}`,className:"hover:text-white transition-colors",children:a})]},l))]})]})]}),t.jsxs("div",{className:"mt-12 border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-gray-400",children:[t.jsxs("p",{children:["© ",new Date().getFullYear()," Reliant Learners Academy. All Rights Reserved."]}),t.jsx("div",{className:"flex space-x-4 mt-4 md:mt-0",children:e.socials.map(a=>t.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity","aria-label":a.name,children:t.jsx("img",{src:a.iconUrl,alt:a.name,className:"w-6 h-6 object-contain"})},a.id))})]})]})})},Gb=({notification:e,onClose:s})=>t.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:s,children:[t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg overflow-hidden",onClick:a=>a.stopPropagation(),children:[t.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-56 object-cover"}),t.jsxs("div",{className:"p-6 text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-2",children:e.title}),t.jsx("p",{className:"text-gray-600 mb-6",children:e.content}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[e.link&&e.linkText&&t.jsx($,{to:e.link,onClick:s,className:"bg-brand-red text-white px-8 py-3 rounded-md font-semibold hover:bg-red-700 transition-transform hover:scale-105 shadow-lg",children:e.linkText}),t.jsx("button",{onClick:s,className:"bg-gray-200 text-brand-dark px-8 py-3 rounded-md font-semibold hover:bg-gray-300 transition-transform hover:scale-105 shadow-lg",children:"Close"})]})]})]}),t.jsx("style",{children:`
                @keyframes fade-in {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
            `})]}),$b=()=>{const[e,s]=c.useState(null),[a,l]=c.useState(!1);c.useEffect(()=>{const i=E("popups",[]).filter(o=>o.isActive);if(i.length>0){const o=JSON.parse(sessionStorage.getItem("seenPopupIds")||"[]"),d=i.find(u=>!o.includes(u.id));d&&(s(d),setTimeout(()=>l(!0),1500))}},[]);const n=()=>{if(e){l(!1);const r=JSON.parse(sessionStorage.getItem("seenPopupIds")||"[]");sessionStorage.setItem("seenPopupIds",JSON.stringify([...r,e.id]))}};return!a||!e?null:t.jsx(Gb,{notification:e,onClose:n})},Re=({children:e,className:s=""})=>{const[a,l]=c.useState(!1),n=c.useRef(null);return c.useEffect(()=>{const r=new IntersectionObserver(o=>{o.forEach(d=>{d.isIntersecting&&(l(!0),r.unobserve(d.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"}),i=n.current;return i&&r.observe(i),()=>{i&&r.unobserve(i)}},[]),t.jsx("div",{ref:n,className:`${s} transition-all duration-700 ease-out ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:e})},Qb=()=>{const[e,s]=c.useState(()=>E("banners",Fo)),[a,l]=c.useState(0);if(c.useEffect(()=>{const o=d=>{d.key==="banners"&&s(E("banners",Fo))};return window.addEventListener("storage",o),()=>{window.removeEventListener("storage",o)}},[]),e.length===0)return null;const n=e[a],r=()=>{const d=a===0?e.length-1:a-1;l(d)},i=c.useCallback(()=>{const d=a===e.length-1?0:a+1;l(d)},[a,e.length]);return c.useEffect(()=>{const o=setTimeout(i,7e3);return()=>clearTimeout(o)},[a,e.length,i]),t.jsxs(t.Fragment,{children:[t.jsx("style",{children:`
                @keyframes hero-fade-in-up {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .hero-content-container > * {
                    opacity: 0; /* Start invisible */
                    animation: hero-fade-in-up 0.8s ease-out forwards;
                }
                /* Staggered delays */
                .hero-content-container > h1 {
                    animation-delay: 0.2s;
                }
                .hero-content-container > p {
                    animation-delay: 0.4s;
                }
                .hero-content-container > div {
                    animation-delay: 0.6s;
                }
            `}),t.jsxs("div",{className:"relative bg-brand-dark h-[60vh] md:h-[70vh] w-full group",children:[t.jsx("div",{className:"w-full h-full",children:e.map((o,d)=>t.jsx("div",{className:`absolute inset-0 transition-opacity duration-1000 ease-in-out ${d===a?"opacity-50":"opacity-0"}`,children:t.jsx("img",{src:o.url,alt:o.alt,className:"w-full h-full object-cover"})},d))}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:t.jsxs("div",{className:"relative container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-16 text-center text-white hero-content-container",children:[t.jsxs("h1",{className:"text-4xl md:text-6xl font-black tracking-tight leading-tight mb-4",children:[n.title.main,t.jsx("br",{})," ",t.jsx("span",{className:"text-red-400",children:n.title.highlighted})]}),t.jsx("p",{className:"text-lg md:text-xl max-w-3xl mx-auto mb-8 text-gray-200",children:n.subtitle}),t.jsx("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:n.buttons.map(o=>t.jsx($,{to:o.to,className:`${o.variant==="primary"?"bg-brand-red text-white hover:bg-red-700":"bg-white text-brand-dark hover:bg-gray-200"} px-8 py-3 rounded-md font-semibold transition-transform hover:scale-105 shadow-lg`,children:o.text},o.to+o.text))})]},a)}),t.jsx("button",{onClick:r,className:"absolute top-1/2 left-5 transform -translate-y-1/2 p-2 bg-black bg-opacity-30 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:bg-opacity-50 z-10",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("button",{onClick:i,className:"absolute top-1/2 right-5 transform -translate-y-1/2 p-2 bg-black bg-opacity-30 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:bg-opacity-50 z-10",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),t.jsx("div",{className:"absolute bottom-5 left-1/2 -translate-x-1/2 flex space-x-2 z-10",children:e.map((o,d)=>t.jsx("button",{onClick:()=>l(d),className:`w-3 h-3 rounded-full transition-colors duration-300 ${a===d?"bg-white":"bg-white bg-opacity-50"}`},d))})]})]})},Xb=()=>{const e=[{icon:t.jsx("div",{className:"relative w-24 h-24 mx-auto group-hover:scale-110 transition-transform duration-300",children:t.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[t.jsxs("defs",{children:[t.jsxs("radialGradient",{id:"grad-faculty",cx:"30%",cy:"30%",r:"70%",fx:"30%",fy:"30%",children:[t.jsx("stop",{offset:"0%","stop-color":"#F8D7DA"}),t.jsx("stop",{offset:"100%","stop-color":"#B22222"})]}),t.jsx("filter",{id:"shadow-3d",x:"-50%",y:"-50%",width:"200%",height:"200%",children:t.jsx("feDropShadow",{dx:"4",dy:"6",stdDeviation:"5","flood-color":"#B22222","flood-opacity":"0.2"})})]}),t.jsxs("g",{filter:"url(#shadow-3d)",children:[t.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#grad-faculty)"}),t.jsx("path",{d:"M50 35 L25 50 L50 65 L75 50 Z M25 52 V 62 L50 75 L75 62 V 52 L50 65 Z",fill:"#fff",opacity:"0.9"})]})]})}),title:"Expert Faculty",description:"Learn from seasoned ACCA-certified professionals who bring real-world experience and personalized mentorship to every class."},{icon:t.jsx("div",{className:"relative w-24 h-24 mx-auto group-hover:scale-110 transition-transform duration-300",children:t.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[t.jsx("defs",{children:t.jsxs("radialGradient",{id:"grad-passrate",cx:"30%",cy:"30%",r:"70%",fx:"30%",fy:"30%",children:[t.jsx("stop",{offset:"0%","stop-color":"#d4edda"}),t.jsx("stop",{offset:"100%","stop-color":"#28a745"})]})}),t.jsxs("g",{filter:"url(#shadow-3d)",children:[t.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#grad-passrate)"}),t.jsx("path",{d:"M30 75 L45 55 L55 65 L70 40",stroke:"#fff",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M60 40 L70 40 L70 50",stroke:"#fff",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]})]})}),title:"Proven Pass Rates",description:"Join an academy with a track record of excellence, consistently achieving pass rates that surpass global averages."},{icon:t.jsx("div",{className:"relative w-24 h-24 mx-auto group-hover:scale-110 transition-transform duration-300",children:t.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[t.jsx("defs",{children:t.jsxs("radialGradient",{id:"grad-resources",cx:"30%",cy:"30%",r:"70%",fx:"30%",fy:"30%",children:[t.jsx("stop",{offset:"0%","stop-color":"#d1ecf1"}),t.jsx("stop",{offset:"100%","stop-color":"#17a2b8"})]})}),t.jsxs("g",{filter:"url(#shadow-3d)",children:[t.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#grad-resources)"}),t.jsx("path",{d:"M30 25 h40 a5 5 0 0 1 5 5 v40 a5 5 0 0 1 -5 5 h-40 a5 5 0 0 1 -5 -5 v-40 a5 5 0 0 1 5 -5z M35 40 h30 M35 55 h30 M35 70 h20",stroke:"#fff",strokeWidth:"5",fill:"none",strokeLinecap:"round"})]})]})}),title:"Cutting-Edge Resources",description:"Access our exclusive digital library, including comprehensive study notes, extensive mock exams, and an AI-powered progress tracker."},{icon:t.jsx("div",{className:"relative w-24 h-24 mx-auto group-hover:scale-110 transition-transform duration-300",children:t.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[t.jsx("defs",{children:t.jsxs("radialGradient",{id:"grad-support",cx:"30%",cy:"30%",r:"70%",fx:"30%",fy:"30%",children:[t.jsx("stop",{offset:"0%","stop-color":"#fff3cd"}),t.jsx("stop",{offset:"100%","stop-color":"#ffc107"})]})}),t.jsxs("g",{filter:"url(#shadow-3d)",children:[t.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#grad-support)"}),t.jsx("path",{d:"M25 40 h50 v30 h-50z",fill:"#fff",stroke:"#ffc107",strokeWidth:"2",rx:"5"}),t.jsx("path",{d:"M40 40 v-10 a10 5 0 0 1 20 0 v10",stroke:"#fff",strokeWidth:"6",fill:"none",strokeLinecap:"round"})]})]})}),title:"Career-Focused Support",description:"Benefit from dedicated career counseling, internship placements, and networking events that connect you with top employers."}];return t.jsx("section",{className:"py-16 md:py-24 bg-gray-50",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsxs("h2",{className:"text-3xl md:text-5xl font-black text-brand-dark leading-tight",children:["Why Choose ",t.jsx("span",{className:"text-brand-red",children:"Reliant Learners"}),"?"]}),t.jsx("p",{className:"text-gray-600 mt-4 max-w-3xl mx-auto text-lg",children:"We don't just teach. We build careers, foster connections, and pave your path to success in the world of finance."})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 text-center",children:e.map(s=>t.jsxs("div",{className:"group p-6 bg-white rounded-2xl shadow-lg transition-all duration-300 hover:shadow-xl hover:-translate-y-2 border-b-4 border-transparent hover:border-brand-red",children:[s.icon,t.jsx("h3",{className:"text-xl font-bold mt-6 mb-2 text-brand-dark",children:s.title}),t.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:s.description})]},s.title))})]})})},Tn=({end:e,duration:s=2e3,label:a,suffix:l=""})=>{const[n,r]=c.useState(0),i=c.useRef(null);return c.useEffect(()=>{let o=0;const d=e;if(o===d)return;const u=Math.round(s/(1e3/60)),h=(d-o)/u;let x=0,y;const p=()=>{x+=1;const v=Math.round(o+h*x);x<u?(r(v),y=requestAnimationFrame(p)):r(d)},b=new IntersectionObserver(v=>{v[0].isIntersecting&&(y=requestAnimationFrame(p),b.disconnect())},{threshold:.1});return i.current&&b.observe(i.current),()=>{cancelAnimationFrame(y),b.disconnect()}},[e,s]),t.jsxs("div",{className:"text-center",children:[t.jsxs("span",{ref:i,className:"text-4xl md:text-5xl font-black text-brand-red",children:[n.toLocaleString(),l]}),t.jsx("p",{className:"mt-2 text-lg text-gray-300",children:a})]})},Zb=()=>{const[e,s]=c.useState(()=>E("highAchievers",_o));return c.useEffect(()=>{const a=l=>{l.key==="highAchievers"&&s(E("highAchievers",_o))};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),e.length===0?null:t.jsxs("div",{className:"mt-16 text-center",children:[t.jsx("style",{children:`
                @keyframes fade-in-scale-up-student {
                    from { opacity: 0; transform: scale(0.9); }
                    to { opacity: 1; transform: scale(1); }
                }
                .student-card {
                    opacity: 0;
                    animation: fade-in-scale-up-student 0.6s ease-out forwards;
                }
            `}),t.jsx("h3",{className:"text-3xl font-bold text-white mb-8",children:"Meet Our High Achievers"}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-8",children:e.map((a,l)=>t.jsxs("div",{className:"student-card flex flex-col items-center",style:{animationDelay:`${l*100}ms`},children:[t.jsx("img",{src:a.avatarUrl,alt:a.name,className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-brand-red object-cover shadow-lg transform transition-transform hover:scale-110"}),t.jsx("p",{className:"mt-4 font-bold text-white text-lg",children:a.name}),t.jsx("p",{className:"text-sm text-red-300 text-center",children:a.achievement})]},a.id))})]})},Jb=()=>t.jsx("section",{className:"py-12 md:py-20 bg-brand-dark",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white",children:"Our Proven Records"}),t.jsx("p",{className:"text-gray-400 mt-2 max-w-2xl mx-auto",children:"Decades of dedication, reflected in numbers."})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-y-12 gap-x-8",children:[t.jsx(Tn,{end:95,suffix:"%",label:"High Pass Rate"}),t.jsx(Tn,{end:5e3,suffix:"+",label:"Successful Alumni"}),t.jsx(Tn,{end:10,suffix:"+",label:"Years of Excellence"}),t.jsx(Tn,{end:98,suffix:"%",label:"Student Satisfaction"})]}),t.jsx(Zb,{})]})}),Kb=()=>t.jsx("section",{className:"py-12 md:py-20 bg-white",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"Your Pathway to ACCA Qualification"}),t.jsx("p",{className:"text-gray-600 mt-2 max-w-2xl mx-auto",children:"We provide a clear, structured path from foundational knowledge to professional expertise, ensuring you are exam-ready at every stage."})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:we.map(e=>t.jsxs("div",{className:"bg-brand-beige p-8 rounded-lg shadow-lg flex flex-col",children:[t.jsx("h3",{className:"text-2xl font-bold text-brand-red mb-4",children:e.title}),t.jsx("p",{className:"text-gray-600 mb-6 flex-grow text-base",children:e.description}),t.jsxs("div",{className:"border-t pt-4 space-y-2",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Duration:"})," ",e.duration]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Eligibility:"})," ",e.eligibility]})]}),t.jsx($,{to:`/courses/${e.id}`,className:"mt-6 font-semibold text-brand-red hover:text-brand-dark self-start",children:"Learn More →"})]},e.id))})]})}),Wb=()=>{const[e,s]=c.useState(()=>E("testimonials",Ho));return c.useEffect(()=>{const a=l=>{l.key==="testimonials"&&s(E("testimonials",Ho))};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),e.length===0?null:t.jsx("section",{className:"py-12 md:py-20 bg-brand-beige",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"What Our Students Say"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Real stories from our successful alumni."})]}),t.jsx("div",{className:"grid md:grid-cols-3 gap-8 pt-12",children:e.map(a=>t.jsxs("div",{className:"bg-white p-8 rounded-lg text-center shadow-lg relative",children:[t.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-24 h-24 rounded-full mx-auto absolute -top-12 left-1/2 -translate-x-1/2 border-4 border-white shadow-md"}),t.jsxs("div",{className:"mt-14",children:[t.jsxs("p",{className:"text-gray-700 italic mb-4 text-lg",children:['"',a.quote,'"']}),t.jsx("p",{className:"font-bold text-lg text-brand-dark",children:a.name}),t.jsx("p",{className:"text-brand-red font-semibold",children:a.program})]})]},a.id))})]})})},ey=()=>{const[e,s]=c.useState([]),[a,l]=c.useState([]),[n,r]=c.useState([]),i=new Map(a.map(u=>[u.id,u])),o=new Map(n.map(u=>[u.id,u])),d=c.useCallback(()=>{const u=E("blogs",un),h=E("faculty",ce),x=E("students",ne);l(h),r(x);const y=u.filter(p=>p.status==="Published");s(y.slice(0,3))},[]);return c.useEffect(()=>{d();const u=h=>{(h.key==="blogs"||h.key==="faculty"||h.key==="students")&&d()};return window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}},[d]),t.jsx("section",{className:"py-12 md:py-20 bg-white",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:"From Our Blog"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Get the latest insights, tips, and news from our experts."})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(u=>{const h=u.authorType==="student"?o.get(u.authorId):i.get(u.authorId),x=h?h.name:"Learners Academy",y=h?"imageUrl"in h?h.imageUrl:h.avatarUrl:"";return t.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden flex flex-col group",children:[t.jsx("img",{src:u.imageUrl.replace("/1200/800","/800/600"),alt:u.title,className:"w-full h-56 object-cover"}),t.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-brand-red font-semibold",children:u.tags.join(", ")}),t.jsx("h3",{className:"text-xl font-bold mt-2 mb-3 group-hover:text-brand-red transition-colors min-h-[3.5rem] line-clamp-2",children:u.title}),t.jsx("p",{className:"text-gray-600 text-base line-clamp-3",children:u.excerpt})]}),t.jsxs("div",{className:"mt-auto pt-6",children:[t.jsxs("div",{className:"border-t pt-4 flex items-center",children:[h&&t.jsx("img",{src:y.replace("/400/400","/100/100"),alt:x,className:"w-10 h-10 rounded-full mr-3"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-sm",children:x}),t.jsx("p",{className:"text-xs text-gray-500",children:new Date(u.publicationDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),t.jsx($,{to:`/blog/${u.id}`,className:"mt-4 font-semibold text-brand-red self-start block",children:"Read More →"})]})]})]},u.id)})}),t.jsx("div",{className:"text-center mt-12",children:t.jsx($,{to:"/blog",className:"bg-brand-dark text-white px-8 py-3 rounded-md font-semibold hover:bg-opacity-80 transition-transform hover:scale-105 shadow-lg",children:"View All Posts"})})]})})},ty=()=>t.jsx("section",{className:"bg-brand-red text-white",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-16 text-center",children:[t.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Ready to Start Your ACCA Journey?"}),t.jsx("p",{className:"mb-6 max-w-2xl mx-auto text-lg",children:"Join hundreds of successful students who chose Reliant Learners Academy for their professional accounting career. Apply today to secure your spot for the next intake."}),t.jsx($,{to:"/admissions",className:"bg-white text-brand-red px-10 py-3 rounded-md font-bold hover:bg-gray-200 transition-transform hover:scale-105 shadow-lg",children:"Apply Now"})]})}),sy=()=>t.jsxs("div",{children:[t.jsx(Qb,{}),t.jsx(Re,{children:t.jsx(Xb,{})}),t.jsx(Re,{children:t.jsx(Jb,{})}),t.jsx(Re,{children:t.jsx(Kb,{})}),t.jsx(Re,{children:t.jsx(Wb,{})}),t.jsx(Re,{children:t.jsx(ey,{})}),t.jsx(Re,{children:t.jsx(ty,{})}),t.jsx($b,{})]}),ns=({title:e,children:s})=>t.jsxs("li",{className:"flex items-start",children:[t.jsx("svg",{className:"w-6 h-6 text-green-500 mr-3 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-lg text-brand-dark",children:e}),t.jsx("p",{className:"text-gray-600 text-base",children:s})]})]}),ay=()=>{const[e,s]=c.useState(()=>E("faculty",ce));return c.useEffect(()=>{const a=l=>{l.key==="faculty"&&s(E("faculty",ce))};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),t.jsxs("div",{className:"bg-white",children:[t.jsx("div",{className:"bg-brand-dark text-white py-12 md:py-20",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 text-center",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"📘 About Us – Reliant Learners Academy"}),t.jsx("p",{className:"mt-4 text-lg max-w-3xl mx-auto",children:"At Reliant Learners Academy, we believe education is more than just passing exams — it’s about building the skills, confidence, and mindset to succeed in the professional world. Founded with the vision of guiding ambitious learners toward global qualifications, we specialize in providing comprehensive training for ACCA and other professional courses."})]})}),t.jsx(Re,{children:t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-12 md:py-20",children:t.jsx("div",{className:"text-center max-w-4xl mx-auto",children:t.jsx("p",{className:"text-lg text-gray-700",children:"Our academy is built on three core values: excellence, integrity, and dedication. We are committed to ensuring that every student receives not just classroom teaching, but a holistic learning experience that combines knowledge, practice, mentorship, and real-world exposure."})})})}),t.jsx(Re,{children:t.jsx("div",{className:"bg-brand-beige py-12 md:py-20",children:t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-brand-red mb-4",children:"🎯 Our Mission"}),t.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"To empower students with world-class education, personalized guidance, and career-focused training, helping them achieve professional success and contribute positively to society."}),t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-brand-red mb-4",children:"🌍 Our Vision"}),t.jsx("p",{className:"text-gray-600 text-lg",children:"To be the most trusted and result-oriented academy for ACCA and professional qualifications, shaping the next generation of finance and business leaders."})]}),t.jsx("div",{children:t.jsx("img",{src:"https://picsum.photos/seed/vision-mission/600/400",alt:"Our Mission",className:"rounded-lg shadow-lg"})})]})})})}),t.jsx(Re,{children:t.jsx("div",{className:"py-12 md:py-20 bg-white",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20",children:[t.jsx("div",{className:"text-center mb-12",children:t.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"📌 Why Choose Reliant Learners Academy?"})}),t.jsxs("div",{className:"max-w-4xl mx-auto grid md:grid-cols-2 gap-x-12 gap-y-8",children:[t.jsxs("ul",{className:"space-y-6",children:[t.jsx(ns,{title:"Expert Faculty",children:"Highly qualified tutors with years of teaching and industry experience."}),t.jsx(ns,{title:"Structured Learning",children:"Well-designed study plans, mock tests, and exam-focused sessions."}),t.jsx(ns,{title:"Student-Centered Approach",children:"Small batches, personalized attention, and one-on-one mentoring."})]}),t.jsxs("ul",{className:"space-y-6",children:[t.jsx(ns,{title:"Modern Facilities",children:"Comfortable classrooms, digital learning support, and updated study resources."}),t.jsx(ns,{title:"Proven Results",children:"Consistent track record of students passing ACCA exams on the first attempt."})]})]})]})})}),t.jsx(Re,{children:t.jsx("div",{className:"bg-brand-beige py-12 md:py-20",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20",children:[t.jsx("div",{className:"text-center mb-12",children:t.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"✨ What We Offer"})}),t.jsxs("div",{className:"max-w-4xl mx-auto grid md:grid-cols-2 gap-x-12 gap-y-8",children:[t.jsxs("ul",{className:"space-y-6",children:[t.jsx(ns,{title:"ACCA Coaching",children:"Complete guidance for all levels — Applied Knowledge, Applied Skills, and Strategic Professional."}),t.jsx(ns,{title:"Workshops & Seminars",children:"Regular sessions on exam techniques, career guidance, and industry insights."})]}),t.jsx("ul",{className:"space-y-6",children:t.jsx(ns,{title:"Learning Support",children:"Online and offline resources, doubt-clearing sessions, and continuous progress tracking."})})]}),t.jsx("p",{className:"text-center mt-12 text-lg text-gray-700 font-semibold max-w-3xl mx-auto",children:"At Reliant Learners Academy, your goals are our goals. Whether you’re starting your ACCA journey or preparing for advanced levels, we are here to ensure you learn, grow, and succeed."})]})})}),t.jsx(Re,{children:t.jsx("div",{className:"py-12 md:py-20",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Meet the Team"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Our leadership and faculty comprise seasoned professionals passionate about ACCA education."})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8",children:e.map(a=>t.jsxs("div",{className:"text-center bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 border",children:[t.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-32 h-32 rounded-full mx-auto mb-4 border-4 border-brand-red"}),t.jsx("h3",{className:"text-xl font-bold",children:a.name}),t.jsx("p",{className:"text-brand-red mb-2 text-sm font-semibold",children:a.qualification}),t.jsx("p",{className:"text-base text-gray-600",children:a.bio})]},a.id))})]})})})]})},ly=({course:e})=>t.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-xl border border-gray-100 mb-12",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-black text-brand-dark mb-4",children:e.title}),t.jsx("p",{className:"text-gray-600 text-lg mb-6",children:e.description}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-6",children:[t.jsxs("div",{className:"bg-brand-beige p-6 rounded-lg",children:[t.jsx("h4",{className:"font-bold text-lg mb-2",children:"Key Information"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Duration:"})," ",e.duration]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Eligibility:"})," ",e.eligibility]})]}),t.jsxs("div",{className:"bg-brand-beige p-6 rounded-lg md:col-span-2",children:[t.jsx("h4",{className:"font-bold text-lg mb-2",children:"Core Papers"}),t.jsx("ul",{className:"list-disc list-inside text-gray-700 columns-1 sm:columns-2",children:e.papers.map(s=>t.jsx("li",{children:s},s))})]})]}),t.jsxs("div",{className:"text-center mt-8 flex flex-col sm:flex-row justify-center items-center gap-4",children:[t.jsxs("a",{href:"/brochure.pdf",download:!0,className:"bg-brand-dark text-white px-8 py-3 rounded-md font-semibold hover:bg-opacity-80 transition-colors inline-flex items-center",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Brochure"]}),t.jsx($,{to:`/courses/${e.id}`,className:"bg-brand-red text-white px-8 py-3 rounded-md font-semibold hover:bg-opacity-80 transition-colors inline-flex items-center",children:"View Details & Syllabus →"})]})]}),ny=()=>t.jsxs("div",{className:"bg-brand-beige",children:[t.jsx("div",{className:"bg-brand-dark text-white py-12 md:py-20",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 text-center",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"ACCA Courses"}),t.jsx("p",{className:"mt-4 text-lg max-w-3xl mx-auto",children:"Explore our comprehensive ACCA study pathways and the associated fee structure."})]})}),t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-12 md:py-20",children:we.map(e=>t.jsx(Re,{children:t.jsx(ly,{course:e})},e.id))})]}),qe=(e,s)=>new Promise((a,l)=>{if(!e.type.startsWith("image/"))return l(new Error("File is not an image."));const n=document.createElement("img"),r=new FileReader;r.onload=i=>{var o;n.src=(o=i.target)==null?void 0:o.result},n.onload=()=>{const i=document.createElement("canvas");let{width:o,height:d}=n;const{maxWidth:u,maxHeight:h,quality:x}=s;o>d?o>u&&(d=Math.round(d*u/o),o=u):d>h&&(o=Math.round(o*h/d),d=h),i.width=o,i.height=d;const y=i.getContext("2d");if(!y)return l(new Error("Could not get canvas context."));y.drawImage(n,0,0,o,d),a(i.toDataURL("image/jpeg",x))},n.onerror=i=>{l(i)},r.readAsDataURL(e)}),ec=(e,s)=>e.type==="image/svg+xml"?new Promise((a,l)=>{const n=new FileReader;n.onload=r=>{var i;return a((i=r.target)==null?void 0:i.result)},n.onerror=r=>l(r),n.readAsDataURL(e)}):e.type.startsWith("image/")?qe(e,s||{maxWidth:400,maxHeight:400,quality:.8}):Promise.reject(new Error("File is not a supported image type (SVG, PNG, JPG, etc.).")),ry=()=>{const[e,s]=c.useState({fullName:"",email:"",phone:"",address:"",dob:"",socialMediaUrl:"",program:"ACCA Applied Knowledge",selectedPapers:[],document:null,photo:null}),[a,l]=c.useState(!1),[n,r]=c.useState(!1),i=c.useMemo(()=>we.find(p=>p.title===e.program),[e.program]);c.useEffect(()=>{s(p=>({...p,selectedPapers:[]}))},[e.program]);const o=p=>{const{name:b,value:v}=p.target;s(N=>({...N,[b]:v}))},d=p=>{const{value:b,checked:v}=p.target,N=e.selectedPapers.filter(f=>{var m;return(m=i==null?void 0:i.options)==null?void 0:m.includes(f)});if(v&&(i!=null&&i.maxOptions)&&N.length>=i.maxOptions){p.preventDefault();return}s(f=>{const m=f.selectedPapers;return v?{...f,selectedPapers:[...m,b]}:{...f,selectedPapers:m.filter(j=>j!==b)}})},u=p=>{const{name:b,files:v}=p.target;v&&v[0]&&s(N=>({...N,[b]:v[0]}))},h=async p=>{var j;p.preventDefault(),r(!0);const b=g=>new Promise((k,w)=>{const S=new FileReader;S.readAsDataURL(g),S.onload=()=>k(S.result),S.onerror=T=>w(T)}),v=e.photo?await qe(e.photo,{maxWidth:200,maxHeight:200,quality:.8}):void 0,N=e.document?await b(e.document):void 0,f={id:Date.now(),fullName:e.fullName,email:e.email,phone:e.phone,address:e.address,dob:e.dob,socialMediaUrl:e.socialMediaUrl,program:e.program,selectedPapers:e.selectedPapers,submittedDate:new Date().toISOString().split("T")[0],status:"Pending",photoUrl:v,documentUrl:N,documentName:(j=e.document)==null?void 0:j.name},m=E("pendingApplications",[]);se("pendingApplications",[f,...m]),r(!1),l(!0)},x=e.selectedPapers.filter(p=>{var b;return(b=i==null?void 0:i.options)==null?void 0:b.includes(p)}).length,y=i!=null&&i.maxOptions?x>=i.maxOptions:!1;return t.jsxs("div",{className:"bg-white",children:[t.jsx("div",{className:"bg-brand-dark text-white py-12 md:py-20",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 text-center",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Admissions"}),t.jsx("p",{className:"mt-4 text-lg max-w-3xl mx-auto",children:"Start your journey with Reliant Learners Academy today."})]})}),t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-12 md:py-20",children:t.jsxs(Re,{className:"grid md:grid-cols-2 gap-12",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-brand-red mb-6",children:"Online Application Form"}),a?t.jsxs("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4",role:"alert",children:[t.jsx("p",{className:"font-bold",children:"Application Submitted!"}),t.jsx("p",{children:"Thank you for applying. Our admissions team will review your application. If approved, you will receive an email with your new Student ID and a temporary password to log in to the Student Portal."})]}):t.jsxs("form",{onSubmit:h,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),t.jsx("input",{type:"text",name:"fullName",id:"fullName",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white",onChange:o})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),t.jsx("input",{type:"email",name:"email",id:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white",onChange:o})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),t.jsx("input",{type:"tel",name:"phone",id:"phone",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white",onChange:o})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),t.jsx("textarea",{name:"address",id:"address",rows:3,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white",onChange:o})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"dob",className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),t.jsx("input",{type:"date",name:"dob",id:"dob",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white",onChange:o})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"socialMediaUrl",className:"block text-sm font-medium text-gray-700",children:"Social Media Profile URL (Optional)"}),t.jsx("input",{type:"url",name:"socialMediaUrl",id:"socialMediaUrl",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white",onChange:o,placeholder:"https://www.linkedin.com/in/..."})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"program",className:"block text-sm font-medium text-gray-700",children:"Program of Interest"}),t.jsx("select",{name:"program",id:"program",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red",onChange:o,value:e.program,children:we.map(p=>t.jsx("option",{children:p.title},p.id))})]}),(i==null?void 0:i.papers)&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Papers"}),t.jsxs("div",{className:"mt-2 border p-3 rounded-md bg-gray-50",children:[i.essentials&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"font-semibold text-sm text-gray-600 mb-2",children:"Essentials (Compulsory)"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:i.essentials.map(p=>t.jsxs("label",{className:"flex items-center space-x-2 text-gray-500",children:[t.jsx("input",{type:"checkbox",checked:!0,readOnly:!0,className:"rounded border-gray-300 text-brand-red shadow-sm focus:ring-brand-red"}),t.jsx("span",{children:p})]},p))})]}),i.options&&t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-sm text-gray-600 mb-2",children:["Select Papers ",i.maxOptions?`(Choose up to ${i.maxOptions})`:""]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:i.options.map(p=>t.jsxs("label",{className:`flex items-center space-x-2 ${y&&!e.selectedPapers.includes(p)?"cursor-not-allowed text-gray-400":""}`,children:[t.jsx("input",{type:"checkbox",value:p,checked:e.selectedPapers.includes(p),onChange:d,disabled:y&&!e.selectedPapers.includes(p),className:"rounded border-gray-300 text-brand-red shadow-sm focus:border-brand-red focus:ring focus:ring-offset-0 focus:ring-red-200 focus:ring-opacity-50 disabled:bg-gray-200"}),t.jsx("span",{children:p})]},p))})]}),!i.essentials&&!i.options&&t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:i.papers.map(p=>t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",value:p,checked:e.selectedPapers.includes(p),onChange:d,className:"rounded border-gray-300 text-brand-red shadow-sm"}),t.jsx("span",{children:p})]},p))})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"photo",className:"block text-sm font-medium text-gray-700",children:"Upload Your Photo"}),t.jsx("input",{type:"file",name:"photo",id:"photo",accept:"image/*",className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100",onChange:u})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"document",className:"block text-sm font-medium text-gray-700",children:"Upload Transcript/Certificate"}),t.jsx("input",{type:"file",name:"document",id:"document",className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100",onChange:u})]}),t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:n,className:"w-full bg-brand-red text-white py-3 px-4 rounded-md font-semibold hover:bg-opacity-80 transition-colors disabled:bg-red-300",children:n?"Submitting...":"Submit Application"})})]})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-brand-dark mb-6",children:"Admission Process"}),t.jsxs("ol",{className:"space-y-4",children:[t.jsxs("li",{className:"flex items-start",children:[t.jsx("div",{className:"bg-brand-red text-white rounded-full w-8 h-8 flex items-center justify-center font-bold mr-4 flex-shrink-0",children:"1"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold",children:"Submit Application"}),t.jsx("p",{className:"text-gray-600 text-base",children:"Fill out the online application form with all the required details and upload your documents."})]})]}),t.jsxs("li",{className:"flex items-start",children:[t.jsx("div",{className:"bg-brand-red text-white rounded-full w-8 h-8 flex items-center justify-center font-bold mr-4 flex-shrink-0",children:"2"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold",children:"Application Review"}),t.jsx("p",{className:"text-gray-600 text-base",children:"Our admissions team will review your application to ensure all criteria are met."})]})]}),t.jsxs("li",{className:"flex items-start",children:[t.jsx("div",{className:"bg-brand-red text-white rounded-full w-8 h-8 flex items-center justify-center font-bold mr-4 flex-shrink-0",children:"3"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold",children:"Receive Offer Letter"}),t.jsx("p",{className:"text-gray-600 text-base",children:"Successful candidates will receive an offer letter via email with details for the next steps."})]})]}),t.jsxs("li",{className:"flex items-start",children:[t.jsx("div",{className:"bg-brand-red text-white rounded-full w-8 h-8 flex items-center justify-center font-bold mr-4 flex-shrink-0",children:"4"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold",children:"Pay Admission Fee"}),t.jsx("p",{className:"text-gray-600 text-base",children:"Secure your place by paying the admission fee through our online portal."})]})]})]}),t.jsxs("div",{className:"mt-8 bg-brand-beige p-6 rounded-lg",children:[t.jsx("h3",{className:"font-bold text-lg mb-2",children:"Important Dates"}),t.jsxs("p",{children:[t.jsx("strong",{children:"September Intake Deadline:"})," August 15, ",new Date().getFullYear()]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Classes Begin:"})," September 5, ",new Date().getFullYear()]})]})]})]})})]})},iy=()=>{const[e,s]=c.useState(!1),[a,l]=c.useState(()=>E("contactDetails",Il));c.useEffect(()=>{const r=i=>{i.key==="contactDetails"&&l(E("contactDetails",Il))};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[]);const n=r=>{r.preventDefault(),s(!0)};return t.jsxs("div",{className:"bg-white",children:[t.jsx("div",{className:"bg-brand-dark text-white py-12 md:py-20",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 text-center",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Contact Us"}),t.jsx("p",{className:"mt-4 text-lg max-w-3xl mx-auto",children:"We're here to help. Reach out to us with any questions or inquiries."})]})}),t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-12 md:py-20",children:t.jsxs(Re,{className:"grid md:grid-cols-2 gap-12",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-brand-red mb-6",children:"Send us a Message"}),e?t.jsxs("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4",role:"alert",children:[t.jsx("p",{className:"font-bold",children:"Message Sent!"}),t.jsx("p",{children:"Thank you for contacting us. We will get back to you soon."})]}):t.jsxs("form",{onSubmit:n,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),t.jsx("input",{type:"text",name:"name",id:"name",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),t.jsx("input",{type:"email",name:"email",id:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message"}),t.jsx("textarea",{name:"message",id:"message",rows:4,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsx("button",{type:"submit",className:"w-full bg-brand-red text-white py-3 px-4 rounded-md font-semibold hover:bg-opacity-80 transition-colors",children:"Send Message"})]})]}),t.jsxs("div",{className:"bg-brand-beige p-6 md:p-8 rounded-lg",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-brand-dark mb-6",children:"Contact Information"}),t.jsxs("div",{className:"space-y-4 text-gray-700 text-lg",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Address:"})," ",a.address]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",a.phones.map((r,i)=>t.jsxs(ys.Fragment,{children:[t.jsx("a",{href:`tel:${r.replace(/-/g,"")}`,className:"text-brand-red hover:underline",children:r}),i<a.phones.length-1&&" / "]},i))]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," ",t.jsx("a",{href:`mailto:${a.email}`,className:"text-brand-red hover:underline",children:a.email})]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Office Hours:"})," ",a.officeHours]})]}),t.jsxs("div",{className:"mt-8 border-t pt-6",children:[t.jsx("h3",{className:"font-semibold text-lg mb-4 text-brand-dark",children:"Follow Us"}),t.jsx("div",{className:"flex space-x-6",children:a.socials.map(r=>t.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity","aria-label":r.name,children:t.jsx("img",{src:r.iconUrl,alt:r.name,className:"w-8 h-8 object-contain"})},r.id))})]}),t.jsx("div",{className:"mt-8",children:t.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3533.921319084803!2d85.3421384!3d27.6865647!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39eb197a9e0f9951%3A0xee204fd90d8a685c!2sACCA%20%40%20Learners%20Academy!5e0!3m2!1sen!2snp!4v1626882298218!5m2!1sen!2snp",className:"w-full h-64 rounded-md border-0",allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Learners Academy Location"})})]})]})})]})},oy=({item:e,onClose:s,onPrev:a,onNext:l})=>{c.useEffect(()=>{const o=d=>{d.key==="Escape"&&s(),d.key==="ArrowLeft"&&a(),d.key==="ArrowRight"&&l()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[s,a,l]);const n=o=>{o.stopPropagation(),a()},r=o=>{o.stopPropagation(),l()},i=!!e.localVideoSrc;return t.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 transition-opacity duration-300",onClick:s,role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"relative max-w-4xl max-h-[90vh] w-full bg-black",onClick:o=>o.stopPropagation(),children:e.type==="image"?t.jsx("img",{src:e.src.includes("data:image")?e.src:e.src.replace("600/400","1200/800"),alt:e.alt,className:"w-full h-full object-contain"}):t.jsx("div",{className:"aspect-video w-full",children:i?t.jsx("video",{src:e.localVideoSrc,controls:!0,autoPlay:!0,className:"w-full h-full object-contain"}):t.jsx("iframe",{src:e.videoUrl,title:e.alt,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})}),t.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-white text-4xl hover:text-gray-300 transition-colors","aria-label":"Close image viewer",children:"×"}),t.jsx("button",{onClick:n,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white bg-black bg-opacity-50 p-2 rounded-full text-3xl hover:bg-opacity-75 transition-colors","aria-label":"Previous image",children:"‹"}),t.jsx("button",{onClick:r,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white bg-black bg-opacity-50 p-2 rounded-full text-3xl hover:bg-opacity-75 transition-colors","aria-label":"Next image",children:"›"})]})},dy=()=>{const[e,s]=c.useState("All"),[a,l]=c.useState(null),[n,r]=c.useState([]);c.useEffect(()=>{const y=E("gallery",lf),b=E("vlogs",Cr).map((v,N)=>({id:y.length+N+1,type:"video",src:v.thumbnailUrl,alt:v.title,category:"Vlogs",videoUrl:v.sourceType==="upload"?v.localVideoSrc:v.videoUrl,localVideoSrc:v.sourceType==="upload"?v.localVideoSrc:void 0}));r([...y,...b])},[]);const i=["All",...Array.from(new Set(n.map(y=>y.category)))],o=e==="All"?n:n.filter(y=>y.category===e),d=y=>{const p=o.findIndex(b=>b.id===y.id);l(p)},u=()=>{l(null)},h=()=>{a!==null&&l(y=>(y+1)%o.length)},x=()=>{a!==null&&l(y=>(y-1+o.length)%o.length)};return t.jsxs("div",{className:"bg-white",children:[t.jsx("div",{className:"bg-brand-dark text-white py-12 md:py-20",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 text-center",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Gallery & Vlogs"}),t.jsx("p",{className:"mt-4 text-lg max-w-3xl mx-auto",children:"A glimpse into life at Learners Academy through photos, videos, and vlogs."})]})}),t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-12 md:py-20",children:[t.jsx(Re,{className:"flex justify-center flex-wrap gap-2 md:gap-4 mb-12",children:i.map(y=>t.jsx("button",{onClick:()=>s(y),className:`px-6 py-2 rounded-full font-semibold transition-colors duration-300 ${e===y?"bg-brand-red text-white shadow-md":"bg-gray-200 text-brand-dark hover:bg-gray-300"}`,children:y},y))}),t.jsx(Re,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map(y=>t.jsxs("div",{className:"overflow-hidden rounded-lg shadow-lg group cursor-pointer relative",onClick:()=>d(y),children:[t.jsx("img",{src:y.src,alt:y.alt,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500 aspect-[3/2]"}),y.type==="video"&&t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsx("svg",{className:"w-16 h-16 text-white opacity-80",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})}),y.category==="Vlogs"&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black to-transparent",children:t.jsx("h3",{className:"text-white font-semibold text-sm truncate",children:y.alt})})]},y.id))})]}),a!==null&&t.jsx(oy,{item:o[a],onClose:u,onPrev:x,onNext:h})]})},cy=({items:e})=>{const[s,a]=c.useState(null),l=n=>{a(s===n?null:n)};return t.jsx("div",{className:"space-y-4",children:e.map((n,r)=>t.jsxs("div",{className:"border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>l(r),className:"w-full flex justify-between items-center text-left py-4 px-2 focus:outline-none",children:[t.jsx("span",{className:"text-lg font-medium text-brand-dark",children:n.question}),t.jsx("span",{className:"transform transition-transform duration-300",children:t.jsx("svg",{className:`w-6 h-6 text-brand-red transition-transform duration-300 ${s===r?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),t.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${s===r?"max-h-96":"max-h-0"}`,children:t.jsx("p",{className:"py-4 px-2 text-gray-600",children:n.answer})})]},r))})},uy=()=>{const[e,s]=c.useState(()=>E("faqData",qo));return c.useEffect(()=>{const a=l=>{l.key==="faqData"&&s(E("faqData",qo))};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),t.jsxs("div",{className:"bg-brand-beige",children:[t.jsx("div",{className:"bg-brand-red text-white py-12 md:py-20",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 text-center",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Frequently Asked Questions"}),t.jsx("p",{className:"mt-4 text-lg max-w-3xl mx-auto",children:"Find answers to common questions about our courses, admissions, and more."})]})}),t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-12 md:py-20",children:t.jsx(Re,{className:"max-w-4xl mx-auto",children:t.jsx("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-lg",children:t.jsx(cy,{items:e})})})})]})},Wa=()=>{try{const e=sessionStorage.getItem("loggedInUser"),s=sessionStorage.getItem("userRole");if(e&&s)return{user:JSON.parse(e),role:s}}catch(e){console.error("Failed to get logged in user from sessionStorage",e)}return{user:null,role:null}},tc=()=>{sessionStorage.removeItem("loggedInUser"),sessionStorage.removeItem("userRole")},ot=({isOpen:e,title:s,message:a,onConfirm:l,onCancel:n,confirmText:r="Confirm",cancelText:i="Cancel"})=>e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-modal-title",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md p-6",onClick:o=>o.stopPropagation(),children:[t.jsx("h2",{id:"confirm-modal-title",className:"text-2xl font-bold text-brand-dark mb-4",children:s}),t.jsx("p",{className:"text-gray-600 mb-6",children:a}),t.jsxs("div",{className:"flex justify-end gap-4",children:[t.jsx("button",{onClick:n,className:"bg-gray-200 text-gray-800 font-semibold px-4 py-2 rounded-md hover:bg-gray-300 transition-colors",children:i}),t.jsx("button",{onClick:l,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:r})]})]})}):null,Tt={dashboard:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),courses:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),results:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),profile:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),community:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),classes:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),fee:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),logout:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),schedule:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),mockTests:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})},Ht=({to:e,icon:s,children:a,onClick:l})=>t.jsxs(Zs,{to:e,end:!0,onClick:l,className:({isActive:n})=>`flex items-center px-4 py-3 space-x-3 rounded-lg transition-colors duration-200 ${n?"bg-brand-red text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[s,t.jsx("span",{className:"font-medium",children:a})]}),my=({isOpen:e,setIsOpen:s,student:a})=>{const l=Ae(),n=c.useRef(null),[r,i]=c.useState(!1);c.useEffect(()=>{const h=x=>{n.current&&!n.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[s]);const o=()=>{i(!0)},d=()=>{tc(),s(!1),l("/")},u=()=>{s(!1)};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-30 transition-opacity lg:hidden ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>s(!1)}),t.jsxs("aside",{ref:n,className:`fixed top-0 left-0 h-full w-64 bg-brand-dark text-white flex flex-col p-4 z-40 transition-transform duration-300 ease-in-out
                ${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:fixed`,children:[t.jsxs("div",{className:"flex items-center mb-10 px-2",children:[t.jsx("img",{src:a.avatarUrl,alt:`${a.name}'s profile picture`,className:"w-10 h-10 rounded-full"}),t.jsx("span",{className:"text-xl font-bold ml-3",children:a.name})]}),t.jsxs("nav",{className:"flex-1 space-y-2",children:[t.jsx(Ht,{to:"/student-portal/dashboard",icon:Tt.dashboard,onClick:u,children:"Dashboard"}),t.jsx(Ht,{to:"/student-portal/courses",icon:Tt.courses,onClick:u,children:"My Courses"}),t.jsx(Ht,{to:"/student-portal/classes",icon:Tt.classes,onClick:u,children:"Classes & Resources"}),t.jsx(Ht,{to:"/student-portal/mock-tests",icon:Tt.mockTests,onClick:u,children:"Mock Tests"}),t.jsx(Ht,{to:"/student-portal/schedule",icon:Tt.schedule,onClick:u,children:"My Schedule"}),t.jsx(Ht,{to:"/student-portal/fee-payment",icon:Tt.fee,onClick:u,children:"Fee Payment"}),t.jsx(Ht,{to:"/student-portal/results",icon:Tt.results,onClick:u,children:"My Results"}),t.jsx(Ht,{to:"/student-portal/community",icon:Tt.community,onClick:u,children:"Community Hub"}),t.jsx(Ht,{to:"/student-portal/profile",icon:Tt.profile,onClick:u,children:"My Profile"})]}),t.jsx("div",{children:t.jsxs("button",{onClick:o,className:"flex items-center w-full px-4 py-3 space-x-3 rounded-lg text-gray-300 hover:bg-red-800 hover:text-white transition-colors duration-200",children:[Tt.logout,t.jsx("span",{className:"font-medium",children:"Logout"})]})})]}),t.jsx(ot,{isOpen:r,title:"Confirm Logout",message:"Are you sure you want to log out? Any unsaved changes will be lost.",onConfirm:d,onCancel:()=>i(!1),confirmText:"Log Out",cancelText:"Cancel"})]})},hy=({filled:e,onClick:s,onMouseEnter:a,onMouseLeave:l})=>t.jsx("svg",{className:`w-8 h-8 cursor-pointer ${e?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",onClick:s,onMouseEnter:a,onMouseLeave:l,children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),of=({isOpen:e,onClose:s,onSubmit:a,teacherName:l,classTopic:n})=>{const[r,i]=c.useState(0),[o,d]=c.useState(0),[u,h]=c.useState(""),[x,y]=c.useState(!1);c.useEffect(()=>{const b=v=>{v.key==="Escape"&&s()};return e&&(window.addEventListener("keydown",b),i(0),h(""),y(!1)),()=>window.removeEventListener("keydown",b)},[e,s]);const p=()=>{a(r,u),y(!0),setTimeout(()=>{s()},2e3)};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md p-6 sm:p-8 relative",onClick:b=>b.stopPropagation(),children:[t.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl","aria-label":"Close modal",children:"×"}),x?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mt-4",children:"Thank You!"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Your feedback has been submitted."})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Rate Your Class"}),t.jsxs("p",{className:"text-gray-600 mt-1",children:["How was your experience with ",t.jsx("span",{className:"font-semibold",children:l})," for ",t.jsx("span",{className:"font-semibold",children:n}),"?"]})]}),t.jsx("div",{className:"flex justify-center my-6 space-x-1",children:[1,2,3,4,5].map(b=>t.jsx(hy,{filled:(o||r)>=b,onClick:()=>i(b),onMouseEnter:()=>d(b),onMouseLeave:()=>d(0)},b))}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"feedback",className:"block text-sm font-medium text-gray-700",children:"Additional Feedback (Optional)"}),t.jsx("textarea",{id:"feedback",rows:3,value:u,onChange:b=>h(b.target.value),placeholder:"What went well? What could be improved?",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row-reverse gap-3",children:[t.jsx("button",{onClick:p,disabled:r===0,className:"w-full sm:w-auto bg-brand-red text-white py-2 px-6 rounded-md font-semibold hover:bg-red-700 transition-colors disabled:bg-red-300 disabled:cursor-not-allowed",children:"Submit Feedback"}),t.jsx("button",{onClick:s,className:"w-full sm:w-auto bg-gray-200 text-gray-700 py-2 px-4 rounded-md font-semibold hover:bg-gray-300 transition-colors",children:"Maybe Later"})]})]})]})}):null},Mn=({title:e,value:s,colorClass:a="text-green-600",icon:l})=>t.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md flex items-center transition-all hover:shadow-lg hover:scale-105",children:[t.jsx("div",{className:`mr-4 p-4 rounded-full ${a.replace("text-","bg-").replace("600","100")}`,children:l}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-gray-500 text-sm font-medium uppercase tracking-wider",children:e}),t.jsx("p",{className:`text-3xl font-black mt-1 ${a}`,children:s})]})]}),xy=()=>{const e=new Date().getHours();return e<12?"Good morning":e<18?"Good afternoon":"Good evening"},fy=({student:e})=>{const s=Ae(),[a,l]=c.useState(!1),[n,r]=c.useState(null),[i,o]=c.useState([]),d=b=>{const[v,N]=b.split(" ");let[f,m]=v.split(":").map(Number);N==="PM"&&f!==12&&(f+=12),N==="AM"&&f===12&&(f=0);const j=new Date;return j.setHours(f,m,0,0),j};c.useEffect(()=>{const b=()=>{const N=E("liveClasses",[]),f=E("calendarEvents",[]),m=E("mockTests",[]),j=new Set(e.enrolledPapers),g=new Date;g.setHours(0,0,0,0);const k=new Date(g);k.setDate(g.getDate()+7);const w=N.filter(A=>j.has(A.paper.split(":")[0].trim())).map(A=>({id:`class-${A.id}`,type:"class",title:A.topic,paper:A.paper,time:A.startTime,dateTime:d(A.startTime),status:A.status,joinLink:A.joinLink,instructor:A.instructor})),S=f.filter(A=>A.type==="deadline"&&A.paper&&j.has(A.paper.split(":")[0].trim())).map(A=>({id:`deadline-${A.id}`,type:"deadline",title:A.title,paper:A.paper,time:"All Day",dateTime:new Date(A.date+"T23:59:59")})),T=m.filter(A=>A.status==="Published"&&A.scheduledStartTime&&j.has(A.paper.split(":")[0].trim())).map(A=>({id:`exam-${A.id}`,type:"exam",title:A.title,paper:A.paper,time:new Date(A.scheduledStartTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),dateTime:new Date(A.scheduledStartTime),isLocked:A.isLocked})),C=[...w,...S,...T].filter(A=>A.dateTime>=g&&A.dateTime<=k);C.sort((A,M)=>A.dateTime.getTime()-M.dateTime.getTime()),o(C)};b();const v=setInterval(b,30*1e3);return window.addEventListener("storage",b),()=>{clearInterval(v),window.removeEventListener("storage",b)}},[e]);const u=(b,v,N,f)=>{const m=E("studentAttendanceLog",[]);if(!m.some(g=>g.classId===b&&g.studentId===e.id)){const g={classId:b,studentId:e.id,joinTime:new Date().toISOString()};se("studentAttendanceLog",[...m,g])}h(N,f),window.open(v,"_blank","noopener,noreferrer")},h=(b,v)=>{r({teacherName:b,classTopic:v}),l(!0)},x=(b,v)=>{console.log(`Submitted rating: ${b} stars. Feedback: "${v}"`,n)},y={class:t.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),exam:t.jsx("svg",{className:"w-6 h-6 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),deadline:t.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},p=i.reduce((b,v)=>{const N=v.dateTime.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"});return b[N]||(b[N]=[]),b[N].push(v),b},{});return t.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[t.jsx("h3",{className:"font-bold text-xl text-brand-dark mb-4",children:"Upcoming Schedule (Next 7 Days)"}),t.jsx("div",{className:"space-y-6 max-h-[30rem] overflow-y-auto pr-2",children:Object.keys(p).length>0?Object.entries(p).map(([b,v])=>t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-brand-red mb-2 sticky top-0 bg-white py-1",children:b}),t.jsx("div",{className:"space-y-3",children:v.map(N=>{const f=new Date,m=N.type==="class"&&N.status==="Live";(N.type==="class"||N.type==="exam")&&N.dateTime>f;const j=N.type==="exam"&&f>=N.dateTime;return t.jsxs("div",{className:`p-3 border rounded-lg flex items-center gap-4 transition-all ${m?"bg-red-50 border-brand-red":"bg-gray-50"}`,children:[y[N.type],t.jsxs("div",{className:"flex-grow",children:[t.jsx("p",{className:"font-bold",children:N.title}),t.jsxs("p",{className:"text-sm text-gray-500",children:[N.paper," - ",N.time]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[m&&t.jsxs("span",{className:"flex items-center text-sm font-bold text-brand-red animate-pulse",children:[t.jsxs("span",{className:"relative flex h-3 w-3 mr-2",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-brand-red"})]}),"LIVE"]}),N.type==="class"&&t.jsx("button",{onClick:()=>u(N.id.replace("class-",""),N.joinLink,N.instructor,N.title),disabled:!m,className:`font-semibold text-sm px-4 py-2 rounded-md transition-colors ${m?"bg-brand-red text-white hover:bg-red-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:m?"Join Now":"Upcoming"}),N.type==="exam"&&t.jsx("button",{onClick:()=>s("/student-portal/mock-tests"),disabled:!j||N.isLocked,className:`font-semibold text-sm px-4 py-2 rounded-md transition-colors ${j&&!N.isLocked?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:N.isLocked?"Locked":j?"Go to Test":"Upcoming"})]})]},N.id)})})]},b)):t.jsx("p",{className:"text-gray-500 text-center py-8",children:"No events scheduled for the next 7 days."})}),n&&t.jsx(of,{isOpen:a,onClose:()=>{l(!1),r(null)},onSubmit:x,teacherName:n.teacherName,classTopic:n.classTopic})]})},gy=()=>{const{student:e}=vt(),s=c.useMemo(()=>{const o=new Map;return we.forEach(d=>{[...d.papers,...d.options||[]].forEach(u=>{const h=u.split(":")[0].trim();o.set(h,u)})}),o},[]),a=c.useMemo(()=>{if(!e)return[];const o=E("globalAnnouncements",Yl),d=E("facultyAnnouncements",rf),u=new Set(e.enrolledPapers.map(h=>s.get(h)));return[...o,...d].filter(h=>h.audience==="All Students"||h.audience==="All Students & Faculty"?!0:h.audience.split(", ").some(x=>u.has(x))).sort((h,x)=>new Date(x.date).getTime()-new Date(h.date).getTime()).slice(0,3)},[e,s]),{overallAttendance:l,testsTaken:n,classesJoined:r}=c.useMemo(()=>{if(!e)return{overallAttendance:"N/A",testsTaken:0,classesJoined:0};const d=E("liveClasses",Vl).filter(p=>{const b=p.paper.split(":")[0].trim();return e.enrolledPapers.includes(b)}).length,h=E("studentAttendanceLog",Bb).filter(p=>p.studentId===e.id).length,x=d>0?(h/d*100).toFixed(1)+"%":"N/A",y=E("studentSubmissions",[]).filter(p=>p.studentId===e.id).length;return{overallAttendance:x,testsTaken:y,classesJoined:h}},[e]),i=c.useMemo(()=>{if(!(e!=null&&e.grades)||Object.keys(e.grades).length===0)return"N/A";const o=Object.values(e.grades).flat();return o.length===0?"N/A":`${(o.reduce((u,h)=>u+h.score,0)/o.length).toFixed(1)}%`},[e]);return e?t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-4xl font-black text-brand-dark",children:[xy(),", ",e.name.split(" ")[0],"!"]}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Let's have a productive day."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(Mn,{title:"Overall Attendance",value:l,icon:t.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx(Mn,{title:"Overall Score",value:i,colorClass:"text-yellow-600",icon:t.jsxs("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})}),t.jsx(Mn,{title:"Tests Taken",value:n,colorClass:"text-blue-600",icon:t.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),t.jsx(Mn,{title:"Classes Joined",value:r,colorClass:"text-purple-600",icon:t.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[t.jsx("div",{className:"lg:col-span-3",children:t.jsx(fy,{student:e})}),t.jsx("div",{className:"lg:col-span-2 space-y-8",children:t.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[t.jsx("h3",{className:"font-bold text-xl text-brand-dark mb-4",children:"Recent Announcements"}),a.length>0?t.jsx("ul",{className:"space-y-4",children:a.map(o=>t.jsxs("li",{className:"border-l-4 border-brand-red pl-4",children:[t.jsx("p",{className:"font-semibold",children:o.title}),t.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:o.content}),t.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Posted by ",o.author," on ",o.date]})]},o.id))}):t.jsx("p",{className:"text-center text-gray-500 py-4",children:"No recent announcements."})]})})]})]}):t.jsx("div",{children:"Student not found."})},py=()=>{const{student:e}=vt(),s={"LW: Corporate and Business Law":{progress:80,instructor:"Ms. Emily White",nextDeadline:"Quiz 3: Aug 5"},"PM: Performance Management":{progress:60,instructor:"Mr. Robert Brown",nextDeadline:"Assignment 2: Aug 12"},"TX: Taxation":{progress:95,instructor:"Ms. Emily White",nextDeadline:"Final Mock: Aug 20"},"FR: Financial Reporting":{progress:75,instructor:"Dr. Jane Smith",nextDeadline:"Assignment 3: Aug 15"},"AA: Audit and Assurance":{progress:45,instructor:"Dr. Jane Smith",nextDeadline:"Case Study: Aug 18"},"FM: Financial Management":{progress:50,instructor:"Mr. Robert Brown",nextDeadline:"Quiz 4: Aug 9"},"AB: Accountant in Business":{progress:90,instructor:"Kabin Pyakurel",nextDeadline:"Final Mock: Aug 25"},"MA: Management Accounting":{progress:85,instructor:"Emily White",nextDeadline:"Assignment 4: Aug 22"},"FA: Financial Accounting":{progress:92,instructor:"Robert Brown",nextDeadline:"Case Study: Aug 28"}},a=c.useMemo(()=>{const n=new Map;return we.forEach(r=>{r.papers.forEach(i=>{const o=i.split(":")[0].trim();n.set(o,{fullName:i,level:r.level})})}),n},[]);if(!e)return t.jsx("div",{children:"Loading student data..."});const l=we.find(n=>n.level===e.currentLevel);return l?t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark mb-8",children:"My Courses"}),t.jsx("div",{className:"space-y-8",children:t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-red mb-1",children:l.title}),t.jsx("p",{className:"text-gray-600 mt-1 mb-6 border-b pb-4",children:l.level}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.enrolledPapers.map(n=>{const r=a.get(n);if(!r)return null;const i=s[r.fullName];return t.jsxs("div",{className:"bg-brand-beige p-5 rounded-lg border border-gray-200 shadow-sm flex flex-col justify-between hover:shadow-md transition-shadow",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-lg text-brand-dark",children:r.fullName}),t.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Instructor: ",(i==null?void 0:i.instructor)||"TBA"]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between mb-1",children:[t.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Progress"}),t.jsxs("span",{className:"text-xs font-medium text-brand-red",children:[(i==null?void 0:i.progress)||0,"%"]})]}),t.jsx("div",{className:"w-full bg-gray-300 rounded-full h-2",children:t.jsx("div",{className:"bg-brand-red h-2 rounded-full",style:{width:`${(i==null?void 0:i.progress)||0}%`}})})]}),t.jsxs("div",{className:"mt-4 bg-white p-3 rounded-md border text-sm",children:[t.jsx("p",{className:"font-semibold text-gray-500",children:"Next Deadline:"}),t.jsx("p",{className:"font-bold text-brand-dark",children:(i==null?void 0:i.nextDeadline)||"None"})]})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-300",children:t.jsx($,{to:`/student-portal/classes?paper=${encodeURIComponent(r.fullName)}`,className:"w-full text-center bg-brand-dark text-white py-2 px-4 rounded-md font-semibold hover:bg-opacity-80 transition-colors block",children:"View Resources"})})]},n)}),e.enrolledPapers.length===0&&t.jsx("p",{className:"text-gray-500 md:col-span-2 lg:col-span-3",children:"You are not currently enrolled in any papers for this level."})]})]},l.id)})]}):t.jsx("div",{children:"Error: Could not determine course level for this student."})},by=()=>{const{student:e}=vt(),s=c.useMemo(()=>e!=null&&e.grades?Object.entries(e.grades).flatMap(([y,p])=>p.map(b=>({id:`${y}-${b.date}`,paper:y,score:b.score,date:b.date,examType:b.examType,grade:b.score>=50?"Pass":"Fail"}))):[],[e]),[a,l]=c.useState(!1),[n,r]=c.useState(""),[i,o]=c.useState({key:"date",direction:"descending"}),d=c.useMemo(()=>s.filter(y=>y.paper.toLowerCase().includes(n.toLowerCase())).sort((y,p)=>{let b=0;return i.key==="score"?b=y.score-p.score:b=new Date(y.date).getTime()-new Date(p.date).getTime(),i.direction==="ascending"?b:-b}),[s,n,i]),u=()=>{const y=s.length,p=s.filter(N=>N.grade==="Pass").length,b=y>0?(p/y*100).toFixed(1):0,v=y>0?(s.reduce((N,f)=>N+f.score,0)/y).toFixed(1):0;return t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[t.jsx("h3",{className:"text-gray-500 text-sm font-medium uppercase",children:"Exams Taken"}),t.jsx("p",{className:"text-3xl font-bold mt-1 text-blue-600",children:y})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[t.jsx("h3",{className:"text-gray-500 text-sm font-medium uppercase",children:"Papers Passed"}),t.jsx("p",{className:"text-3xl font-bold mt-1 text-green-600",children:p})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[t.jsx("h3",{className:"text-gray-500 text-sm font-medium uppercase",children:"Pass Rate"}),t.jsxs("p",{className:"text-3xl font-bold mt-1 text-yellow-600",children:[b,"%"]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[t.jsx("h3",{className:"text-gray-500 text-sm font-medium uppercase",children:"Average Score"}),t.jsx("p",{className:"text-3xl font-bold mt-1 text-purple-600",children:v})]})]})},h=()=>{l(!0),setTimeout(()=>{alert("Transcript download started!"),l(!1)},1e3)},x=y=>{const[p,b]=y.target.value.split("-");o({key:p,direction:b})};return e?t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-brand-dark",children:"My Results"}),t.jsxs("button",{onClick:h,disabled:a,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700 transition-colors flex items-center disabled:bg-red-300 w-full sm:w-auto",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),a?"Preparing...":"Download Transcript"]})]}),t.jsx(u,{}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[t.jsxs("div",{className:"relative w-full sm:w-auto",children:[t.jsx("input",{type:"text",placeholder:"Search by paper name...",value:n,onChange:y=>r(y.target.value),className:"pl-10 pr-4 py-2 border rounded-lg w-full sm:w-64 bg-white"}),t.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),t.jsxs("div",{className:"relative w-full sm:w-auto",children:[t.jsxs("select",{value:`${i.key}-${i.direction}`,onChange:x,className:"w-full appearance-none border rounded-lg py-2 pl-3 pr-10 bg-white","aria-label":"Sort results",children:[t.jsx("option",{value:"date-descending",children:"Date: Newest to Oldest"}),t.jsx("option",{value:"date-ascending",children:"Date: Oldest to Newest"}),t.jsx("option",{value:"score-descending",children:"Score: High to Low"}),t.jsx("option",{value:"score-ascending",children:"Score: Low to High"})]}),t.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left min-w-[600px]",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Paper"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Exam Type"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Date"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase text-center",children:"Score"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase text-center",children:"Grade"})]})}),t.jsx("tbody",{className:"divide-y",children:d.length>0?d.map(y=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"p-4 font-medium",children:y.paper}),t.jsx("td",{className:"p-4",children:y.examType}),t.jsx("td",{className:"p-4 font-mono text-sm",children:y.date}),t.jsxs("td",{className:"p-4 text-center font-mono",children:[y.score," / 100"]}),t.jsx("td",{className:"p-4 text-center",children:t.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full ${y.grade==="Pass"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:y.grade})})]},y.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"text-center p-8 text-gray-500",children:"No results found."})})})]})})]})]}):null},rs=({label:e,value:s})=>t.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:e}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s})]}),yy=()=>{const[e,s]=c.useState(""),[a,l]=c.useState(""),[n,r]=c.useState(""),[i,o]=c.useState(""),[d,u]=c.useState(""),h=x=>{if(x.preventDefault(),o(""),u(""),a!==n){o("New passwords do not match.");return}if(a.length<6){o("Password must be at least 6 characters long.");return}if(e!=="password123"){o("Incorrect current password.");return}console.log("Password updated successfully!"),u("Your password has been changed successfully."),s(""),l(""),r(""),setTimeout(()=>u(""),5e3)};return t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mt-8",children:[t.jsx("h2",{className:"text-xl font-bold mb-4 border-b pb-4",children:"Change Password"}),t.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i&&t.jsx("p",{className:"text-sm text-red-600 p-3 bg-red-50 rounded-md",children:i}),d&&t.jsx("p",{className:"text-sm text-green-600 p-3 bg-green-50 rounded-md",children:d}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),t.jsx("input",{type:"password",id:"currentPassword",required:!0,value:e,onChange:x=>s(x.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),t.jsx("input",{type:"password",id:"newPassword",required:!0,value:a,onChange:x=>l(x.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),t.jsx("input",{type:"password",id:"confirmPassword",required:!0,value:n,onChange:x=>r(x.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Update Password"})})]})]})},vy=()=>{const{student:e}=vt(),[s,a]=c.useState(""),[l,n]=c.useState(e),r=c.useRef(null),i=()=>{a("Your update request has been sent to the administration office."),setTimeout(()=>a(""),5e3)},o=d=>{if(d.target.files&&d.target.files[0]){const u=d.target.files[0],h=new FileReader;h.onloadend=()=>{n(x=>({...x,avatarUrl:h.result}))},h.readAsDataURL(u)}};return l?t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark mb-8",children:"My Profile"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[t.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[t.jsx("img",{src:l.avatarUrl,alt:l.name,className:"w-32 h-32 rounded-full border-4 border-brand-red object-cover"}),t.jsx("button",{onClick:()=>{var d;return(d=r.current)==null?void 0:d.click()},className:"absolute bottom-0 right-0 bg-brand-dark text-white rounded-full p-2 hover:bg-opacity-80 transition-colors","aria-label":"Change profile picture",children:t.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),t.jsx("input",{type:"file",ref:r,onChange:o,className:"hidden",accept:"image/*"})]}),t.jsx("h2",{className:"text-2xl font-bold mt-4",children:l.name}),t.jsx("p",{className:"text-gray-500",children:l.studentId}),t.jsx("p",{className:"mt-2 bg-green-100 text-green-700 text-sm font-semibold px-3 py-1 rounded-full inline-block",children:"Academic Standing: Good"})]})}),t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[t.jsx("h2",{className:"text-xl font-bold",children:"Personal Information"}),t.jsx("button",{onClick:i,className:"text-sm font-semibold text-blue-600 hover:underline",children:"Request to Update"})]}),s&&t.jsx("p",{className:"mt-4 text-sm text-blue-600 bg-blue-50 p-3 rounded-md",children:s}),t.jsxs("dl",{className:"divide-y divide-gray-200",children:[t.jsx(rs,{label:"Full Name",value:l.name}),t.jsx(rs,{label:"Email Address",value:l.email}),t.jsx(rs,{label:"Phone Number",value:l.phone}),t.jsx(rs,{label:"Date of Birth",value:l.dob}),l.socialMediaUrl&&t.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4",children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Social Media"}),t.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.jsx("a",{href:l.socialMediaUrl,target:"_blank",rel:"noopener noreferrer",className:"text-brand-red hover:underline break-all",children:l.socialMediaUrl})})]}),t.jsx(rs,{label:"Address",value:l.address}),t.jsx(rs,{label:"Emergency Contact",value:"Jane Doe (Mother) - +977 9807654321"}),t.jsx(rs,{label:"Enrolled Since",value:l.enrollmentDate}),t.jsx(rs,{label:"Current Level",value:l.currentLevel})]})]})})]}),t.jsx(yy,{})]}):t.jsx("div",{children:"Loading..."})},Io=({attachment:e})=>{const s=t.jsxs("a",{href:e.url,download:e.name||"download",className:"mt-1 flex items-center text-xs font-semibold text-blue-600 hover:underline",children:[t.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]});switch(e.type){case"image":return t.jsxs("div",{className:"mt-2",children:[t.jsx("img",{src:e.url,alt:e.name||"attachment",className:"rounded-lg max-w-xs max-h-64 object-cover"}),s]});case"video":return t.jsxs("div",{className:"mt-2",children:[t.jsx("video",{src:e.url,controls:!0,className:"rounded-lg max-w-xs"}),s]});case"document":return t.jsxs("a",{href:e.url,download:e.name,className:"mt-2 flex items-center p-2 bg-gray-200 rounded-lg hover:bg-gray-300 w-fit",children:[t.jsx("svg",{className:"w-6 h-6 mr-2 text-gray-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.jsx("span",{className:"text-sm font-medium text-brand-dark truncate",children:e.name})]});case"link":return t.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"mt-2 block p-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:[t.jsx("p",{className:"text-sm font-semibold text-blue-600",children:"Link"}),t.jsx("p",{className:"text-xs text-gray-700 truncate",children:e.url})]});default:return null}},df=({attachment:e,onRemove:s})=>t.jsxs("div",{className:"p-2 border-t relative bg-gray-50",children:[t.jsxs("div",{className:"flex items-center text-sm",children:[e.type==="image"&&t.jsx("img",{src:e.url,alt:"preview",className:"w-12 h-12 object-cover rounded-md mr-2"}),t.jsxs("div",{className:"truncate",children:[t.jsx("p",{className:"font-semibold truncate",children:e.name}),t.jsx("p",{className:"text-gray-500 capitalize",children:e.type})]})]}),t.jsx("button",{onClick:s,className:"absolute top-1 right-1 bg-gray-500 text-white rounded-full w-4 h-4 text-xs flex items-center justify-center hover:bg-brand-red",children:"×"})]}),jy=({studentMap:e})=>{const{student:s}=vt(),a=c.useMemo(()=>{const f=new Map;return we.forEach(m=>{[...m.papers,...m.options||[]].forEach(j=>{const g=j.split(":")[0].trim();f.set(g,j)})}),f},[]),l=s.enrolledPapers,[n,r]=c.useState(l[0]||""),[i,o]=c.useState(()=>E("communityChatMessages",Ob)),[d,u]=c.useState(""),[h,x]=c.useState(null),y=c.useRef(null),p=c.useRef(null);c.useEffect(()=>{se("communityChatMessages",i)},[i]),c.useEffect(()=>{var f;(f=y.current)==null||f.scrollIntoView({behavior:"smooth"})},[i,n]);const b=f=>{if(f.preventDefault(),!d.trim()&&!h||!n)return;const m=/(https?:\/\/[^\s]+)/g;let j=h;!j&&d.match(m)&&(j={type:"link",url:d.match(m)[0]});const g={id:Date.now(),studentId:s.id,text:d.trim(),timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),attachment:j||void 0};o(k=>{const w={...k},S=w[n]||[];return w[n]=[...S,g],w}),u(""),x(null),p.current&&(p.current.value="")},v=f=>{var k;const m=(k=f.target.files)==null?void 0:k[0];if(!m)return;let j="document";m.type.startsWith("image/")&&(j="image"),m.type.startsWith("video/")&&(j="video");const g=URL.createObjectURL(m);x({type:j,url:g,name:m.name})},N=i[n]||[];return t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 h-[75vh]",children:[t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md lg:col-span-1 h-full flex flex-col",children:[t.jsx("h3",{className:"font-bold text-lg text-brand-dark mb-4 border-b pb-2",children:"Study Groups"}),t.jsx("nav",{className:"space-y-2 overflow-y-auto",children:l.map(f=>t.jsxs("button",{onClick:()=>r(f),className:`w-full text-left p-3 rounded-md font-semibold text-sm transition-colors ${n===f?"bg-brand-red text-white":"hover:bg-gray-100 text-gray-700"}`,children:["# ",a.get(f)||f]},f))})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-md lg:col-span-3 h-full flex flex-col",children:[t.jsxs("div",{className:"p-4 border-b",children:[t.jsxs("h2",{className:"text-xl font-bold text-brand-dark",children:["#",a.get(n)||n]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Discuss topics and ask questions with your classmates."})]}),t.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[N.map(f=>{const m=e.get(f.studentId);if(!m)return null;const j=m.id===s.id;return t.jsxs("div",{className:`flex items-start gap-3 ${j?"justify-end":""}`,children:[!j&&t.jsx("img",{src:m.avatarUrl,alt:m.name,className:"w-10 h-10 rounded-full"}),t.jsxs("div",{children:[t.jsxs("div",{className:`text-sm p-3 rounded-lg max-w-sm ${j?"bg-brand-red text-white":"bg-gray-100"}`,children:[t.jsx("p",{className:`font-bold mb-1 ${j?"hidden":"block"}`,children:m.name}),f.text&&t.jsx("p",{className:"whitespace-pre-wrap",children:f.text}),f.attachment&&t.jsx(Io,{attachment:f.attachment})]}),t.jsx("p",{className:`text-xs text-gray-400 mt-1 ${j?"text-right":""}`,children:f.timestamp})]}),j&&t.jsx("img",{src:m.avatarUrl,alt:m.name,className:"w-10 h-10 rounded-full"})]},f.id)}),t.jsx("div",{ref:y})]}),t.jsxs("div",{className:"mt-auto border-t",children:[h&&t.jsx(df,{attachment:h,onRemove:()=>x(null)}),t.jsxs("form",{onSubmit:b,className:"flex items-center p-2",children:[t.jsx("input",{type:"file",ref:p,onChange:v,className:"hidden"}),t.jsx("button",{type:"button",onClick:()=>{var f;return(f=p.current)==null?void 0:f.click()},className:"p-2 text-gray-500 hover:text-brand-red",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),t.jsx("input",{type:"text",placeholder:`Message #${a.get(n)||n}...`,value:d,onChange:f=>u(f.target.value),className:"flex-1 border-none p-2 focus:outline-none focus:ring-0 bg-white"}),t.jsx("button",{type:"submit",className:"bg-brand-red text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Send"})]})]})]})]})},Ny=({studentMap:e})=>{const{student:s}=vt(),[a,l]=c.useState(()=>E("teacherQuestions",Kd)),[n,r]=c.useState(!1),[i,o]=c.useState(null),[d,u]=c.useState(null);c.useEffect(()=>{se("teacherQuestions",a)},[a]);const h=p=>{var f;const b=(f=p.target.files)==null?void 0:f[0];if(!b){o(null),u(null);return}o(b);let v="document";b.type.startsWith("image/")&&(v="image"),b.type.startsWith("video/")&&(v="video");const N=URL.createObjectURL(b);u({type:v,url:N,name:b.name})},x=async p=>{p.preventDefault();const b=p.currentTarget,v=new FormData(b),N=j=>new Promise((g,k)=>{const w=new FileReader;w.readAsDataURL(j),w.onload=()=>g(w.result),w.onerror=S=>k(S)});let f;if(i&&d){const j=await N(i);f={...d,url:j}}const m={id:Date.now(),studentId:s.id,studentName:s.name,paper:v.get("paper"),question:v.get("question"),status:"Pending",askedDate:new Date().toISOString().split("T")[0],questionAttachment:f};l(j=>[m,...j]),r(!0),setTimeout(()=>r(!1),3e3),b.reset(),o(null),u(null)},y=a.filter(p=>p.studentId===s.id);return t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"Ask a Teacher"}),t.jsxs("form",{onSubmit:x,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"paper",className:"block text-sm font-medium text-gray-700",children:"Select Paper"}),t.jsx("select",{id:"paper",name:"paper",className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red",children:we.flatMap(p=>p.papers).map(p=>t.jsx("option",{children:p},p))})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"question",className:"block text-sm font-medium text-gray-700",children:"Your Question"}),t.jsx("textarea",{id:"question",name:"question",rows:5,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white",placeholder:"Type your academic question here..."})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700",children:"Attach File (Optional)"}),t.jsx("input",{type:"file",id:"attachment",name:"attachment",onChange:h,className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"})]}),d&&t.jsx(df,{attachment:d,onRemove:()=>{o(null),u(null);const p=document.getElementById("attachment");p&&(p.value="")}}),t.jsx("button",{type:"submit",className:"w-full bg-brand-red text-white py-2 px-4 rounded-md font-semibold hover:bg-red-700 transition-colors",children:"Submit Question"}),n&&t.jsx("p",{className:"text-sm text-green-600 text-center",children:"Your question has been submitted successfully!"})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h3",{className:"text-xl font-bold text-brand-dark mb-4",children:"Your Question History"}),t.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[y.map(p=>t.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:p.question}),p.questionAttachment&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Your Attachment:"}),t.jsx(Io,{attachment:p.questionAttachment})]})]}),t.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${p.status==="Answered"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:p.status})]}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[p.paper," - Asked on ",p.askedDate]})]}),p.status==="Answered"&&t.jsxs("div",{className:"bg-green-50 p-4 border-t",children:[t.jsxs("p",{className:"font-semibold text-sm text-green-800",children:["Answer from ",p.answeredBy,":"]}),p.answer&&t.jsx("p",{className:"text-gray-700 mt-1 text-sm",children:p.answer}),p.answerAttachment&&t.jsx("div",{className:"mt-2",children:t.jsx(Io,{attachment:p.answerAttachment})})]})]},p.id)),y.length===0&&t.jsx("p",{className:"text-center text-gray-500 py-8",children:"You haven't asked any questions yet."})]})]})]})},wy=({studentMap:e})=>{const{student:s}=vt(),[a,l]=c.useState(()=>E("sharedResources",zb)),[n,r]=c.useState("All"),[i,o]=c.useState(!1);c.useEffect(()=>{se("sharedResources",a)},[a]);const d=x=>{x.preventDefault();const y=new FormData(x.currentTarget),p={id:Date.now(),studentId:s.id,studentName:s.name,studentAvatarUrl:s.avatarUrl,paper:y.get("paper"),title:y.get("title"),description:y.get("description"),url:y.get("url"),timestamp:new Date().toISOString()};l(b=>[p,...b]),x.currentTarget.reset(),o(!1)},u=c.useMemo(()=>n==="All"?a:a.filter(x=>x.paper===n),[a,n]),h=c.useMemo(()=>["All",...new Set(a.map(x=>x.paper))],[a]);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Student Shared Resources"}),t.jsx("button",{onClick:()=>o(x=>!x),className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:i?"Cancel":"+ Share a Resource"})]}),i&&t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:t.jsxs("form",{onSubmit:d,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Title"}),t.jsx("input",{name:"title",required:!0,className:"mt-1 w-full p-2 border rounded bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Paper"}),t.jsxs("select",{name:"paper",required:!0,className:"mt-1 w-full p-2 border rounded bg-white",children:[t.jsx("option",{value:"",children:"Select Paper"}),we.flatMap(x=>x.papers).map(x=>t.jsx("option",{value:x,children:x},x))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"URL"}),t.jsx("input",{name:"url",type:"url",required:!0,placeholder:"https://...",className:"mt-1 w-full p-2 border rounded bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Description"}),t.jsx("textarea",{name:"description",rows:3,required:!0,className:"mt-1 w-full p-2 border rounded bg-white"})]}),t.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded",children:"Submit Resource"})]})}),t.jsx("div",{className:"flex justify-end",children:t.jsx("select",{value:n,onChange:x=>r(x.target.value),className:"p-2 border rounded-md bg-white",children:h.map(x=>t.jsx("option",{value:x,children:x},x))})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map(x=>t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md border flex flex-col",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx("img",{src:x.studentAvatarUrl,alt:x.studentName,className:"w-10 h-10 rounded-full mr-3"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-sm",children:x.studentName}),t.jsx("p",{className:"text-xs text-gray-500",children:new Date(x.timestamp).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex-grow",children:[t.jsx("h4",{className:"font-bold text-brand-dark",children:x.title}),t.jsx("p",{className:"text-sm text-gray-500 font-semibold",children:x.paper}),t.jsx("p",{className:"text-sm text-gray-700 my-2",children:x.description})]}),t.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-sm font-semibold text-blue-600 hover:underline self-start",children:"View Resource →"})]},x.id))})]})},Sy=()=>{const{student:e}=vt(),[s,a]=c.useState(()=>E("adminConversations",Pb)),[l,n]=c.useState(null),[r,i]=c.useState(!1),[o,d]=c.useState(""),[u,h]=c.useState(""),[x,y]=c.useState("");c.useEffect(()=>{se("adminConversations",s)},[s]),c.useEffect(()=>{!l&&!r&&p.length>0&&i(!0)},[l,r]);const p=c.useMemo(()=>s.filter(N=>N.participantId===e.id&&N.participantRole==="student").sort((N,f)=>new Date(f.lastUpdate).getTime()-new Date(N.lastUpdate).getTime()),[s,e.id]),b=N=>{n(N),i(!1)},v=()=>{const N=u.trim();if(!N)return;const f=new Date().toISOString(),m={sender:"user",text:N,timestamp:f};let j;if(l){const g={...l,messages:[...l.messages,m],status:"Pending",lastUpdate:f};j=s.map(k=>k.id===l.id?g:k),n(g)}else if(r){const g={id:Date.now(),participantId:e.id,participantName:e.name,participantRole:"student",subject:o.trim(),status:"Pending",lastUpdate:f,messages:[m]};j=[g,...s],n(g),i(!1)}a(j),se("adminConversations",j),h(""),d("")};return t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-[75vh]",children:[t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md lg:col-span-1 h-full flex flex-col",children:[t.jsx("button",{onClick:()=>{i(!0),n(null)},className:`w-full p-3 rounded-md font-semibold text-sm text-center mb-4 transition-colors ${r?"bg-brand-red text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"+ New Message"}),t.jsx("h3",{className:"font-bold text-lg text-brand-dark mb-2 border-b pb-2",children:"Your Conversations"}),t.jsx("ul",{className:"space-y-2 overflow-y-auto",children:p.map(N=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>b(N),className:`w-full text-left p-3 rounded-lg border-l-4 ${(l==null?void 0:l.id)===N.id?"bg-red-50 border-brand-red":"bg-gray-50 border-transparent hover:bg-gray-100"}`,children:[t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsx("p",{className:"font-semibold text-gray-600",children:"Admin"}),t.jsx("span",{className:`font-bold ${N.status==="Pending"?"text-yellow-600":"text-green-600"}`,children:N.status})]}),t.jsx("p",{className:"font-semibold text-sm truncate mt-1",children:N.subject})]})},N.id))})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-md lg:col-span-2 h-full flex flex-col",children:[l&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b",children:[t.jsx("h2",{className:"text-xl font-bold",children:l.subject}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",l.status]})]}),t.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:l.messages.map((N,f)=>t.jsxs("div",{className:`flex items-start gap-3 ${N.sender==="user"?"justify-end":""}`,children:[N.sender==="admin"&&t.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-400 flex-shrink-0"}),t.jsx("div",{className:`text-sm p-3 rounded-lg max-w-sm ${N.sender==="user"?"bg-brand-red text-white":"bg-gray-100"}`,children:t.jsx("p",{className:"whitespace-pre-wrap",children:N.text})})]},f))})]}),r&&t.jsx("div",{className:"p-4 border-b",children:t.jsx("h2",{className:"text-xl font-bold",children:"New Message to Admin"})}),l||r?t.jsxs("div",{className:"p-4 border-t mt-auto",children:[r&&t.jsx("input",{value:o,onChange:N=>d(N.target.value),placeholder:"Subject",className:"w-full p-2 border rounded-md mb-2 bg-white"}),t.jsx("textarea",{value:u,onChange:N=>h(N.target.value),rows:3,placeholder:"Type your message...",className:"w-full p-2 border rounded-md bg-white"}),t.jsx("button",{onClick:v,className:"mt-2 w-full bg-brand-red text-white py-2 rounded-md font-semibold",children:"Send"})]}):t.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Select or start a conversation."})]})]})},ky=()=>{const[e,s]=c.useState("chat"),[a]=c.useState(()=>E("students",ne)),l=c.useMemo(()=>new Map(a.map(n=>[n.id,n])),[a]);return t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark mb-8",children:"Community Hub"}),t.jsxs("div",{className:"mb-6 flex border-b overflow-x-auto",children:[t.jsx("button",{onClick:()=>s("chat"),className:`py-2 px-6 font-semibold whitespace-nowrap ${e==="chat"?"border-b-2 border-brand-red text-brand-red":"text-gray-500"}`,children:"Study Groups"}),t.jsx("button",{onClick:()=>s("ask"),className:`py-2 px-6 font-semibold whitespace-nowrap ${e==="ask"?"border-b-2 border-brand-red text-brand-red":"text-gray-500"}`,children:"Ask a Teacher"}),t.jsx("button",{onClick:()=>s("resources"),className:`py-2 px-6 font-semibold whitespace-nowrap ${e==="resources"?"border-b-2 border-brand-red text-brand-red":"text-gray-500"}`,children:"Shared Resources"}),t.jsx("button",{onClick:()=>s("contact"),className:`py-2 px-6 font-semibold whitespace-nowrap ${e==="contact"?"border-b-2 border-brand-red text-brand-red":"text-gray-500"}`,children:"Contact Admin"})]}),t.jsxs("div",{children:[e==="chat"&&t.jsx(jy,{studentMap:l}),e==="ask"&&t.jsx(Ny,{studentMap:l}),e==="resources"&&t.jsx(wy,{studentMap:l}),e==="contact"&&t.jsx(Sy,{})]})]})},Ri=(e,s=2)=>{if(e===0)return"0 KB";const a=1024,l=s<0?0:s,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e*a)/Math.log(a));return parseFloat((e*a/Math.pow(a,r)).toFixed(l))+" "+n[r]},Cy=({item:e,onPause:s,onResume:a,onCancel:l})=>{const n=e.size*e.progress/100;return t.jsxs("div",{className:"p-3 border-b last:border-b-0",children:[t.jsx("p",{className:"text-sm font-semibold truncate text-gray-800",children:e.title}),t.jsxs("div",{className:"flex items-center my-1.5",children:[t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mr-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-200 ${e.status==="completed"?"bg-green-500":"bg-brand-red"}`,style:{width:`${e.progress}%`}})}),t.jsxs("span",{className:"text-xs font-mono w-12 text-right",children:[Math.round(e.progress),"%"]})]}),t.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[t.jsxs("p",{children:[e.status==="completed"?`${Ri(e.size)}`:`${Ri(n)} / ${Ri(e.size)}`,t.jsxs("span",{className:"capitalize ml-2",children:[e.status,"..."]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[e.status==="downloading"&&t.jsx("button",{onClick:()=>s(e.id),title:"Pause",className:"hover:text-brand-dark",children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.status==="paused"&&t.jsx("button",{onClick:()=>a(e.id),title:"Resume",className:"hover:text-brand-dark",children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})}),e.status!=="completed"&&t.jsx("button",{onClick:()=>l(e.id),title:"Cancel",className:"hover:text-brand-red",children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})]})]})},Ay=({queue:e,onPause:s,onResume:a,onCancel:l,onClearCompleted:n})=>{const[r,i]=c.useState(!1),o=e.filter(d=>d.status!=="completed"&&d.status!=="canceled").length;return e.length===0?null:t.jsxs("div",{className:"fixed bottom-4 right-4 w-80 bg-white rounded-lg shadow-2xl border z-50",children:[t.jsxs("button",{onClick:()=>i(!r),className:"w-full flex justify-between items-center p-3 bg-brand-dark text-white rounded-t-lg cursor-pointer",children:[t.jsx("h3",{className:"font-bold text-md",children:r?`Downloads (${o} active)`:"Download Manager"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[o>0&&t.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-brand-red"})]}),t.jsx("svg",{className:`w-5 h-5 transition-transform duration-300 ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})})]})]}),t.jsxs("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${r?"max-h-0":"max-h-96"}`,children:[t.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.map(d=>t.jsx(Cy,{item:d,onPause:s,onResume:a,onCancel:l},d.id))}),t.jsx("div",{className:"p-2 border-t bg-gray-50 rounded-b-lg",children:t.jsx("button",{onClick:n,className:"w-full text-center text-sm font-semibold text-gray-600 hover:text-brand-red py-1",children:"Clear Completed"})})]})]})},Ty={lectures:t.jsxs("svg",{className:"w-5 h-5 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),notes:t.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),assignments:t.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),PDF:t.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Notes:t.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Assignment:t.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})},My=()=>{const{student:e}=vt(),[s]=sf(),a=c.useMemo(()=>{const L=new Map;return we.forEach(H=>{[...H.papers,...H.options||[]].forEach(B=>{const Y=B.split(":")[0].trim();e.enrolledPapers.includes(Y)&&L.set(B,Y)})}),Array.from(L.keys())},[e.enrolledPapers]),l=s.get("paper")||a[0]||"",[n,r]=c.useState(l),[i,o]=c.useState([]),[d,u]=c.useState(!1),[h,x]=c.useState(null),[y,p]=c.useState(new Date),[b,v]=c.useState("lectures"),[N,f]=c.useState(()=>E("liveClasses",Vl)),[m,j]=c.useState(()=>{const L=E("courseMaterials",Ea),H=E("customMaterials",[]),_=new Set(L.map(Y=>Y.id)),B=H.filter(Y=>!_.has(Y.id));return[...L,...B]}),[g,k]=c.useState(()=>{const L=E("recordedLectures",Da),H=E("customLectures",[]),_=new Set(L.map(Y=>Y.id)),B=H.filter(Y=>!_.has(Y.id));return[...L,...B]});c.useEffect(()=>{const L=H=>{if(H.key==="liveClasses"&&H.newValue&&f(JSON.parse(H.newValue)),H.key==="customMaterials"){const _=E("courseMaterials",Ea),B=E("customMaterials",[]),Y=new Set(_.map(Xe=>Xe.id)),Q=B.filter(Xe=>!Y.has(Xe.id));j([..._,...Q])}if(H.key==="customLectures"){const _=E("recordedLectures",Da),B=E("customLectures",[]),Y=new Set(_.map(Xe=>Xe.id)),Q=B.filter(Xe=>!Y.has(Xe.id));k([..._,...Q])}};return window.addEventListener("storage",L),()=>window.removeEventListener("storage",L)},[]),c.useEffect(()=>{const L=setInterval(()=>p(new Date),3e4);return()=>clearInterval(L)},[]);const{recordedLecturesForPaper:w,notesForPaper:S,assignmentsForPaper:T}=c.useMemo(()=>{const L=n.split(":")[0].trim(),H=g.filter(Q=>Q.paper===L),_=m.filter(Q=>Q.paper===L),B=_.filter(Q=>Q.type==="Notes"||Q.type==="PDF"),Y=_.filter(Q=>Q.type==="Assignment");return{recordedLecturesForPaper:H,notesForPaper:B,assignmentsForPaper:Y}},[n,g,m]),C=L=>{const[H,_]=L.split(" ");let[B,Y]=H.split(":").map(Number);_==="PM"&&B!==12&&(B+=12),_==="AM"&&B===12&&(B=0);const Q=new Date;return Q.setHours(B,Y,0,0),Q},{startingSoonOrLive:A,upcoming:M}=c.useMemo(()=>{const L=N.filter(Y=>Y.paper===n),H=[],_=[];L.forEach(Y=>{if(Y.status==="Live"){H.push(Y);return}const Xe=(C(Y.startTime).getTime()-y.getTime())/(1e3*60);Xe<-120||(Y.status==="Upcoming"&&Xe<=10?H.push(Y):Y.status==="Upcoming"&&Xe>10&&_.push(Y))});const B=(Y,Q)=>C(Y.startTime).getTime()-C(Q.startTime).getTime();return H.sort(B),_.sort(B),{startingSoonOrLive:H,upcoming:_}},[y,n,N]),R=L=>{const H=L.id;if(i.some(B=>B.id===H))return;const _={id:H,title:"videoUrl"in L?L.topic:L.title,progress:0,status:"queued",size:Math.floor(Math.random()*18e3+2e3)};o(B=>[...B,_])};c.useEffect(()=>{const L=i.find(H=>H.status==="queued");if(L){o(_=>_.map(B=>B.id===L.id?{...B,status:"downloading"}:B));const H=setInterval(()=>{o(_=>{const B=_.find(Q=>Q.id===L.id);if(!B||B.status!=="downloading")return clearInterval(H),_;if(B.progress>=100)return clearInterval(H),_.map(Q=>Q.id===L.id?{...Q,status:"completed"}:Q);const Y=B.progress+5;return _.map(Q=>Q.id===L.id?{...Q,progress:Math.min(Y,100)}:Q)})},500);o(_=>_.map(B=>B.id===L.id?{...B,intervalId:H}:B))}},[i]);const O=L=>{const H=i.find(_=>_.id===L);H&&H.intervalId&&(clearInterval(H.intervalId),o(_=>_.map(B=>B.id===L?{...B,status:"paused",intervalId:void 0}:B)))},D=L=>{o(H=>H.map(_=>_.id===L?{..._,status:"queued"}:_))},q=L=>{const H=i.find(_=>_.id===L);H&&H.intervalId&&clearInterval(H.intervalId),o(_=>_.filter(B=>B.id!==L))},U=()=>{o(L=>L.filter(H=>H.status!=="completed"))},F=(L,H)=>{x({teacherName:L,classTopic:H}),u(!0)},I=(L,H)=>{console.log(`Submitted rating: ${L} stars. Feedback: "${H}"`,h)},z=(L,H)=>L.length===0?t.jsx("p",{className:"text-gray-500 text-center py-8",children:H}):t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:L.map(_=>{const B="videoUrl"in _,Y=B?_.topic:_.title,Q=B?_.date:_.uploadDate,Xe=B?"lectures":_.type;return t.jsxs("div",{className:"flex items-center p-3 hover:bg-gray-100 rounded-md transition-colors",children:[Ty[Xe],t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-800",children:Y}),t.jsx("p",{className:"text-xs text-gray-500",children:B?`Date: ${Q}`:`Uploaded: ${Q}`})]}),t.jsx("div",{className:"space-x-2",children:B?t.jsx("a",{href:_.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-semibold text-blue-600 hover:underline",children:"View on YouTube"}):t.jsxs(t.Fragment,{children:[t.jsx("a",{href:_.downloadLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-semibold text-green-600 hover:underline",children:"View"}),t.jsx("button",{onClick:()=>R(_),className:"text-xs font-semibold text-blue-600 hover:underline",children:"Download"})]})})]},_.id)})});return t.jsxs("div",{children:[t.jsx("style",{children:`
                @keyframes pulse-slow {
                  50% {
                    opacity: .85;
                  }
                }
                .animate-pulse-slow {
                  animation: pulse-slow 2.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
                }
            `}),t.jsx("h1",{className:"text-4xl font-bold text-brand-dark mb-8",children:"Classes & Resources"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{htmlFor:"paperSelect",className:"block text-sm font-medium text-gray-700",children:"Select a Paper"}),t.jsx("select",{id:"paperSelect",value:n,onChange:L=>r(L.target.value),className:"mt-1 block w-full max-w-sm pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-brand-red focus:border-brand-red sm:text-sm rounded-md shadow-sm bg-white",children:a.map(L=>t.jsx("option",{value:L,children:L},L))})]}),A.length>0&&t.jsxs("div",{className:"bg-red-50 border-2 border-brand-red p-6 rounded-lg shadow-lg mb-8 animate-pulse-slow",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-red mb-4",children:"Live & Starting Soon"}),t.jsx("div",{className:"space-y-4",children:A.map(L=>{const H=L.status==="Live";return t.jsxs("div",{className:"p-4 border rounded-lg flex justify-between items-center bg-white shadow-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold",children:L.topic}),t.jsxs("p",{className:"text-sm text-gray-500",children:[L.instructor," - ",L.startTime]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[H&&t.jsxs("span",{className:"flex items-center text-sm font-bold text-brand-red",children:[t.jsxs("span",{className:"relative flex h-3 w-3 mr-2",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-brand-red"})]}),"LIVE"]}),t.jsx("button",{onClick:()=>{F(L.instructor,L.topic),window.open(L.joinLink,"_blank","noopener,noreferrer")},disabled:!H,className:`font-semibold text-sm px-4 py-2 rounded-md transition-colors ${H?"bg-brand-red text-white hover:bg-red-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:H?"Join Now":"Starting Soon"})]})]},L.id)})})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"Upcoming Classes"}),t.jsx("div",{className:"space-y-4",children:M.length>0?M.map(L=>t.jsxs("div",{className:"p-4 border rounded-lg flex justify-between items-center bg-gray-50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold",children:L.topic}),t.jsxs("p",{className:"text-sm text-gray-500",children:[L.instructor," - ",L.startTime]})]}),t.jsx("button",{disabled:!0,className:"bg-gray-200 text-gray-500 cursor-not-allowed font-semibold text-sm px-4 py-2 rounded-md",children:"Upcoming"})]},L.id)):t.jsx("p",{className:"text-gray-500 text-center py-4",children:"No other classes scheduled for this paper today."})})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"Class Resources"}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[t.jsx("button",{onClick:()=>v("lectures"),className:`py-3 px-1 border-b-2 font-semibold text-sm ${b==="lectures"?"border-brand-red text-brand-red":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Recorded Lectures"}),t.jsx("button",{onClick:()=>v("notes"),className:`py-3 px-1 border-b-2 font-semibold text-sm ${b==="notes"?"border-brand-red text-brand-red":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Notes & PDFs"}),t.jsx("button",{onClick:()=>v("assignments"),className:`py-3 px-1 border-b-2 font-semibold text-sm ${b==="assignments"?"border-brand-red text-brand-red":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Assignments"})]})}),t.jsxs("div",{className:"py-4",children:[b==="lectures"&&z(w,"No recorded lectures available for this paper yet."),b==="notes"&&z(S,"No notes or PDFs available for this paper yet."),b==="assignments"&&z(T,"No assignments available for this paper yet.")]})]}),t.jsx(Ay,{queue:i,onPause:O,onResume:D,onCancel:q,onClearCompleted:U}),h&&t.jsx(of,{isOpen:d,onClose:()=>{u(!1),x(null)},onSubmit:I,teacherName:h.teacherName,classTopic:h.classTopic})]})},Dy=()=>{try{const e=localStorage.getItem("students");return e?JSON.parse(e):ne}catch{return ne}},Ey=({student:e})=>{const{totalFee:s,discount:a,paidAmount:l,outstandingBalance:n}=c.useMemo(()=>{var x;if(!e)return{totalFee:0,discount:0,paidAmount:0,outstandingBalance:0};const o=e.totalFee||0,d=e.discount||0,u=o-d,h=((x=e.paymentHistory)==null?void 0:x.filter(y=>y.status==="Paid").reduce((y,p)=>y+p.amount,0))||0;return{totalFee:o,discount:d,paidAmount:h,outstandingBalance:u-h}},[e]),r=s-a,i=r>0?Math.min(100,l/r*100):100;return t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md sticky top-28",children:[t.jsx("h2",{className:"text-xl font-bold text-brand-dark mb-4",children:"Your Fee Summary"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Total Fee"}),t.jsxs("span",{className:"font-medium",children:["NPR ",s.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Discount"}),t.jsxs("span",{className:"font-medium",children:["- NPR ",a.toLocaleString()]})]}),t.jsx("hr",{}),t.jsxs("div",{className:"flex justify-between font-bold",children:[t.jsx("span",{children:"Net Payable"}),t.jsxs("span",{children:["NPR ",r.toLocaleString()]})]}),t.jsxs("div",{className:"pt-2",children:[t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:t.jsx("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:`${i}%`}})}),t.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[t.jsxs("span",{children:["Paid: NPR ",l.toLocaleString()]}),t.jsxs("span",{children:[i.toFixed(1),"%"]})]})]}),t.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-center mt-4",children:[t.jsx("p",{className:"text-sm font-medium text-brand-red",children:"Outstanding Balance"}),t.jsxs("p",{className:"text-3xl font-black text-brand-red",children:["NPR ",n.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Next Due Date"}),t.jsx("p",{className:"font-semibold text-gray-800",children:e.dueDate})]}),e.feeRemarks&&t.jsxs("div",{className:"mt-4 pt-4 border-t",children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Admin Remarks:"}),t.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',e.feeRemarks,'"']})]})]})]})},Ly=()=>{const{student:e}=vt(),[s,a]=c.useState(Dy),[l,n]=c.useState("qr"),[r,i]=c.useState(""),[o,d]=c.useState(""),[u,h]=c.useState(null),[x,y]=c.useState(null),[p,b]=c.useState(null),v=c.useRef(null),[N]=ts("paymentQRCodes",[]),[f]=ts("onlinePaymentsEnabled",!0);c.useEffect(()=>{localStorage.setItem("students",JSON.stringify(s))},[s]);const m=c.useMemo(()=>s.find(S=>S.id===e.id),[s,e.id]),j=c.useMemo(()=>{var C;if(!m)return 0;const S=(m.totalFee||0)-(m.discount||0),T=((C=m.paymentHistory)==null?void 0:C.filter(A=>A.status==="Paid").reduce((A,M)=>A+M.amount,0))||0;return S-T},[m]);c.useEffect(()=>{j>0?i(j.toString()):i("")},[j]);const g=S=>{const T=S.target.files?S.target.files[0]:null;h(T),x&&URL.revokeObjectURL(x),y(T?URL.createObjectURL(T):null)},k=async S=>{S.preventDefault(),b(null);const T=parseFloat(r);if(isNaN(T)||T<=0){b({type:"error",text:"Please enter a valid payment amount."});return}if(!u){b({type:"error",text:"Please upload a payment screenshot for verification."});return}const C=await qe(u,{maxWidth:800,maxHeight:800,quality:.7}),A={invoiceId:`INV-${Date.now()}`,date:new Date().toISOString().split("T")[0],amount:T,status:"Pending Verification",method:"eSewa",remarks:o.trim()||"Online payment via QR.",screenshotUrl:C};a(M=>M.map(R=>R.id===e.id?{...R,paymentHistory:[A,...R.paymentHistory||[]]}:R)),b({type:"success",text:`Your payment of NPR ${T.toLocaleString()} has been submitted for verification.`}),i(""),d(""),h(null),y(null),v.current&&(v.current.value="")};if(!m)return t.jsx("div",{children:"Error: Student not found."});const w=f&&N.length>0;return t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark mb-8",children:"Fee Payment"}),p&&t.jsx("div",{className:`mb-6 p-4 text-sm rounded-md ${p.type==="success"?"bg-green-100 text-green-800":p.type==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:p.text}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[w?t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"Make a Payment"}),t.jsxs("div",{className:"border-b mb-4",children:[t.jsx("button",{onClick:()=>n("qr"),className:`py-2 px-4 font-semibold ${l==="qr"?"border-b-2 border-brand-red text-brand-red":"text-gray-500"}`,children:"1. Pay with QR"}),t.jsx("button",{onClick:()=>n("proof"),className:`py-2 px-4 font-semibold ${l==="proof"?"border-b-2 border-brand-red text-brand-red":"text-gray-500"}`,children:"2. Submit Proof"})]}),l==="qr"&&t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"mb-4 text-gray-600",children:"Scan a QR code below using your preferred payment app."}),t.jsx("div",{className:"flex justify-center flex-wrap gap-8",children:N.map(S=>t.jsxs("div",{className:"p-4 border rounded-lg",children:[t.jsx("img",{src:S.imageUrl,alt:`${S.title} QR Code`,className:"w-40 h-40"}),t.jsx("p",{className:"font-bold mt-2",children:S.title})]},S.id))}),t.jsx("p",{className:"mt-4 font-semibold text-brand-red",children:'After payment, please go to the "Submit Proof" tab to upload your screenshot.'})]}),l==="proof"&&t.jsxs("form",{onSubmit:k,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount Paid (NPR)"}),t.jsx("input",{type:"number",id:"amount",value:r,onChange:S=>i(S.target.value),required:!0,min:"1",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"screenshot",className:"block text-sm font-medium text-gray-700",children:"Upload Screenshot"}),t.jsx("input",{type:"file",id:"screenshot",ref:v,onChange:g,required:!0,accept:"image/*",className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"})]}),x&&t.jsxs("div",{className:"mt-2 p-2 border rounded-lg",children:[t.jsx("p",{className:"text-xs font-semibold mb-1",children:"Preview:"}),t.jsx("img",{src:x,alt:"Screenshot preview",className:"max-h-40 rounded"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700",children:"Remarks (Optional)"}),t.jsx("textarea",{id:"remarks",value:o,onChange:S=>d(S.target.value),rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white",placeholder:"e.g., Payment for August installment"})]}),t.jsx("button",{type:"submit",className:"w-full bg-brand-red text-white py-3 px-4 rounded-md font-semibold hover:bg-red-700",children:"Submit for Verification"})]})]}):t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"Make a Payment"}),t.jsxs("div",{className:"p-8 bg-yellow-50 text-yellow-800 rounded-lg text-center",children:[t.jsx("h3",{className:"font-bold text-lg",children:"Online Payments Unavailable"}),t.jsx("p",{children:"Online payments are currently disabled. Please contact the administration office for alternative payment methods."})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"Payment History"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left min-w-[600px]",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Date"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Amount (NPR)"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Status"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Details"})]})}),t.jsx("tbody",{className:"divide-y",children:m.paymentHistory&&m.paymentHistory.length>0?m.paymentHistory.map(S=>t.jsxs("tr",{className:"hover:bg-gray-50 text-sm",children:[t.jsx("td",{className:"p-3",children:S.date}),t.jsx("td",{className:"p-3 font-mono",children:S.amount.toLocaleString()}),t.jsx("td",{className:"p-3",children:t.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${S.status==="Paid"?"bg-green-100 text-green-700":S.status==="Pending Verification"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:S.status})}),t.jsxs("td",{className:"p-3",children:[t.jsxs("p",{children:[S.method," - ",S.remarks||"No remarks"]}),t.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs",children:[S.screenshotUrl&&t.jsx("a",{href:S.screenshotUrl,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-600 hover:underline",children:"View Proof"}),S.status==="Paid"&&t.jsx("button",{className:"font-semibold text-gray-600 hover:underline",children:"Download Invoice"})]}),S.rejectionReason&&t.jsxs("p",{className:"text-xs text-red-600 mt-1 italic",children:["Reason: ",S.rejectionReason]})]})]},S.invoiceId)):t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"text-center p-8 text-gray-500",children:"No payment history found."})})})]})})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsx(Ey,{student:m})})]})]})},Vo={class:{label:"Class",color:"bg-blue-500",filterColor:"bg-blue-500"},deadline:{label:"Deadline",color:"bg-yellow-500",filterColor:"bg-yellow-500"},exam:{label:"Exam",color:"bg-brand-red",filterColor:"bg-brand-red"}},Oi=e=>{const s=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getDate().toString().padStart(2,"0");return`${s}-${a}-${l}`},zu=({event:e})=>t.jsxs("div",{className:"flex items-start p-3 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:`w-3 h-3 rounded-full mt-1.5 mr-4 flex-shrink-0 ${Vo[e.type].color}`}),t.jsxs("div",{className:"flex-grow",children:[t.jsx("p",{className:"font-semibold text-gray-800",children:e.title}),t.jsx("p",{className:"text-sm text-gray-500",children:e.paper})]}),t.jsxs("div",{className:"text-right flex-shrink-0",children:[t.jsx("p",{className:"font-bold text-sm text-brand-dark",children:e.startTime||"All Day"}),e.endTime&&t.jsxs("p",{className:"text-xs text-gray-500",children:["to ",e.endTime]})]})]}),Ry=()=>{const{student:e}=vt(),[s,a]=c.useState("month"),[l,n]=c.useState(new Date),[r,i]=c.useState(new Date),[o,d]=c.useState({class:!0,deadline:!0,exam:!0}),[u,h]=c.useState(()=>E("calendarEvents",bs)),[x,y]=c.useState([]);c.useEffect(()=>{const O=()=>{h(E("calendarEvents",bs));const U=E("mockTests",Xr).filter(F=>F.status==="Published"&&F.scheduledStartTime).map(F=>{const I=new Date(F.scheduledStartTime);return{id:`test-${F.id}`,date:Oi(I),title:`Mock Test: ${F.title}`,type:"exam",startTime:I.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),paper:F.paper}});y(U)};O();const D=q=>{(q.key==="calendarEvents"||q.key==="mockTests")&&O()};return window.addEventListener("storage",D),()=>{window.removeEventListener("storage",D)}},[]);const p=c.useMemo(()=>{const O=new Set(u.map(q=>q.id)),D=x.filter(q=>!O.has(q.id));return[...u,...D]},[u,x]),b=O=>{d(D=>({...D,[O]:!D[O]}))},v=c.useMemo(()=>{if(!e)return[];const O=new Set(e.enrolledPapers);return p.filter(D=>{if(!D.paper)return!1;const q=D.paper.split(":")[0].trim();return O.has(q)}).filter(D=>o[D.type])},[o,p,e]),N=new Date(l.getFullYear(),l.getMonth(),1),f=new Date(l.getFullYear(),l.getMonth()+1,0),m=new Date(N);m.setDate(m.getDate()-m.getDay());const j=new Date(f);j.setDate(j.getDate()+(6-j.getDay()));const g=[];let k=new Date(m);for(;k<=j;)g.push(new Date(k)),k.setDate(k.getDate()+1);const w=(O,D)=>O.toDateString()===D.toDateString(),S=O=>w(O,new Date),T=O=>{n(D=>{const q=new Date(D);return q.setMonth(q.getMonth()+O),q})},C=()=>{const O=new Date;n(O),i(O)},A=v.filter(O=>O.date===Oi(r)).sort((O,D)=>(O.startTime||"00:00").localeCompare(D.startTime||"00:00")),R=c.useMemo(()=>{const O=new Date;O.setHours(0,0,0,0);const D=new Date(O);return D.setDate(D.getDate()+30),v.filter(q=>{const U=new Date(q.date+"T00:00:00");return U>=O&&U<=D}).sort((q,U)=>new Date(q.date).getTime()-new Date(U.date).getTime()||(q.startTime||"00:00").localeCompare(U.startTime||"00:00"))},[v]).reduce((O,D)=>{const q=D.date;return O[q]||(O[q]=[]),O[q].push(D),O},{});return e?t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"My Schedule"}),t.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-200 rounded-lg",children:[t.jsx("button",{onClick:()=>a("month"),className:`px-4 py-1.5 text-sm font-semibold rounded-md ${s==="month"?"bg-white shadow":"text-gray-600"}`,children:"Month"}),t.jsx("button",{onClick:()=>a("agenda"),className:`px-4 py-1.5 text-sm font-semibold rounded-md ${s==="agenda"?"bg-white shadow":"text-gray-600"}`,children:"Agenda"})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>T(-1),className:"p-2 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors","aria-label":"Previous month",children:"←"}),t.jsx("h2",{className:"text-2xl font-bold text-brand-dark text-center w-48",children:l.toLocaleString("default",{month:"long",year:"numeric"})}),t.jsx("button",{onClick:()=>T(1),className:"p-2 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors","aria-label":"Next month",children:"→"}),t.jsx("button",{onClick:C,className:"px-3 py-2 text-sm font-semibold border rounded-md hover:bg-gray-100 transition-colors",children:"Today"})]}),t.jsx("div",{className:"flex items-center gap-4 mt-4 sm:mt-0",children:Object.entries(Vo).map(([O,{label:D,filterColor:q}])=>t.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:o[O],onChange:()=>b(O),className:`h-4 w-4 rounded border-gray-300 focus:ring-transparent ${q.replace("bg-","text-")}`}),t.jsx("span",{className:"ml-2 text-gray-700",children:D})]},O))})]}),s==="month"?t.jsxs("div",{className:"lg:grid lg:grid-cols-3 lg:gap-8",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsx("div",{className:"grid grid-cols-7 gap-1 text-center font-semibold text-gray-600 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(O=>t.jsx("div",{className:"py-2",children:O},O))}),t.jsx("div",{className:"grid grid-cols-7 gap-1",children:g.map((O,D)=>{const q=O.getMonth()===l.getMonth(),U=Oi(O),F=v.filter(z=>z.date===U),I=w(O,r);return t.jsxs("div",{onClick:()=>i(O),className:`h-24 sm:h-28 border rounded-md flex flex-col overflow-hidden cursor-pointer transition-all duration-200 ${I?"bg-red-100 border-brand-red scale-105 shadow-lg z-10":S(O)?"bg-red-50":q?"bg-white hover:bg-gray-50":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:[t.jsx("span",{className:`font-bold text-xs sm:text-base p-1 sm:p-2 ${q?"text-gray-800":"text-gray-400"}`,children:O.getDate()}),t.jsx("div",{className:"flex-grow overflow-hidden px-1 space-y-1",children:F.slice(0,3).map(z=>t.jsx("div",{className:`w-full h-1.5 rounded-full ${Vo[z.type].color}`},z.id))})]},D)})})]}),t.jsx("div",{className:"mt-8 lg:mt-0",children:t.jsxs("div",{className:"sticky top-10",children:[t.jsx("h3",{className:"text-xl font-bold text-brand-dark border-b pb-2 mb-4",children:r.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),t.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:A.length>0?A.map(O=>t.jsx(zu,{event:O},O.id)):t.jsx("p",{className:"text-gray-500 text-center py-8",children:"No events scheduled."})})]})})]}):t.jsx("div",{className:"max-h-[70vh] overflow-y-auto pr-2",children:Object.keys(R).length>0?Object.entries(R).map(([O,D])=>t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-bold text-brand-dark mb-2 sticky top-0 bg-white py-2 border-b",children:new Date(O+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),t.jsx("div",{className:"space-y-2",children:D.map(q=>t.jsx(zu,{event:q},q.id))})]},O)):t.jsx("p",{className:"text-gray-500 text-center py-12",children:"No upcoming events in the next 30 days."})})]})]}):t.jsx("div",{children:"Loading schedule..."})},cf=({announcement:e,onClose:s})=>t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md p-6 relative",onClick:a=>a.stopPropagation(),children:[t.jsx("button",{onClick:s,className:"absolute top-2 right-3 text-gray-400 hover:text-gray-600 text-3xl font-light","aria-label":"Close modal",children:"×"}),t.jsxs("div",{className:"text-center",children:[t.jsx("svg",{className:"w-12 h-12 mx-auto text-brand-red",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.277 0 7.423-4.586 6.357-8.455A4.002 4.002 0 0118 4v6c0 .635-.21 1.223-.592 1.699l-2.147 6.15a1.76 1.76 0 01-3.417-.592V5.882z"})}),t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mt-4 mb-2",children:e.title})]}),t.jsx("p",{className:"text-gray-700 whitespace-pre-wrap text-center max-h-60 overflow-y-auto",children:e.content}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx("button",{onClick:s,className:"bg-brand-dark text-white font-semibold px-6 py-2 rounded-md hover:bg-black transition-colors",children:"Dismiss"})})]})}),Oy=({targetDate:e})=>{const s=()=>{const r=+new Date(e)-+new Date;let i={};return r>0&&(i={days:Math.floor(r/864e5),hours:Math.floor(r/36e5%24),minutes:Math.floor(r/1e3/60%60),seconds:Math.floor(r/1e3%60)}),i},[a,l]=c.useState(s());c.useEffect(()=>{const r=setTimeout(()=>{l(s())},1e3);return()=>clearTimeout(r)});const n=Object.entries(a).map(([r,i])=>i===void 0||i<0?null:t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"font-bold text-lg",children:String(i).padStart(2,"0")}),t.jsx("span",{className:"text-xs block",children:r})]},r));return t.jsx("div",{className:"flex justify-center gap-2 p-2 bg-blue-50 text-blue-800 rounded-md",children:n.length?n:t.jsx("span",{children:"Starting soon..."})})},Uy=({test:e,submission:s,onAction:a})=>{const[l,n]=c.useState(!e.scheduledStartTime||new Date(e.scheduledStartTime)<=new Date);c.useEffect(()=>{if(e.scheduledStartTime){const h=()=>{const y=new Date,p=new Date(e.scheduledStartTime);y>=p&&(n(!0),clearInterval(x))},x=setInterval(h,1e3);return h(),()=>clearInterval(x)}},[e.scheduledStartTime]);let r="Not Started",i="Start Test",o="bg-gray-200 text-gray-800",d="bg-green-600 hover:bg-green-700",u=e.questions.length===0||!l||!!e.isLocked;return s&&(r=s.status,r==="In Progress"?(i="Continue Test",o="bg-yellow-200 text-yellow-800",d="bg-yellow-500 hover:bg-yellow-600",u=!!e.isLocked):r==="Completed"&&(i="Review Results",o="bg-blue-200 text-blue-800",d="bg-blue-600 hover:bg-blue-700",u=!1)),e.isLocked?(i="Test Locked",d="bg-gray-400"):e.questions.length===0&&r!=="Completed"?i="Not Ready":!l&&r==="Not Started"&&(i="Scheduled",d="bg-gray-400"),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border flex flex-col justify-between hover:shadow-lg transition-shadow",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx("h3",{className:"text-xl font-bold text-brand-dark mb-1",children:e.title}),t.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full ${o}`,children:e.isLocked?"Locked":r})]}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:e.paper}),!l&&e.scheduledStartTime&&r==="Not Started"&&!e.isLocked?t.jsx(Oy,{targetDate:e.scheduledStartTime}):t.jsxs("div",{className:"flex justify-around text-center border-y py-3 my-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-700",children:e.questions.length}),t.jsx("p",{className:"text-gray-500",children:"Questions"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-700",children:e.durationMinutes}),t.jsx("p",{className:"text-gray-500",children:"Minutes"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-700",children:e.questions.reduce((h,x)=>h+x.points,0)}),t.jsx("p",{className:"text-gray-500",children:"Points"})]})]}),e.questions.length===0&&t.jsx("p",{className:"text-xs text-center text-yellow-600 bg-yellow-50 p-2 rounded-md mt-4",children:"This test is not ready yet (no questions added)."})]}),t.jsx("button",{onClick:()=>a(e.id),disabled:u,className:`w-full mt-4 text-white font-bold py-2 px-4 rounded-md transition-colors ${d} disabled:bg-gray-400 disabled:cursor-not-allowed`,children:i})]})},zy=()=>{const{student:e}=vt(),s=Ae(),[a,l]=c.useState(()=>E("mockTests",[])),[n,r]=c.useState(()=>E("studentSubmissions",[])),[i,o]=c.useState(!1),[d,u]=c.useState(null);c.useEffect(()=>{const b=v=>{v.key==="mockTests"&&l(E("mockTests",[])),v.key==="studentSubmissions"&&r(E("studentSubmissions",[]))};return window.addEventListener("storage",b),()=>window.removeEventListener("storage",b)},[]);const h=c.useMemo(()=>{const b=new Set(e.enrolledPapers.map(v=>v.trim()));return a.filter(v=>{if(v.status!=="Published")return!1;const N=v.paper.split(":")[0].trim();return b.has(N)})},[a,e.enrolledPapers]),x=c.useMemo(()=>{const b=new Map;return n.forEach(v=>{v.studentId===e.id&&b.set(v.testId,v)}),b},[n,e.id]),y=b=>{const N=E("studentSubmissions",[]).find(f=>f.testId===b&&f.studentId===e.id);if(N){N.status==="In Progress"?(sessionStorage.setItem("activeSubmission",JSON.stringify(N)),s(`/student-portal/take-test/${b}`)):s(`/student-portal/review-test/${N.id}`);return}u(b),o(!0)},p=()=>{if(d===null)return;const b=E("studentSubmissions",[]),v={id:Date.now(),studentId:e.id,testId:d,answers:[],startTime:new Date().toISOString(),submittedAt:"",status:"In Progress"};se("studentSubmissions",[...b,v]),sessionStorage.setItem("activeSubmission",JSON.stringify(v)),s(`/student-portal/take-test/${d}`)};return t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark mb-8",children:"Mock Tests"}),h.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(b=>t.jsx(Uy,{test:b,submission:x.get(b.id),onAction:y},b.id))}):t.jsx("div",{className:"bg-white p-12 rounded-lg shadow-md text-center",children:t.jsx("p",{className:"text-gray-500",children:"No mock tests have been published for your enrolled papers yet."})}),t.jsx(ot,{isOpen:i,title:"Start Test Confirmation",message:"Are you sure you want to start this test? The timer will begin immediately and cannot be paused.",onConfirm:p,onCancel:()=>{o(!1),u(null)},confirmText:"Start Test"})]})},Py=()=>{var w;const{testId:e}=Ka(),s=Ae(),[a,l]=c.useState(null),[n,r]=c.useState(null),[i,o]=c.useState(null),[d,u]=c.useState(!0),[h,x]=c.useState(!1),y=c.useRef(!1),[p,b]=c.useState(0),v=c.useCallback(S=>{y.current||(y.current=!0,S==="cheating"&&alert("Test automatically submitted. You are not allowed to switch tabs or copy/paste during the exam."),S==="locked"&&alert("The test has been locked by the instructor. Your answers have been submitted automatically."),r(T=>{if(!T)return null;const C={...T,status:"Completed",submittedAt:new Date().toISOString()},M=E("studentSubmissions",[]).map(R=>R.id===C.id?C:R);return se("studentSubmissions",M),s(`/student-portal/review-test/${C.id}`,{replace:!0}),C}))},[s]);c.useEffect(()=>{(()=>{const{user:T}=Wa(),C=Number(e);if(!T||isNaN(C)){s("/student-portal/mock-tests",{replace:!0});return}const A=E("mockTests",[]),M=E("studentSubmissions",[]);let R;const O=sessionStorage.getItem("activeSubmission");if(O){try{const D=JSON.parse(O);D&&D.testId===C&&(R=D)}catch(D){console.error("Error parsing submission from sessionStorage",D)}sessionStorage.removeItem("activeSubmission")}if(R||(R=M.find(D=>D.testId===C&&D.studentId===T.id&&D.status==="In Progress")),R){const D=A.find(q=>q.id===R.testId);if(D)if(R.status==="Completed"){s(`/student-portal/review-test/${R.id}`,{replace:!0});return}else{l(D),r(R);return}}console.error(`Could not find a valid test session for test ID ${C}.`),alert("There was an error loading your test. It might have been completed or is no longer available. Please try again from the test list."),s("/student-portal/mock-tests",{replace:!0})})()},[e,s]),c.useEffect(()=>{if(a&&n){const T=new Date(n.startTime).getTime()+a.durationMinutes*60*1e3,C=Math.max(0,Math.floor((T-Date.now())/1e3));o(C),u(!1)}},[a,n]),c.useEffect(()=>{if(i===null)return;if(i<=0){y.current||v("timeout");return}const S=setInterval(()=>{o(T=>T?T-1:0)},1e3);return()=>clearInterval(S)},[i,v]);const N=(S,T)=>{r(C=>{if(!C)return null;const A=C.answers.findIndex(R=>R.questionId===S);let M;return A>-1?(M=[...C.answers],M[A]={...M[A],...T}):M=[...C.answers,{questionId:S,...T}],{...C,answers:M}})};if(c.useEffect(()=>{const S=setInterval(()=>{if(n&&n.status==="In Progress"){const C=E("studentSubmissions",[]).map(A=>A.id===n.id?n:A);se("studentSubmissions",C)}},15e3);return()=>clearInterval(S)},[n]),d||!a||!n||i===null)return t.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-100",children:t.jsx("p",{className:"text-lg font-semibold",children:"Preparing your test..."})});const f=a.questions[p],m=n.answers.find(S=>S.questionId===f.id),j=Math.floor(i/60),g=i%60,k=n.answers.filter(S=>S.answerText||S.selectedOptionId).length;return t.jsxs("div",{className:"bg-gray-100 min-h-screen flex flex-col",children:[t.jsx("header",{className:"bg-white p-4 shadow-md sticky top-0 z-20",children:t.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold text-brand-dark",children:a.title}),t.jsx("p",{className:"text-sm text-gray-500",children:a.paper})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-500",children:"Time Remaining"}),t.jsxs("p",{className:`text-2xl font-bold font-mono ${i<300?"text-red-600":"text-brand-dark"}`,children:[String(j).padStart(2,"0"),":",String(g).padStart(2,"0")]})]})]})}),t.jsx("main",{className:"container mx-auto p-4 sm:p-8 flex-grow",children:t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("p",{className:"font-semibold text-gray-600",children:["Question ",p+1," of ",a.questions.length]}),t.jsxs("p",{className:"font-bold text-brand-red",children:[f.points," points"]})]}),t.jsx("p",{className:"text-lg text-gray-800 whitespace-pre-wrap",children:f.questionText}),t.jsxs("div",{className:"mt-6 border-t pt-6",children:[f.type==="MCQ"&&t.jsx("div",{className:"space-y-3",children:(w=f.mcqOptions)==null?void 0:w.map(S=>t.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[t.jsx("input",{type:"radio",name:`q-${f.id}`,checked:(m==null?void 0:m.selectedOptionId)===S.id,onChange:()=>N(f.id,{selectedOptionId:S.id}),className:"h-5 w-5 text-brand-red focus:ring-brand-red border-gray-300"}),t.jsx("span",{className:"ml-3 text-gray-700",children:S.text})]},S.id))}),f.type==="Theoretical"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Answer:"}),t.jsx("textarea",{value:(m==null?void 0:m.answerText)||"",onChange:S=>N(f.id,{answerText:S.target.value}),rows:8,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-brand-red focus:border-brand-red"})]})]})]})}),t.jsx("footer",{className:"bg-white p-4 shadow-inner sticky bottom-0 z-20",children:t.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[t.jsx("button",{onClick:()=>b(S=>S-1),disabled:p===0,className:"font-semibold px-6 py-2 rounded-md border disabled:opacity-50",children:"Previous"}),t.jsxs("div",{className:"text-sm text-gray-600",children:[k," / ",a.questions.length," Answered"]}),p<a.questions.length-1?t.jsx("button",{onClick:()=>b(S=>S+1),className:"font-semibold px-6 py-2 rounded-md bg-brand-dark text-white",children:"Next"}):t.jsx("button",{onClick:()=>x(!0),className:"font-semibold px-6 py-2 rounded-md bg-brand-red text-white",children:"Finish Test"})]})}),t.jsx(ot,{isOpen:h,title:"Finish Test",message:"Are you sure you want to submit your answers? You will not be able to change them after submission.",onConfirm:()=>v("manual"),onCancel:()=>x(!1),confirmText:"Submit Answers"})]})},By=()=>{const{submissionId:e}=Ka(),[s,a]=c.useState(null),[l,n]=c.useState(null);c.useEffect(()=>{const h=Number(e);if(isNaN(h))return;const y=E("studentSubmissions",[]).find(p=>p.id===h);if(n(y||null),y){const b=E("mockTests",[]).find(v=>v.id===y.testId);a(b||null)}},[e]);const{totalScore:r,maxScore:i,mcqScore:o,hasTheoretical:d}=c.useMemo(()=>{if(!s||!l)return{totalScore:0,maxScore:0,mcqScore:0,hasTheoretical:!1};const h=s.questions.reduce((b,v)=>b+v.points,0);let x=0,y=!1;return s.questions.forEach(b=>{var v;if(b.type==="Theoretical")y=!0;else if(b.type==="MCQ"){const N=l.answers.find(m=>m.questionId===b.id),f=(v=b.mcqOptions)==null?void 0:v.find(m=>m.isCorrect);f&&(N==null?void 0:N.selectedOptionId)===f.id&&(x+=b.points)}}),{totalScore:l.isGraded?l.totalAwardedPoints??0:x,maxScore:h,mcqScore:x,hasTheoretical:y}},[s,l]);if(!s||!l)return t.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-100",children:t.jsx("p",{className:"text-lg font-semibold",children:"Loading your results..."})});const u=(h,x)=>{const y=l.answers.find(v=>v.questionId===x.id),p=(y==null?void 0:y.selectedOptionId)===h.id,b=h.isCorrect;return b?"bg-green-100 border-green-400 text-green-800 font-semibold":p&&!b?"bg-red-100 border-red-400 text-red-800":"bg-white border-gray-300"};return t.jsxs("div",{className:"bg-gray-100 min-h-screen p-4 sm:p-8",children:[t.jsx("header",{className:"bg-white p-4 rounded-lg shadow-md mb-8",children:t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-brand-dark",children:["Review: ",s.title]}),t.jsx("p",{className:"text-gray-500",children:s.paper})]}),t.jsxs("div",{className:"mt-4 sm:mt-0 flex flex-col sm:flex-row items-center gap-4",children:[t.jsxs("div",{className:"text-center sm:text-right",children:[t.jsx("p",{className:"text-sm text-gray-500",children:l.isGraded?"Final Score":"MCQ Score"}),t.jsxs("p",{className:"text-2xl font-bold text-brand-red",children:[r," / ",i]}),!l.isGraded&&d&&t.jsx("p",{className:"text-xs text-yellow-600",children:"Theoretical questions pending review"})]}),t.jsx($,{to:"/student-portal/mock-tests",className:"bg-brand-dark text-white font-semibold px-4 py-2 rounded-md hover:bg-black w-full sm:w-auto text-center",children:"← Back to Tests"})]})]})}),t.jsx("main",{className:"space-y-6",children:s.questions.map((h,x)=>{const y=l.answers.find(p=>p.questionId===h.id);return t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("p",{className:"font-semibold text-gray-500",children:["Question ",x+1," (",h.points," points)"]}),l.isGraded&&h.type==="Theoretical"&&t.jsxs("p",{className:"font-bold text-lg text-blue-600",children:["Score: ",(y==null?void 0:y.awardedPoints)??0," / ",h.points]})]}),t.jsx("p",{className:"mt-2 text-lg text-gray-800 whitespace-pre-wrap",children:h.questionText}),t.jsxs("div",{className:"mt-4",children:[h.type==="MCQ"&&h.mcqOptions&&t.jsx("div",{className:"space-y-3",children:h.mcqOptions.map(p=>{const b=(y==null?void 0:y.selectedOptionId)===p.id;return t.jsxs("div",{className:`flex items-start p-3 border rounded-lg ${u(p,h)}`,children:[t.jsx("span",{className:"font-bold mr-3 text-lg",children:p.isCorrect?"✔":b?"✖":"◦"}),t.jsx("p",{children:p.text})]},p.id)})}),h.type==="Theoretical"&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Your Answer:"}),t.jsx("div",{className:"bg-gray-50 p-4 border rounded-md min-h-[100px]",children:t.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:(y==null?void 0:y.answerText)||t.jsx("span",{className:"italic text-gray-400",children:"Not answered"})})}),!l.isGraded&&t.jsx("p",{className:"text-xs text-center mt-2 text-yellow-600 bg-yellow-50 p-2 rounded-md",children:"This question is pending review by your instructor."})]})]}),(y==null?void 0:y.suggestion)&&t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg",children:[t.jsx("p",{className:"font-bold text-sm text-blue-800",children:"Teacher's Feedback:"}),t.jsx("p",{className:"text-gray-700 mt-1 whitespace-pre-wrap",children:y.suggestion})]})]},h.id)})})]})},sc=()=>{const[e,s]=c.useState(new Date);c.useEffect(()=>{const n=setInterval(()=>s(new Date),1e3);return()=>clearInterval(n)},[]);const a=n=>n.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),l=n=>n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});return t.jsxs("div",{className:"hidden sm:flex flex-col items-start text-left",children:[t.jsx("div",{className:"font-semibold text-base text-gray-700",children:a(e)}),t.jsx("div",{className:"text-sm text-gray-500 font-mono",children:l(e)})]})},Fy=()=>{const[e,s]=c.useState(null),a=Ae(),[l,n]=c.useState(!1),[r,i]=c.useState(!1),[o,d]=c.useState([]),[u,h]=c.useState(null),[x,y]=c.useState([]),p=c.useRef(null),[b,v]=c.useState(null);c.useEffect(()=>{const{user:g,role:k}=Wa();k==="student"&&g?s(g):a("/",{replace:!0});const w=sessionStorage.getItem("impersonator");w&&v(JSON.parse(w))},[a]),c.useEffect(()=>{if(e)try{const k=E("globalAnnouncements",Yl).filter(F=>F.audience==="All Students"||F.audience==="All Students & Faculty").sort((F,I)=>new Date(I.date).getTime()-new Date(F.date).getTime()),w=JSON.parse(localStorage.getItem("seenAnnouncementPopups")||"[]"),S=k.filter(F=>!w.includes(F.id));y(S);const T=k.map(F=>({id:F.id,type:"announcement",title:F.title,message:F.content,timestamp:new Date(F.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),read:!1})),A=E("studentSubmissions",[]).filter(F=>F.studentId===e.id),M=`notifiedSubmissions_${e.id}`,R=E(M,[]),O=[...R],D=[];A.forEach(F=>{if(F.isGraded&&!R.includes(F.id)){const z=E("mockTests",[]).find(L=>L.id===F.testId);D.push({id:1e6+F.id,type:"grade",title:"New Grade Posted!",message:`Your results for the "${(z==null?void 0:z.title)||"a mock test"}" are available.`,timestamp:"Just now",read:!1}),O.push(F.id)}}),O.length>R.length&&se(M,O);const q=[...D,...T].sort((F,I)=>{if(F.timestamp==="Just now"&&I.timestamp!=="Just now")return-1;if(I.timestamp==="Just now"&&F.timestamp!=="Just now")return 1;try{return new Date(I.timestamp).getTime()-new Date(F.timestamp).getTime()}catch{return 0}}),U=Array.from(new Map(q.map(F=>[F.id,F])).values());d(U)}catch(g){console.error("Failed to process announcements and notifications:",g)}},[e]),c.useEffect(()=>{x.length>0&&!u&&h(x[0])},[x,u]),c.useEffect(()=>{if(!e)return;const k=setInterval(()=>{const w=E("mockTests",[]),S=new Set(e.enrolledPapers.map(C=>C.trim()));w.filter(C=>C.status==="Published"&&!C.isLocked&&C.scheduledStartTime&&S.has(C.paper.split(":")[0].trim())).forEach(C=>{const A=new Date(C.scheduledStartTime).getTime(),M=new Date().getTime(),R=(A-M)/(1e3*60),O=`notified-5min-${C.id}`,D=`notified-2min-${C.id}`;R<=5&&R>2&&!sessionStorage.getItem(O)&&(d(q=>[{id:Date.now()+Math.random(),type:"deadline",title:"Test Starting Soon!",message:`Your test "${C.title}" will begin in 5 minutes.`,timestamp:"Just now",read:!1},...q]),sessionStorage.setItem(O,"true")),R<=2&&R>0&&!sessionStorage.getItem(D)&&(d(q=>[{id:Date.now()+Math.random(),type:"deadline",title:"Test Starting Now!",message:`Your test "${C.title}" will begin in 2 minutes. Go to Mock Tests page.`,timestamp:"Just now",read:!1},...q]),sessionStorage.setItem(D,"true"))})},30*1e3);return()=>clearInterval(k)},[e]),c.useEffect(()=>{if(!e)return;const g=S=>{const[T,C]=S.split(" ");let[A,M]=T.split(":").map(Number);C==="PM"&&A!==12&&(A+=12),C==="AM"&&A===12&&(A=0);const R=new Date;return R.setHours(A,M,0,0),R},w=setInterval(()=>{E("liveClasses",Vl).filter(C=>{const A=C.paper.split(":")[0].trim();return e.enrolledPapers.includes(A)}).forEach(C=>{const A=g(C.startTime),M=new Date().getTime(),R=(A.getTime()-M)/(1e3*60);[10,5,2].forEach(D=>{const q=`notified-${D}min-class-${C.id}`;R<=D&&R>D-1&&!sessionStorage.getItem(q)&&(d(U=>[{id:Date.now()+Math.random(),type:"deadline",title:`Class Starting in ${D} Minutes!`,message:`Your class "${C.topic}" for ${C.paper} is starting soon.`,timestamp:"Just now",read:!1},...U]),sessionStorage.setItem(q,"true"))})})},30*1e3);return()=>clearInterval(w)},[e]);const N=()=>{if(u)try{const g=JSON.parse(localStorage.getItem("seenAnnouncementPopups")||"[]");g.includes(u.id)||localStorage.setItem("seenAnnouncementPopups",JSON.stringify([...g,u.id])),y(k=>k.filter(w=>w.id!==u.id)),h(null)}catch(g){console.error("Failed to update seen popups:",g)}},f=o.filter(g=>!g.read).length,m=g=>{d(o.map(k=>k.id===g?{...k,read:!0}:k))};c.useEffect(()=>{const g=k=>{p.current&&!p.current.contains(k.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const j=()=>{const g=sessionStorage.getItem("impersonator");if(g){const{user:k,role:w}=JSON.parse(g);sessionStorage.setItem("loggedInUser",JSON.stringify(k)),sessionStorage.setItem("userRole",w),sessionStorage.removeItem("impersonator"),a("/admin-portal/dashboard",{replace:!0})}};return e?t.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[t.jsx(my,{isOpen:l,setIsOpen:n,student:e}),t.jsxs("div",{className:"flex-1 flex flex-col lg:ml-64",children:[b&&t.jsxs("div",{className:"bg-yellow-400 text-black p-2 text-center text-sm font-semibold flex items-center justify-center gap-4 sticky top-0 z-50",children:[t.jsxs("p",{children:["Viewing as ",t.jsx("strong",{children:e==null?void 0:e.name}),"."]}),t.jsx("button",{onClick:j,className:"bg-black text-white px-3 py-1 rounded-md text-xs hover:bg-gray-700",children:"Return to Admin Portal"})]}),t.jsxs("header",{className:`bg-white shadow-sm p-4 flex justify-between items-center sticky z-20 border-b ${b?"top-[36px]":"top-0"}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>n(!0),className:"lg:hidden text-gray-500 hover:text-brand-red",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),t.jsx(sc,{})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("div",{className:"relative",ref:p,children:[t.jsxs("button",{onClick:()=>i(g=>!g),className:"text-gray-500 hover:text-brand-red relative","aria-label":"View notifications",children:[t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),f>0&&t.jsxs("span",{className:"absolute -top-1 -right-1 flex h-4 w-4",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-brand-red opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-brand-red text-white text-xs items-center justify-center",children:f})]})]}),r&&t.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border z-30 animate-fade-in-down",children:[t.jsxs("div",{className:"p-3 border-b flex justify-between items-center",children:[t.jsx("h3",{className:"font-bold text-gray-800",children:"Notifications"}),t.jsx("button",{onClick:()=>d(g=>g.map(k=>({...k,read:!0}))),className:"text-xs text-brand-red font-semibold hover:underline",children:"Mark all as read"})]}),t.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.length>0?o.map(g=>t.jsxs("div",{onClick:()=>m(g.id),className:`p-3 flex items-start hover:bg-gray-50 cursor-pointer border-b last:border-b-0 ${g.read?"":"bg-red-50"}`,children:[t.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 mr-3 flex-shrink-0 ${g.read?"bg-gray-300":"bg-brand-red"}`}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-sm text-gray-800",children:g.title}),t.jsx("p",{className:"text-sm text-gray-600",children:g.message}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:g.timestamp})]})]},g.id)):t.jsx("p",{className:"p-4 text-center text-gray-500",children:"No new notifications."})}),t.jsx("div",{className:"p-2 border-t text-center bg-gray-50 rounded-b-lg",children:t.jsx($,{to:"#",className:"text-sm font-semibold text-brand-red hover:underline",children:"View all"})}),t.jsx("style",{children:`
                                        @keyframes fade-in-down {
                                            0% { opacity: 0; transform: translateY(-10px); }
                                            100% { opacity: 1; transform: translateY(0); }
                                        }
                                        .animate-fade-in-down { animation: fade-in-down 0.3s ease-out forwards; }
                                    `})]})]})})]}),t.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-10 overflow-y-auto",children:t.jsx(Gr,{context:{student:e}})}),u&&t.jsx(cf,{announcement:u,onClose:N})]})]}):t.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."})};function vt(){return Qx()}const Hy=()=>t.jsxs($r,{children:[t.jsxs(V,{path:"/",element:t.jsx(Fy,{}),children:[t.jsx(V,{index:!0,element:t.jsx(Xd,{to:"dashboard",replace:!0})}),t.jsx(V,{path:"dashboard",element:t.jsx(gy,{})}),t.jsx(V,{path:"courses",element:t.jsx(py,{})}),t.jsx(V,{path:"classes",element:t.jsx(My,{})}),t.jsx(V,{path:"schedule",element:t.jsx(Ry,{})}),t.jsx(V,{path:"fee-payment",element:t.jsx(Ly,{})}),t.jsx(V,{path:"results",element:t.jsx(by,{})}),t.jsx(V,{path:"profile",element:t.jsx(vy,{})}),t.jsx(V,{path:"community",element:t.jsx(ky,{})}),t.jsx(V,{path:"mock-tests",element:t.jsx(zy,{})})]}),t.jsx(V,{path:"take-test/:testId",element:t.jsx(Py,{})}),t.jsx(V,{path:"review-test/:submissionId",element:t.jsx(By,{})})]}),dt={dashboard:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),classes:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),profile:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),logout:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),announcements:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.277 0 7.423-4.586 6.357-8.455A4.002 4.002 0 0118 4v6c0 .635-.21 1.223-.592 1.699l-2.147 6.15a1.76 1.76 0 01-3.417-.592V5.882z"})}),schedule:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),questions:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),students:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),salary:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"})}),mockTests:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),submissions:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),contactAdmin:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})},Nt=({to:e,icon:s,children:a,onClick:l})=>t.jsxs(Zs,{to:e,end:!0,onClick:l,className:({isActive:n})=>`flex items-center px-4 py-3 space-x-3 rounded-lg transition-colors duration-200 ${n?"bg-brand-red text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[s,t.jsx("span",{className:"font-medium",children:a})]}),qy=({isOpen:e,setIsSidebarOpen:s,facultyMember:a})=>{const l=Ae(),n=c.useRef(null),[r,i]=c.useState(!1);c.useEffect(()=>{const h=x=>{n.current&&!n.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[s]);const o=()=>{i(!0)},d=()=>{tc(),s(!1),l("/")},u=()=>{s(!1)};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-30 transition-opacity lg:hidden ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>s(!1)}),t.jsxs("aside",{ref:n,className:`fixed top-0 left-0 h-full w-64 bg-brand-dark text-white flex flex-col p-4 z-40 transition-transform duration-300 ease-in-out
                ${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:fixed`,children:[t.jsxs("div",{className:"flex items-center mb-10 px-2",children:[t.jsx("img",{src:a.imageUrl,alt:`${a.name}'s profile picture`,className:"w-10 h-10 rounded-full"}),t.jsxs("div",{className:"ml-3",children:[t.jsx("p",{className:"text-lg font-bold leading-tight",children:a.name}),t.jsx("p",{className:"text-xs text-gray-400",children:"Faculty"})]})]}),t.jsxs("nav",{className:"flex-1 space-y-2",children:[t.jsx(Nt,{to:"/faculty-portal/dashboard",icon:dt.dashboard,onClick:u,children:"Dashboard"}),t.jsx(Nt,{to:"/faculty-portal/classes",icon:dt.classes,onClick:u,children:"My Classes"}),t.jsx(Nt,{to:"/faculty-portal/my-students",icon:dt.students,onClick:u,children:"My Students"}),t.jsx(Nt,{to:"/faculty-portal/mock-tests",icon:dt.mockTests,onClick:u,children:"Manage Tests"}),t.jsx(Nt,{to:"/faculty-portal/submissions",icon:dt.submissions,onClick:u,children:"Test Submissions"}),t.jsx(Nt,{to:"/faculty-portal/announcements",icon:dt.announcements,onClick:u,children:"Announcements"}),t.jsx(Nt,{to:"/faculty-portal/schedule",icon:dt.schedule,onClick:u,children:"My Schedule"}),t.jsx(Nt,{to:"/faculty-portal/student-questions",icon:dt.questions,onClick:u,children:"Student Questions"}),t.jsx(Nt,{to:"/faculty-portal/salary",icon:dt.salary,onClick:u,children:"My Salary"}),t.jsx(Nt,{to:"/faculty-portal/contact-admin",icon:dt.contactAdmin,onClick:u,children:"Contact Admin"}),t.jsx(Nt,{to:"/faculty-portal/profile",icon:dt.profile,onClick:u,children:"My Profile"})]}),t.jsx("div",{children:t.jsxs("button",{onClick:o,className:"flex items-center w-full px-4 py-3 space-x-3 rounded-lg text-gray-300 hover:bg-red-800 hover:text-white transition-colors duration-200",children:[dt.logout,t.jsx("span",{className:"font-medium",children:"Logout"})]})})]}),t.jsx(ot,{isOpen:r,title:"Confirm Logout",message:"Are you sure you want to log out? Any unsaved changes will be lost.",onConfirm:d,onCancel:()=>i(!1),confirmText:"Log Out",cancelText:"Cancel"})]})};function jt(){return Qx()}const Dn=({title:e,value:s,colorClass:a="text-green-600",linkTo:l,linkText:n,icon:r})=>t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-gray-500 text-sm font-medium uppercase",children:e}),t.jsx("p",{className:`text-3xl font-bold mt-1 ${a}`,children:s})]}),t.jsx("div",{className:`p-3 rounded-full ${a.replace("text-","bg-").replace("600","100")}`,children:r})]}),l&&t.jsxs($,{to:l,className:"text-sm font-semibold text-brand-red hover:underline mt-4 inline-block",children:[n||"View All"," →"]})]}),_y=()=>{const e=new Date().getHours();return e<12?"Good morning":e<18?"Good afternoon":"Good evening"},Iy=()=>{const{facultyMember:e}=jt(),[s,a]=c.useState(()=>E("liveClasses",Vl)),l=c.useMemo(()=>{const r=E("students",ne),i=E("teacherQuestions",Kd),o=E("mockTests",Xr),d=E("studentSubmissions",Ub),u=E("calendarEvents",bs),h=new Set(e.assignedPapers.map(f=>f.split(":")[0].trim())),x=new Set;r.forEach(f=>{f.enrolledPapers.some(m=>h.has(m))&&x.add(f.id)});const y=new Date().toISOString().split("T")[0],p=u.filter(f=>f.instructor===e.name&&f.date===y&&f.type==="class").sort((f,m)=>(f.startTime||"00:00").localeCompare(m.startTime||"00:00")),b=i.filter(f=>f.status==="Pending"&&e.assignedPapers.includes(f.paper)).sort((f,m)=>new Date(m.askedDate).getTime()-new Date(f.askedDate).getTime()),v=new Set(o.filter(f=>f.createdByFacultyId===e.id).map(f=>f.id)),N=d.filter(f=>v.has(f.testId)&&!f.isGraded).sort((f,m)=>new Date(m.submittedAt).getTime()-new Date(f.submittedAt).getTime());return{totalStudents:x.size,classesToday:p,pendingQuestions:b,pendingSubmissions:N}},[e]),n=r=>{const i=E("liveClasses",Vl),o=i.findIndex(u=>u.id===r.id);let d;if(o>-1)d=[...i],d[o].status="Live";else{const u={id:Number(r.id),paper:r.paper||"N/A",topic:r.title,instructor:e.name,startTime:r.startTime||"N/A",status:"Live",joinLink:r.joinLink||"#"};d=[...i,u]}a(d),se("liveClasses",d),alert(`Class "${r.title}" has been started and is now live for students.`)};return t.jsxs("div",{children:[t.jsxs("h1",{className:"text-4xl font-bold text-brand-dark mb-2",children:[_y(),", ",e.name.split(" ")[0],"!"]}),t.jsx("p",{className:"text-gray-600 mb-8",children:"Here is your teaching summary for today."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx(Dn,{title:"Assigned Papers",value:e.assignedPapers.length,colorClass:"text-blue-600",icon:t.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),t.jsx(Dn,{title:"Total Students",value:l.totalStudents,colorClass:"text-purple-600",icon:t.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),t.jsx(Dn,{title:"Pending Questions",value:l.pendingQuestions.length,colorClass:"text-yellow-600",linkTo:"/faculty-portal/student-questions",icon:t.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),t.jsx(Dn,{title:"Submissions to Grade",value:l.pendingSubmissions.length,colorClass:"text-red-600",linkTo:"/faculty-portal/submissions",icon:t.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h3",{className:"font-bold text-xl text-brand-dark mb-4",children:"Today's Schedule"}),l.classesToday.length>0?t.jsx("ul",{className:"space-y-3",children:l.classesToday.map(r=>{var d;const o=((d=s.find(u=>u.id===r.id))==null?void 0:d.status)==="Live";return t.jsxs("li",{className:`flex justify-between items-center p-3 rounded-md ${o?"bg-green-50":"bg-gray-50"}`,children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold",children:[r.paper,": ",t.jsx("span",{className:"font-normal",children:r.title})]}),t.jsx("p",{className:`text-sm font-bold ${o?"text-green-600":"text-gray-500"}`,children:o?"Live":`Scheduled for ${r.startTime}`})]}),t.jsx("button",{onClick:()=>n(r),disabled:o,className:`text-sm font-semibold px-4 py-2 rounded-md transition-colors ${o?"bg-gray-400 text-white cursor-not-allowed":"bg-brand-red text-white hover:bg-red-700"}`,children:o?"Live":"Start Now"})]},r.id)})}):t.jsx("p",{className:"text-gray-500 text-center py-4",children:"No classes scheduled for today."})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h3",{className:"font-bold text-xl text-brand-dark mb-4",children:"Recent Student Questions"}),l.pendingQuestions.length>0?t.jsx("ul",{className:"space-y-3",children:l.pendingQuestions.slice(0,3).map(r=>t.jsxs("li",{className:"p-3 bg-gray-50 rounded-md",children:[t.jsx("p",{className:"font-semibold text-sm truncate",children:r.question}),t.jsxs("p",{className:"text-xs text-gray-500",children:["From ",r.studentName," for ",r.paper]})]},r.id))}):t.jsx("p",{className:"text-gray-500 text-center py-4",children:"No pending questions."})]})]})]})},Vy=({isOpen:e,onClose:s,onSave:a,paper:l,resourceToEdit:n})=>{const r=!!n,[i,o]=c.useState("PDF"),[d,u]=c.useState(""),[h,x]=c.useState([]),[y,p]=c.useState(""),b=c.useRef(null);c.useEffect(()=>{const N=f=>{f.key==="Escape"&&s()};if(e)if(document.addEventListener("keydown",N),n){const f="videoUrl"in n;o(f?"Recorded Lecture":n.type),u(f?n.topic:n.title),p(f?n.videoUrl:""),x([])}else o("PDF"),u(""),x([]),p("");return()=>document.removeEventListener("keydown",N)},[e,n,s]);const v=N=>{if(N.preventDefault(),i==="Recorded Lecture"){const f={id:r?n.id:void 0,paper:l,topic:d,date:r?n.date:new Date().toISOString().split("T")[0],videoUrl:y};a([f])}else if(r){const f={id:n.id,paper:l,title:d,type:i,uploadDate:n.uploadDate,downloadLink:h.length>0?"#":n.downloadLink};a([f])}else{if(h.length===0)return alert("Please select at least one file to upload.");const f=h.map((m,j)=>({id:Date.now()+j,paper:l,title:h.length>1?m.name.replace(/\.[^/.]+$/,""):d,type:i,uploadDate:new Date().toISOString().split("T")[0],downloadLink:"#"}));a(f)}};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,children:t.jsxs("div",{ref:b,className:"bg-white rounded-lg shadow-2xl w-full max-w-lg",onClick:N=>N.stopPropagation(),children:[t.jsx("div",{className:"p-4 border-b",children:t.jsxs("h2",{className:"text-2xl font-bold text-brand-dark",children:[r?"Edit Resource":"Upload New Resource"," for ",l]})}),t.jsxs("form",{onSubmit:v,children:[t.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"resourceType",className:"block text-sm font-medium text-gray-700",children:"Resource Type"}),t.jsxs("select",{id:"resourceType",value:i,onChange:N=>o(N.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red",children:[t.jsx("option",{children:"PDF"}),t.jsx("option",{children:"Notes"}),t.jsx("option",{children:"Assignment"}),t.jsx("option",{children:"Recorded Lecture"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:i==="Recorded Lecture"?"Lecture Topic":"Title"}),t.jsx("input",{type:"text",id:"title",required:!0,value:d,onChange:N=>u(N.target.value),disabled:!r&&h.length>1,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white disabled:bg-gray-100"}),!r&&h.length>1&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Title will be taken from the filename for multiple uploads."})]}),i==="Recorded Lecture"?t.jsxs("div",{children:[t.jsx("label",{htmlFor:"videoUrl",className:"block text-sm font-medium text-gray-700",children:"YouTube/Vimeo Embed URL"}),t.jsx("input",{type:"url",id:"videoUrl",required:!0,value:y,onChange:N=>p(N.target.value),placeholder:"https://www.youtube.com/embed/...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}):t.jsxs("div",{children:[t.jsx("label",{htmlFor:"file",className:"block text-sm font-medium text-gray-700",children:"File(s)"}),t.jsx("input",{type:"file",id:"file",multiple:!r,onChange:N=>x(N.target.files?Array.from(N.target.files):[]),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"}),r&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Uploading a new file will replace the existing one."})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:s,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:r?"Save Changes":"Upload"})]})]})]})}):null},Yy=new Set(Ea.map(e=>e.id)),Gy=new Set(Da.map(e=>e.id)),$y=()=>{const{facultyMember:e}=jt(),[s,a]=c.useState(e.assignedPapers[0]),[l,n]=c.useState("All"),[r,i]=c.useState([]);c.useEffect(()=>{const S=localStorage.getItem("students");i(S?JSON.parse(S):ne)},[]);const[o,d]=c.useState(()=>{const S=localStorage.getItem("customMaterials"),T=S?JSON.parse(S):[],C=new Set(Ea.map(M=>M.id)),A=T.filter(M=>!C.has(M.id));return[...Ea,...A]}),[u,h]=c.useState(()=>{const S=localStorage.getItem("customLectures"),T=S?JSON.parse(S):[],C=new Set(Da.map(M=>M.id)),A=T.filter(M=>!C.has(M.id));return[...Da,...A]}),[x,y]=c.useState(!1),[p,b]=c.useState(null);c.useEffect(()=>{const S=o.filter(T=>!Ea.some(C=>C.id===T.id));localStorage.setItem("customMaterials",JSON.stringify(S))},[o]),c.useEffect(()=>{const S=u.filter(T=>!Da.some(C=>C.id===T.id));localStorage.setItem("customLectures",JSON.stringify(S))},[u]);const v=r.filter(S=>S.enrolledPapers.some(T=>s.startsWith(T))).filter(S=>l==="All"||S.currentLevel===l),N=o.filter(S=>S.paper===s.split(":")[0].trim()),f=u.filter(S=>S.paper===s.split(":")[0].trim()),m=S=>{const T=[],C=[];S.forEach(A=>{if(A.id&&p)"videoUrl"in A?h(M=>M.map(R=>R.id===A.id?A:R)):d(M=>M.map(R=>R.id===A.id?A:R));else{const M={...A,id:A.id??Date.now()};"videoUrl"in M?C.push(M):T.push(M)}}),T.length>0&&d(A=>[...T,...A]),C.length>0&&h(A=>[...C,...A]),y(!1),b(null)},j=S=>{window.confirm("Are you sure you want to delete this material? This action cannot be undone.")&&d(T=>T.filter(C=>C.id!==S))},g=S=>{window.confirm("Are you sure you want to delete this lecture? This action cannot be undone.")&&h(T=>T.filter(C=>C.id!==S))},k=S=>{b(S),y(!0)},w=()=>{b(null),y(!0)};return e?t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark mb-8",children:"My Classes"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{htmlFor:"paperSelect",className:"block text-sm font-medium text-gray-700",children:"Select a Paper to Manage"}),t.jsx("select",{id:"paperSelect",value:s,onChange:S=>a(S.target.value),className:"mt-1 block w-full max-w-sm pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-brand-red focus:border-brand-red sm:text-sm rounded-md shadow-sm bg-white",children:e.assignedPapers.map(S=>t.jsx("option",{value:S,children:S},S))})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-red mb-6",children:s}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[t.jsxs("h3",{className:"font-bold text-lg text-brand-dark",children:["Enrolled Students (",v.length,")"]}),t.jsxs("select",{value:l,onChange:S=>n(S.target.value),className:"block text-sm border-gray-300 focus:outline-none focus:ring-brand-red focus:border-brand-red rounded-md bg-white",children:[t.jsx("option",{value:"All",children:"All Levels"}),t.jsx("option",{value:"Applied Knowledge",children:"Applied Knowledge"}),t.jsx("option",{value:"Applied Skills",children:"Applied Skills"}),t.jsx("option",{value:"Strategic Professional",children:"Strategic Professional"})]})]}),t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:v.length>0?v.map(S=>t.jsxs("div",{className:"flex items-center p-2 bg-gray-50 rounded-md",children:[t.jsx("img",{src:S.avatarUrl,alt:S.name,className:"w-10 h-10 rounded-full mr-3"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-800",children:S.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:[S.studentId," - ",S.currentLevel]})]})]},S.id)):t.jsx("p",{className:"text-gray-500",children:"No students match the current filters."})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[t.jsx("h3",{className:"font-bold text-lg text-brand-dark",children:"Learning Resources"}),t.jsx("button",{onClick:w,className:"bg-brand-red text-white font-semibold px-3 py-1 text-sm rounded-md hover:bg-red-700",children:"Upload New"})]}),t.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:[[...N,...f].sort((S,T)=>new Date("videoUrl"in T?T.date:T.uploadDate).getTime()-new Date("videoUrl"in S?S.date:S.uploadDate).getTime()).map(S=>{const T="videoUrl"in S?Gy.has(S.id):Yy.has(S.id);return t.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-md",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-800",children:"videoUrl"in S?S.topic:S.title}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Type: ","videoUrl"in S?"Recorded Lecture":S.type," | Uploaded: ","videoUrl"in S?S.date:S.uploadDate]})]}),t.jsx("div",{className:"space-x-2 flex-shrink-0",children:T?t.jsx("span",{className:"text-xs text-gray-400 italic",children:"Default Resource"}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>k(S),className:"text-xs font-semibold text-blue-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>"videoUrl"in S?g(S.id):j(S.id),className:"text-xs font-semibold text-brand-red hover:underline",children:"Delete"})]})})]},S.id)}),[...N,...f].length===0&&t.jsx("p",{className:"text-gray-500",children:"No resources uploaded for this paper yet."})]})]})]})]}),t.jsx(Vy,{isOpen:x,onClose:()=>{y(!1),b(null)},onSave:m,paper:s.split(":")[0].trim(),resourceToEdit:p})]}):null},Qy=()=>{const{facultyMember:e}=jt(),[s,a]=c.useState(()=>{try{const f=localStorage.getItem(`facultyAnnouncements_${e.id}`);if(f)return JSON.parse(f)}catch(f){console.error("Failed to load announcements from localStorage",f)}return rf.filter(f=>f.author===e.name)});c.useEffect(()=>{try{localStorage.setItem(`facultyAnnouncements_${e.id}`,JSON.stringify(s))}catch(f){console.error("Failed to save announcements to localStorage",f)}},[s,e.id]);const[l,n]=c.useState(!1),[r,i]=c.useState(null),o={title:"",content:"",audience:[]},[d,u]=c.useState(o);c.useEffect(()=>{l&&u(r?{title:r.title,content:r.content,audience:r.audience.split(", ")}:o)},[l,r]);const h=f=>{const{name:m,value:j}=f.target;u(g=>({...g,[m]:j}))},x=f=>{const m=Array.from(f.target.selectedOptions,j=>j.value);u(j=>({...j,audience:m}))},y=f=>{f.preventDefault();const m=d.audience.join(", ");if(r){const j={...r,...d,audience:m};a(g=>g.map(k=>k.id===r.id?j:k))}else{const j={id:Date.now(),title:d.title,content:d.content,audience:m,author:e.name,date:new Date().toISOString().split("T")[0]};a(g=>[j,...g])}n(!1),i(null)},p=f=>{i(f),n(!0)},b=f=>{window.confirm("Are you sure you want to delete this announcement?")&&a(m=>m.filter(j=>j.id!==f))},v=()=>{n(!1),i(null)},N=()=>{i(null),n(!0)};return e?t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Announcements"}),!l&&t.jsx("button",{onClick:N,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Create New"})]}),l&&t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:r?"Edit Announcement":"New Announcement"}),t.jsxs("form",{onSubmit:y,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),t.jsx("input",{type:"text",name:"title",id:"title",required:!0,value:d.title,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"Content"}),t.jsx("textarea",{name:"content",id:"content",rows:4,required:!0,value:d.content,onChange:h,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"audience",className:"block text-sm font-medium text-gray-700",children:"Target Paper(s)"}),t.jsx("select",{name:"audience",id:"audience",multiple:!0,required:!0,value:d.audience,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red h-24",children:e.assignedPapers.map(f=>t.jsx("option",{value:f,children:f},f))}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple papers."})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{type:"button",onClick:v,className:"bg-gray-200 text-gray-800 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-semibold px-4 py-2 rounded-md hover:bg-blue-700",children:r?"Update Announcement":"Post Announcement"})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[s.map(f=>t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-brand-dark",children:f.title}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Posted on ",f.date," for ",t.jsx("span",{className:"font-semibold",children:f.audience})]})]}),t.jsxs("div",{className:"space-x-2 flex-shrink-0 ml-4",children:[t.jsx("button",{onClick:()=>p(f),className:"text-xs font-semibold text-blue-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>b(f.id),className:"text-xs font-semibold text-brand-red hover:underline",children:"Delete"})]})]}),t.jsx("p",{className:"text-gray-700 mt-4",children:f.content})]},f.id)),s.length===0&&!l&&t.jsx("p",{className:"text-center text-gray-500 py-8",children:"You haven't posted any announcements yet."})]})]}):null},Ui=e=>{const s=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getDate().toString().padStart(2,"0");return`${s}-${a}-${l}`},Xy=({isOpen:e,onClose:s,onSaveEvent:a,assignedPapers:l,eventToEdit:n,defaultDate:r})=>{const[i,o]=c.useState({type:"class",paper:l[0]||"",title:"",date:Ui(new Date),startTime:"09:00",endTime:"11:00",joinLink:""}),d=c.useRef(null);c.useEffect(()=>{e&&o(n?{type:n.type,paper:n.paper||l[0]||"",title:n.title,date:n.date,startTime:n.startTime||"",endTime:n.endTime||"",joinLink:n.joinLink||""}:{type:"class",paper:l[0]||"",title:"",date:Ui(r),startTime:"09:00",endTime:"11:00",joinLink:""})},[e,n,l,r]);const u=y=>{const{name:p,value:b}=y.target;o(v=>{const N={...v,[p]:b};return p==="type"&&((b==="deadline"||b==="exam")&&(N.joinLink=""),b==="deadline"&&(N.startTime="",N.endTime="")),N})},h=y=>{y.preventDefault(),a({...i,id:(n==null?void 0:n.id)||Date.now()})};if(!e)return null;const x=Ui(new Date);return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,role:"dialog","aria-modal":"true",children:t.jsxs("div",{ref:d,className:"bg-white rounded-lg shadow-2xl w-full max-w-lg",onClick:y=>y.stopPropagation(),children:[t.jsx("div",{className:"p-4 border-b",children:t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:n?"Edit Event":"Schedule New Event"})}),t.jsxs("form",{onSubmit:h,children:[t.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Event Type"}),t.jsxs("select",{name:"type",id:"type",required:!0,value:i.type,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red",children:[t.jsx("option",{value:"class",children:"Class"}),t.jsx("option",{value:"exam",children:"Exam"}),t.jsx("option",{value:"deadline",children:"Deadline"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"paper",className:"block text-sm font-medium text-gray-700",children:"Paper"}),t.jsx("select",{name:"paper",id:"paper",required:!0,value:i.paper,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red",children:l.map(y=>t.jsx("option",{value:y,children:y},y))})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title / Topic"}),t.jsx("input",{type:"text",name:"title",id:"title",required:!0,value:i.title,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date"}),t.jsx("input",{type:"date",name:"date",id:"date",required:!0,value:i.date,onChange:u,min:n?void 0:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),i.type==="class"&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"joinLink",className:"block text-sm font-medium text-gray-700",children:"Zoom/Meeting Link (Optional)"}),t.jsx("input",{type:"url",name:"joinLink",id:"joinLink",value:i.joinLink,onChange:u,placeholder:"https://zoom.us/j/...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),(i.type==="class"||i.type==="exam")&&t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"startTime",className:"block text-sm font-medium text-gray-700",children:"Start Time"}),t.jsx("input",{type:"time",name:"startTime",id:"startTime",required:i.type==="class",value:i.startTime,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"endTime",className:"block text-sm font-medium text-gray-700",children:"End Time"}),t.jsx("input",{type:"time",name:"endTime",id:"endTime",required:i.type==="class",value:i.endTime,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:s,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:n?"Update Event":"Schedule Event"})]})]})]})})},Pu={class:{label:"Class",color:"bg-blue-500"},deadline:{label:"Deadline",color:"bg-yellow-500"},exam:{label:"Exam",color:"bg-brand-red"}},zi=e=>{const s=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getDate().toString().padStart(2,"0");return`${s}-${a}-${l}`},Zy=()=>{const{facultyMember:e}=jt(),[s,a]=c.useState("month"),[l,n]=c.useState(new Date),[r,i]=c.useState(new Date),[o,d]=c.useState(!1),[u,h]=c.useState(null),[x,y]=c.useState(()=>E("calendarEvents",bs)),[p,b]=c.useState([]);c.useEffect(()=>{const z=()=>{y(E("calendarEvents",bs));const _=E("mockTests",Xr).filter(B=>B.createdByFacultyId===e.id&&B.status==="Published"&&B.scheduledStartTime).map(B=>{const Y=new Date(B.scheduledStartTime);return{id:`test-${B.id}`,date:zi(Y),title:`Mock Test: ${B.title}`,type:"exam",startTime:Y.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),paper:B.paper,instructor:e.name}});b(_)};z();const L=H=>{(H.key==="calendarEvents"||H.key==="mockTests")&&z()};return window.addEventListener("storage",L),()=>{window.removeEventListener("storage",L)}},[e.id,e.name]);const v=c.useMemo(()=>{const z=new Set(x.map(H=>H.id)),L=p.filter(H=>!z.has(H.id));return[...x,...L]},[x,p]),N=c.useMemo(()=>e?e.assignedPapers.map(z=>z.split(":")[0].trim()):[],[e]),f=c.useMemo(()=>v.filter(z=>{if(!z.paper)return!1;const L=z.paper.split(":")[0].trim();return N.includes(L)}),[v,N]),m=new Date(l.getFullYear(),l.getMonth(),1),j=new Date(l.getFullYear(),l.getMonth()+1,0),g=new Date(m);g.setDate(g.getDate()-g.getDay());const k=new Date(j);k.setDate(k.getDate()+(6-k.getDay()));const w=[];let S=new Date(g);for(;S<=k;)w.push(new Date(S)),S.setDate(S.getDate()+1);const T=(z,L)=>z.toDateString()===L.toDateString(),C=z=>T(z,new Date),A=z=>{n(L=>{const H=new Date(L);return H.setMonth(H.getMonth()+z),H})},M=()=>{const z=new Date;n(z),i(z)},R=z=>{const L=E("calendarEvents",bs);let H;if(z.id&&u)H=L.map(_=>_.id===z.id?z:_);else{const _={...z,id:Date.now(),instructor:e.name};H=[...L,_]}y(H),se("calendarEvents",H),d(!1),h(null)},O=z=>{h(z),d(!0)},D=z=>{if(window.confirm("Are you sure you want to delete this event? This action cannot be undone.")){const H=E("calendarEvents",bs).filter(_=>_.id!==z);y(H),se("calendarEvents",H)}},q=f.filter(z=>z.date===zi(r)).sort((z,L)=>(z.startTime||"00:00").localeCompare(L.startTime||"00:00")),F=c.useMemo(()=>{const z=new Date;z.setHours(0,0,0,0);const L=new Date(z);return L.setDate(L.getDate()+30),f.filter(H=>{const _=new Date(H.date+"T00:00:00");return _>=z&&_<=L}).sort((H,_)=>new Date(H.date).getTime()-new Date(_.date).getTime()||(H.startTime||"00:00").localeCompare(_.startTime||"00:00"))},[f]).reduce((z,L)=>{const H=L.date;return z[H]||(z[H]=[]),z[H].push(L),z},{}),I=({event:z,onEdit:L,onDelete:H})=>{const _=z.instructor===e.name,B=String(z.id).startsWith("test-");return t.jsxs("div",{className:"flex items-start p-3 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:`w-3 h-3 rounded-full mt-1.5 mr-4 flex-shrink-0 ${Pu[z.type].color}`}),t.jsxs("div",{className:"flex-grow",children:[t.jsx("p",{className:"font-semibold text-gray-800",children:z.title}),t.jsxs("p",{className:"text-sm text-gray-500",children:[z.paper," - ",t.jsx("span",{className:"capitalize",children:z.type})]})]}),t.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-bold text-sm text-brand-dark",children:z.startTime||"All Day"}),z.endTime&&t.jsxs("p",{className:"text-xs text-gray-500",children:["to ",z.endTime]})]}),t.jsxs("div",{className:"space-x-2 w-28 text-right",children:[_&&!B&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>L(z),className:"text-xs font-semibold text-blue-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>H(z.id),className:"text-xs font-semibold text-brand-red hover:underline",children:"Delete"})]}),B&&t.jsx("span",{className:"text-xs text-gray-400 italic",children:"From Mock Tests"})]})]})]})};return e?t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"My Schedule"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 p-1 bg-gray-200 rounded-lg",children:[t.jsx("button",{onClick:()=>a("month"),className:`px-4 py-1.5 text-sm font-semibold rounded-md ${s==="month"?"bg-white shadow":"text-gray-600"}`,children:"Month"}),t.jsx("button",{onClick:()=>a("agenda"),className:`px-4 py-1.5 text-sm font-semibold rounded-md ${s==="agenda"?"bg-white shadow":"text-gray-600"}`,children:"Agenda"})]}),t.jsx("button",{onClick:()=>{h(null),d(!0)},className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"+ Add Event"})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("div",{className:"flex justify-between items-center mb-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>A(-1),className:"p-2 bg-gray-100 rounded-md hover:bg-gray-200","aria-label":"Previous month",children:"←"}),t.jsx("h2",{className:"text-2xl font-bold text-brand-dark text-center w-48",children:l.toLocaleString("default",{month:"long",year:"numeric"})}),t.jsx("button",{onClick:()=>A(1),className:"p-2 bg-gray-100 rounded-md hover:bg-gray-200","aria-label":"Next month",children:"→"}),t.jsx("button",{onClick:M,className:"px-3 py-2 text-sm font-semibold border rounded-md hover:bg-gray-100",children:"Today"})]})}),s==="month"?t.jsxs("div",{className:"lg:grid lg:grid-cols-3 lg:gap-8",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsx("div",{className:"grid grid-cols-7 gap-1 text-center font-semibold text-gray-600 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(z=>t.jsx("div",{className:"py-2",children:z},z))}),t.jsx("div",{className:"grid grid-cols-7 gap-1",children:w.map((z,L)=>{const H=z.getMonth()===l.getMonth(),_=zi(z),B=f.filter(Q=>Q.date===_),Y=T(z,r);return t.jsxs("div",{onClick:()=>i(z),className:`h-24 sm:h-28 border rounded-md flex flex-col overflow-hidden cursor-pointer transition-all duration-200 ${Y?"bg-red-100 border-brand-red scale-105 shadow-lg z-10":C(z)?"bg-red-50":H?"bg-white hover:bg-gray-50":"bg-gray-50 text-gray-400 hover:bg-gray-100"}`,children:[t.jsx("span",{className:`font-bold text-xs sm:text-base p-1 sm:p-2 ${H?"text-gray-800":"text-gray-400"}`,children:z.getDate()}),t.jsx("div",{className:"flex-grow overflow-hidden px-1 space-y-1",children:B.slice(0,3).map(Q=>t.jsx("div",{className:`w-full h-1.5 rounded-full ${Pu[Q.type].color}`},Q.id))})]},L)})})]}),t.jsx("div",{className:"mt-8 lg:mt-0",children:t.jsxs("div",{className:"sticky top-10",children:[t.jsx("h3",{className:"text-xl font-bold text-brand-dark border-b pb-2 mb-4",children:r.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),t.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:q.length>0?q.map(z=>t.jsx(I,{event:z,onEdit:O,onDelete:D},z.id)):t.jsx("p",{className:"text-gray-500 text-center py-8",children:"No events scheduled."})})]})})]}):t.jsx("div",{className:"max-h-[70vh] overflow-y-auto pr-2",children:Object.keys(F).length>0?Object.entries(F).map(([z,L])=>t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-bold text-brand-dark mb-2 sticky top-0 bg-white py-2 border-b",children:new Date(z+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),t.jsx("div",{className:"space-y-2",children:L.map(H=>t.jsx(I,{event:H,onEdit:O,onDelete:D},H.id))})]},z)):t.jsx("p",{className:"text-gray-500 text-center py-12",children:"No upcoming events in the next 30 days."})})]}),t.jsx(Xy,{isOpen:o,onClose:()=>{d(!1),h(null)},onSaveEvent:R,assignedPapers:e.assignedPapers,eventToEdit:u,defaultDate:r})]}):null},Jy=e=>new Promise((s,a)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=()=>s(l.result),l.onerror=n=>a(n)}),Ky=()=>{const[e,s]=c.useState(""),[a,l]=c.useState(""),[n,r]=c.useState(""),[i,o]=c.useState(""),[d,u]=c.useState(""),h=x=>{if(x.preventDefault(),o(""),u(""),a!==n){o("New passwords do not match.");return}if(a.length<6){o("Password must be at least 6 characters long.");return}if(e!=="password123"){o("Incorrect current password.");return}console.log("Password updated successfully!"),u("Your password has been changed successfully."),s(""),l(""),r(""),setTimeout(()=>u(""),5e3)};return t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mt-8",children:[t.jsx("h2",{className:"text-xl font-bold mb-4 border-b pb-4",children:"Change Password"}),t.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i&&t.jsx("p",{className:"text-sm text-red-600 p-3 bg-red-50 rounded-md",children:i}),d&&t.jsx("p",{className:"text-sm text-green-600 p-3 bg-green-50 rounded-md",children:d}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),t.jsx("input",{type:"password",id:"currentPassword",required:!0,value:e,onChange:x=>s(x.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),t.jsx("input",{type:"password",id:"newPassword",required:!0,value:a,onChange:x=>l(x.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),t.jsx("input",{type:"password",id:"confirmPassword",required:!0,value:n,onChange:x=>r(x.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Update Password"})})]})]})},Wy=()=>{const{facultyMember:e}=jt(),[s,a]=c.useState(null),[l,n]=c.useState(null),[r,i]=c.useState(!1),[o,d]=c.useState(""),u=c.useRef(null);c.useEffect(()=>{let v=ce;try{const f=localStorage.getItem("faculty");if(f){const m=JSON.parse(f);Array.isArray(m)&&(v=m)}}catch(f){console.error("Failed to load faculty from localStorage",f)}const N=v.find(f=>f.id===e.id);a(N||null)},[e]);const h=()=>{n(s),i(!0)},x=()=>{n(null),i(!1)},y=v=>{l&&n({...l,[v.target.name]:v.target.value})},p=async v=>{if(v.target.files&&v.target.files[0]&&l){const N=v.target.files[0],f=await Jy(N);n({...l,imageUrl:f})}},b=()=>{if(!l)return;let v=[];try{const f=localStorage.getItem("faculty");v=f?JSON.parse(f):ce}catch{v=ce}const N=v.map(f=>f.id===e.id?l:f);localStorage.setItem("faculty",JSON.stringify(N)),a(l),i(!1),d("Profile updated successfully!"),setTimeout(()=>d(""),3e3)};return s?t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark mb-8",children:"My Profile"}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[t.jsxs("div",{className:"relative mb-4 md:mb-0 md:mr-6",children:[t.jsx("img",{src:r&&l?l.imageUrl:s.imageUrl,alt:s.name,className:"w-32 h-32 rounded-full border-4 border-brand-red object-cover"}),r&&t.jsx("button",{type:"button",onClick:()=>{var v;return(v=u.current)==null?void 0:v.click()},className:"absolute bottom-0 right-0 bg-brand-dark text-white rounded-full p-2 hover:bg-opacity-80","aria-label":"Change profile picture",children:t.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),t.jsx("input",{type:"file",ref:u,onChange:p,className:"hidden",accept:"image/*"})]}),t.jsxs("div",{className:"flex-1 text-center md:text-left",children:[r&&l?t.jsx("input",{name:"name",value:l.name,onChange:y,className:"text-3xl font-bold p-1 border rounded-md w-full bg-white"}):t.jsx("h2",{className:"text-3xl font-bold",children:s.name}),r&&l?t.jsx("input",{name:"qualification",value:l.qualification,onChange:y,className:"text-brand-red font-semibold p-1 border rounded-md mt-1 w-full bg-white"}):t.jsx("p",{className:"text-brand-red font-semibold",children:s.qualification})]})]}),t.jsx("div",{children:r?t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:x,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{onClick:b,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Save"})]}):t.jsx("button",{onClick:h,className:"bg-blue-600 text-white font-semibold px-4 py-2 rounded-md hover:bg-blue-700",children:"Edit Profile"})})]}),o&&t.jsx("p",{className:"text-sm text-green-600 mb-4 bg-green-50 p-3 rounded-md",children:o}),r&&l?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),t.jsx("input",{name:"email",type:"email",value:l.email,onChange:y,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),t.jsx("input",{name:"phone",type:"tel",value:l.phone,onChange:y,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),t.jsx("input",{name:"dob",type:"date",value:l.dob||"",onChange:y,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Social Media URL"}),t.jsx("input",{name:"socialMediaUrl",type:"url",value:l.socialMediaUrl||"",onChange:y,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Biography"}),t.jsx("textarea",{name:"bio",value:l.bio,onChange:y,rows:5,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-brand-dark mb-2",children:"Contact Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Email:"})," ",s.email]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Phone:"})," ",s.phone]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Date of Birth:"})," ",s.dob||"N/A"]}),s.socialMediaUrl&&t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Social Media:"})," ",t.jsx("a",{href:s.socialMediaUrl,target:"_blank",rel:"noopener noreferrer",className:"text-brand-red hover:underline break-all",children:s.socialMediaUrl})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-brand-dark mb-2",children:"Biography"}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.bio})]})]}),t.jsxs("div",{className:"mt-8 border-t pt-6",children:[t.jsx("h3",{className:"text-xl font-bold text-brand-dark mb-4",children:"Assigned Papers"}),t.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Assigned papers can only be modified by an administrator."}),t.jsx("ul",{className:"space-y-2",children:s.assignedPapers.map(v=>t.jsx("li",{className:"p-3 bg-brand-beige rounded-md font-medium",children:v},v))})]})]}),t.jsx(Ky,{})]}):t.jsx("div",{children:"Loading profile..."})},Bu=({attachment:e})=>{const s=t.jsxs("a",{href:e.url,download:e.name||"download",className:"mt-1 flex items-center text-xs font-semibold text-blue-600 hover:underline",children:[t.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]});switch(e.type){case"image":return t.jsxs("div",{className:"mt-2",children:[t.jsx("img",{src:e.url,alt:e.name||"attachment",className:"rounded-lg max-w-xs max-h-48 object-cover"}),s]});case"video":return t.jsxs("div",{className:"mt-2",children:[t.jsx("video",{src:e.url,controls:!0,className:"rounded-lg max-w-xs"}),s]});case"document":default:return t.jsxs("a",{href:e.url,download:e.name,className:"mt-2 flex items-center p-2 bg-gray-200 rounded-lg hover:bg-gray-300 w-fit",children:[t.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.jsx("span",{className:"text-sm font-medium text-brand-dark truncate",children:e.name})]})}},ev=({question:e,onAnswer:s,studentAvatarUrl:a})=>{const[l,n]=c.useState(!1),[r,i]=c.useState(""),[o,d]=c.useState(null),u=()=>{if(r.trim()||o){let h;if(o){let x="document";o.type.startsWith("image/")&&(x="image"),o.type.startsWith("video/")&&(x="video"),h={name:o.name,url:URL.createObjectURL(o),type:x}}s(e.id,r.trim(),h),n(!1),i(""),d(null)}};return t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 flex items-start gap-4",children:[t.jsx("img",{src:a||`https://ui-avatars.com/api/?name=${e.studentName||"S"}&background=random`,alt:e.studentName||"Student",className:"w-10 h-10 rounded-full flex-shrink-0 mt-1"}),t.jsxs("div",{className:"flex-grow",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-gray-800",children:e.question}),e.questionAttachment&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Student's Attachment:"}),t.jsx(Bu,{attachment:e.questionAttachment})]}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["From: ",t.jsx("span",{className:"font-semibold",children:e.studentName||"A Student"})," | Paper: ",t.jsx("span",{className:"font-semibold",children:e.paper})," | Asked: ",t.jsx("span",{className:"font-mono",children:e.askedDate})]})]}),e.status==="Pending"&&!l&&t.jsx("button",{onClick:()=>n(!0),className:"bg-brand-red text-white text-sm font-semibold px-4 py-2 rounded-md hover:bg-red-700 flex-shrink-0",children:"Answer"})]}),l&&t.jsxs("div",{className:"mt-4 border-t pt-4 p-4 rounded-b-lg",children:[t.jsx("textarea",{value:r,onChange:h=>i(h.target.value),rows:4,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-brand-red focus:border-brand-red bg-gray-50",placeholder:"Type your answer here..."}),t.jsxs("div",{className:"mt-2",children:[t.jsx("label",{htmlFor:`attachment-${e.id}`,className:"block text-sm font-medium text-gray-700",children:"Attach File (Optional)"}),t.jsx("input",{type:"file",id:`attachment-${e.id}`,onChange:h=>d(h.target.files?h.target.files[0]:null),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"})]}),o&&t.jsxs("div",{className:"mt-2 flex items-center text-sm bg-gray-200 p-2 rounded-md",children:[t.jsx("svg",{className:"w-4 h-4 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),t.jsx("span",{className:"truncate font-medium text-gray-700",children:o.name})]}),t.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[t.jsx("button",{onClick:()=>{n(!1),d(null)},className:"bg-gray-200 text-gray-700 text-sm font-semibold px-3 py-1 rounded-md",children:"Cancel"}),t.jsx("button",{onClick:u,className:"bg-blue-600 text-white text-sm font-semibold px-3 py-1 rounded-md",children:"Submit Answer"})]})]}),e.status==="Answered"&&t.jsxs("div",{className:"mt-4 border-t pt-4 bg-green-50 p-3 rounded-md",children:[t.jsx("p",{className:"font-semibold text-sm text-green-800",children:"Your Answer:"}),e.answer&&t.jsx("p",{className:"text-gray-700 mt-1 text-sm",children:e.answer}),e.answerAttachment&&t.jsx("div",{className:"mt-2",children:t.jsx(Bu,{attachment:e.answerAttachment})})]})]})]})},tv=()=>{const{facultyMember:e}=jt(),[s,a]=c.useState("Pending"),[l,n]=c.useState("All"),[r,i]=c.useState([]);c.useEffect(()=>{const v=localStorage.getItem("students");i(v?JSON.parse(v):ne)},[]);const[o,d]=c.useState(()=>{const v=localStorage.getItem("teacherQuestions");return v?JSON.parse(v):Kd});c.useEffect(()=>{localStorage.setItem("teacherQuestions",JSON.stringify(o))},[o]);const u=c.useMemo(()=>{const v=new Map;return r.forEach(N=>v.set(N.id,N)),v},[r]),h=(v,N,f)=>{d(m=>m.map(j=>j.id===v?{...j,status:"Answered",answer:N,answerAttachment:f,answeredBy:e.name}:j))},x=c.useMemo(()=>o.filter(v=>{if(l==="All")return!0;const N=v.studentId?u.get(v.studentId):null;return N?N.currentLevel===l:!1}),[o,l,u]),{pending:y,answered:p}=c.useMemo(()=>{const v=[],N=[];return x.forEach(f=>{f.status==="Pending"?v.push(f):N.push(f)}),{pending:v,answered:N}},[x]),b=s==="Pending"?y:p;return e?t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark mb-8",children:"Student Questions"}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center border-b border-gray-200 mb-6",children:[t.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[t.jsxs("button",{onClick:()=>a("Pending"),className:`${s==="Pending"?"border-brand-red text-brand-red":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:["Pending ",t.jsx("span",{className:"bg-yellow-200 text-yellow-800 ml-2 py-0.5 px-2 rounded-full text-xs",children:y.length})]}),t.jsxs("button",{onClick:()=>a("Answered"),className:`${s==="Answered"?"border-brand-red text-brand-red":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:["Answered ",t.jsx("span",{className:"bg-gray-200 text-gray-800 ml-2 py-0.5 px-2 rounded-full text-xs",children:p.length})]})]}),t.jsxs("div",{className:"mt-4 sm:mt-0",children:[t.jsx("label",{htmlFor:"levelFilter",className:"sr-only",children:"Filter by Level"}),t.jsxs("select",{id:"levelFilter",value:l,onChange:v=>n(v.target.value),className:"block text-sm border-gray-300 focus:outline-none focus:ring-brand-red focus:border-brand-red rounded-md bg-white",children:[t.jsx("option",{value:"All",children:"All Levels"}),t.jsx("option",{value:"Applied Knowledge",children:"Applied Knowledge"}),t.jsx("option",{value:"Applied Skills",children:"Applied Skills"}),t.jsx("option",{value:"Strategic Professional",children:"Strategic Professional"})]})]})]}),t.jsx("div",{className:"space-y-4",children:b.length>0?b.map(v=>{const N=v.studentId?u.get(v.studentId):void 0;return t.jsx(ev,{question:v,onAnswer:h,studentAvatarUrl:N==null?void 0:N.avatarUrl},v.id)}):t.jsx("div",{className:"text-center py-12 text-gray-500",children:t.jsxs("p",{children:["No ",s.toLowerCase()," questions match the current filter."]})})})]})]}):null},En=({label:e,value:s})=>t.jsxs("div",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:e}),t.jsx("dd",{className:"mt-1 text-md text-gray-900",children:s})]}),sv=({isOpen:e,onClose:s,student:a,facultyPapers:l})=>{const n=c.useRef(null);c.useEffect(()=>{const d=u=>{u.key==="Escape"&&s()};return e&&document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[e,s]);const r=c.useMemo(()=>l.map(d=>d.split(":")[0].trim()),[l]),i=c.useMemo(()=>a.grades?Object.entries(a.grades).filter(([d])=>r.includes(d)).flatMap(([d,u])=>u.map(h=>({code:d,...h}))).sort((d,u)=>new Date(u.date).getTime()-new Date(d.date).getTime()):[],[a.grades,r]),o=c.useMemo(()=>a.attendance?Object.entries(a.attendance).filter(([d])=>r.includes(d)).map(([d,u])=>({code:d,percentage:u})):[],[a.attendance,r]);return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,role:"dialog","aria-modal":"true",children:t.jsxs("div",{ref:n,className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:d=>d.stopPropagation(),children:[t.jsxs("div",{className:"p-4 border-b flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("img",{src:a.avatarUrl,alt:a.name,className:"w-16 h-16 rounded-full border-2 border-brand-red object-cover"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:a.name}),t.jsx("p",{className:"text-gray-500 font-mono",children:a.studentId})]})]}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl","aria-label":"Close modal",children:"×"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[t.jsxs("section",{children:[t.jsx("h3",{className:"text-lg font-bold text-brand-red mb-4 border-b pb-2",children:"Personal Details"}),t.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[t.jsx(En,{label:"Email Address",value:a.email}),t.jsx(En,{label:"Phone Number",value:a.phone}),t.jsx(En,{label:"Address",value:a.address}),t.jsx(En,{label:"Date of Birth",value:a.dob})]})]}),t.jsxs("section",{children:[t.jsx("h3",{className:"text-lg font-bold text-brand-red mb-4 border-b pb-2",children:"Academic Details (My Papers)"}),t.jsxs("p",{className:"mb-4",children:[t.jsx("span",{className:"font-semibold",children:"Current ACCA Level:"})," ",a.currentLevel]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"Mock Exam History"}),i.length>0?t.jsx("ul",{className:"space-y-1 text-sm max-h-40 overflow-y-auto pr-2",children:i.map((d,u)=>t.jsxs("li",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[t.jsx("span",{children:d.code}),t.jsxs("div",{className:"text-right",children:[t.jsxs("span",{className:"font-bold",children:[d.score," / 100"]}),t.jsx("span",{className:"ml-2 text-gray-500 font-mono text-xs",children:d.date})]})]},u))}):t.jsx("p",{className:"text-sm text-gray-500",children:"No grades recorded for my papers yet."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"Attendance"}),o.length>0?t.jsx("ul",{className:"space-y-1 text-sm",children:o.map(({code:d,percentage:u})=>t.jsxs("li",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[t.jsx("span",{children:d}),t.jsxs("span",{className:"font-bold",children:[u,"%"]})]},d))}):t.jsx("p",{className:"text-sm text-gray-500",children:"No attendance recorded for my papers yet."})]})]})]})]}),t.jsx("div",{className:"p-4 border-t bg-gray-50 flex justify-end",children:t.jsx("button",{onClick:s,className:"bg-brand-dark text-white font-semibold px-6 py-2 rounded-md hover:bg-black transition-colors",children:"Close"})})]})}):null},av=()=>{const{facultyMember:e}=jt(),[s,a]=c.useState([]),[l,n]=c.useState("All"),[r,i]=c.useState(""),[o,d]=c.useState(null);c.useEffect(()=>{const x=()=>{const y=localStorage.getItem("students");a(y?JSON.parse(y):ne)};return x(),window.addEventListener("storage",x),()=>window.removeEventListener("storage",x)},[]);const u=c.useMemo(()=>{if(l==="All"){const y=e.assignedPapers.map(p=>p.split(":")[0].trim());return s.filter(p=>p.enrolledPapers.some(b=>y.includes(b)))}const x=l.split(":")[0].trim();return s.filter(y=>y.enrolledPapers.includes(x))},[l,e.assignedPapers,s]),h=c.useMemo(()=>r?u.filter(x=>x.name.toLowerCase().includes(r.toLowerCase())||x.studentId.toLowerCase().includes(r.toLowerCase())):u,[u,r]);return e?t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark mb-8",children:"My Students"}),t.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4 items-end",children:[t.jsxs("div",{className:"flex-grow",children:[t.jsx("label",{htmlFor:"paperSelect",className:"block text-sm font-medium text-gray-700",children:"Viewing Students For"}),t.jsxs("select",{id:"paperSelect",value:l,onChange:x=>n(x.target.value),className:"mt-1 block w-full max-w-sm pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-brand-red focus:border-brand-red sm:text-sm rounded-md shadow-sm bg-white",children:[t.jsx("option",{value:"All",children:"All My Papers"}),e.assignedPapers.map(x=>t.jsx("option",{value:x,children:x},x))]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search Student"}),t.jsx("input",{type:"text",id:"search",placeholder:"By name or ID...",value:r,onChange:x=>i(x.target.value),className:"mt-1 block w-full sm:w-64 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]})]}),t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full text-left min-w-[600px]",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Student"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Student ID"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Email"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",children:h.map(x=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"p-4 flex items-center",children:[t.jsx("img",{src:x.avatarUrl,alt:x.name,className:"w-10 h-10 rounded-full mr-3 object-cover"}),t.jsx("span",{className:"font-medium",children:x.name})]}),t.jsx("td",{className:"p-4 font-mono",children:x.studentId}),t.jsx("td",{className:"p-4",children:x.email}),t.jsx("td",{className:"p-4",children:t.jsx("button",{onClick:()=>d(x),className:"text-sm font-semibold text-blue-600 hover:underline",children:"View Details"})})]},x.id))})]}),h.length===0&&t.jsx("p",{className:"text-center py-8 text-gray-500",children:"No students found for this paper."})]})}),o&&t.jsx(sv,{isOpen:!!o,onClose:()=>d(null),student:o,facultyPapers:e.assignedPapers})]}):null},lv=()=>{const{facultyMember:e}=jt(),[s,a]=c.useState(null),[l,n]=c.useState(()=>E("salaryRequests",[])),[r,i]=c.useState(""),[o,d]=c.useState(!1),[u,h]=c.useState("");c.useEffect(()=>{const v=E("faculty",ce).find(N=>N.id===e.id);v&&a(v)},[e.id,l]);const x=c.useMemo(()=>{var b;return((b=s==null?void 0:s.salaryHistory)==null?void 0:b.reduce((v,N)=>v+N.amount,0))||0},[s]),y=l.filter(b=>b.facultyId===e.id).sort((b,v)=>new Date(v.requestDate).getTime()-new Date(b.requestDate).getTime()),p=b=>{if(b.preventDefault(),!r.trim())return;d(!0);const N=[{id:Date.now(),facultyId:e.id,facultyName:e.name,message:r.trim(),status:"Pending",requestDate:new Date().toISOString().split("T")[0]},...l];n(N),se("salaryRequests",N),i(""),d(!1),h("Your request has been sent to the administration."),setTimeout(()=>h(""),3e3)};return s?t.jsxs("div",{className:"space-y-8",children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"My Salary"}),u&&t.jsx("div",{className:"p-3 bg-green-100 text-green-700 rounded-md",children:u}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Current Base Salary"}),t.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:["NPR ",s.baseSalary.toLocaleString()]})]}),t.jsxs("div",{className:"pt-4 border-t",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total Received To Date"}),t.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["NPR ",x.toLocaleString()]})]})]})}),t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-xl font-bold text-brand-dark mb-4",children:"Contact Administration"}),t.jsxs("form",{onSubmit:p,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Your Message/Request"}),t.jsx("textarea",{id:"message",rows:4,value:r,onChange:b=>i(b.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white",placeholder:"e.g., I would like to inquire about the salary slip for last month.",required:!0})]}),t.jsx("button",{type:"submit",disabled:o,className:"w-full bg-brand-red text-white py-2 px-4 rounded-md font-semibold hover:bg-red-700 transition-colors disabled:bg-red-300",children:o?"Sending...":"Send Request"})]})]})})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-xl font-bold text-brand-dark mb-4",children:"Payment History"}),t.jsx("div",{className:"overflow-x-auto max-h-96",children:t.jsxs("table",{className:"w-full text-left min-w-[600px]",children:[t.jsx("thead",{className:"bg-gray-50 sticky top-0",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600 uppercase",children:"Date"}),t.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600 uppercase",children:"Amount (NPR)"}),t.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600 uppercase",children:"Category"}),t.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600 uppercase",children:"Method"}),t.jsx("th",{className:"p-3 font-semibold text-sm text-gray-600 uppercase",children:"Notes"})]})}),t.jsx("tbody",{className:"divide-y",children:s.salaryHistory&&s.salaryHistory.length>0?[...s.salaryHistory].sort((b,v)=>new Date(v.date).getTime()-new Date(b.date).getTime()).map(b=>t.jsxs("tr",{children:[t.jsx("td",{className:"p-3 font-mono text-sm",children:b.date}),t.jsx("td",{className:"p-3 font-mono text-sm",children:b.amount.toLocaleString()}),t.jsxs("td",{className:"p-3 text-sm",children:[t.jsx("span",{className:"font-semibold",children:b.category}),b.category==="Other"&&b.otherCategory&&` (${b.otherCategory})`]}),t.jsx("td",{className:"p-3 text-sm",children:b.method}),t.jsx("td",{className:"p-3 text-sm text-gray-600 italic",children:b.notes})]},b.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:"No payment history found."})})})]})})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-xl font-bold text-brand-dark mb-4",children:"My Requests"}),t.jsx("div",{className:"space-y-4 max-h-72 overflow-y-auto",children:y.length>0?y.map(b=>t.jsxs("div",{className:"border-l-4 p-4 rounded-r-lg",style:{borderColor:b.status==="Pending"?"#FBBF24":"#10B981"},children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("p",{className:"text-sm text-gray-500",children:["Requested on: ",b.requestDate]}),t.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${b.status==="Pending"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:b.status})]}),t.jsx("p",{className:"mt-2 text-gray-700",children:b.message})]},b.id)):t.jsx("p",{className:"text-center text-gray-500 py-4",children:"You have not made any requests."})})]})]}):t.jsx("div",{children:"Loading salary details..."})},nv=()=>{const{facultyMember:e}=jt(),s=Ae(),[a,l]=c.useState(()=>E("mockTests",[]));c.useEffect(()=>{se("mockTests",a)},[a]);const n=c.useMemo(()=>a.filter(o=>o.createdByFacultyId===e.id).sort((o,d)=>(d.publishDate||"").localeCompare(o.publishDate||"")),[a,e.id]),r=o=>{window.confirm("Are you sure you want to delete this test? This action cannot be undone.")&&l(d=>d.filter(u=>u.id!==o))},i=o=>{l(d=>{const u=d.map(h=>h.id===o?{...h,isLocked:!h.isLocked}:h);return se("mockTests",u),u})};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Manage Mock Tests"}),t.jsx("button",{onClick:()=>s("/faculty-portal/create-edit-test"),className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"+ Create New Test"})]}),t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full text-left min-w-[700px]",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Title"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Paper"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Status"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Availability"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",children:n.map(o=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"p-3 font-medium",children:o.title}),t.jsx("td",{className:"p-3 text-sm",children:o.paper}),t.jsx("td",{className:"p-3",children:t.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${o.status==="Published"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:o.status})}),t.jsx("td",{className:"p-3 text-sm",children:o.scheduledStartTime?new Date(o.scheduledStartTime).toLocaleString():"Available Now"}),t.jsxs("td",{className:"p-3 space-x-2 whitespace-nowrap",children:[t.jsx($,{to:`/faculty-portal/create-edit-test/${o.id}`,className:"text-sm font-semibold text-blue-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>r(o.id),className:"text-sm font-semibold text-brand-red hover:underline",children:"Delete"}),o.status==="Published"&&t.jsxs("label",{htmlFor:`lock-${o.id}`,className:"inline-flex items-center cursor-pointer",children:[t.jsx("span",{className:"text-sm font-semibold mr-2",children:o.isLocked?"Locked":"Unlocked"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"checkbox",id:`lock-${o.id}`,className:"sr-only peer",checked:o.isLocked,onChange:()=>i(o.id)}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-red"})]})]})]})]},o.id))})]}),n.length===0&&t.jsx("p",{className:"text-center py-8 text-gray-500",children:"You have not created any mock tests yet."})]})})]})},Pi=e=>{const s=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getDate().toString().padStart(2,"0");return`${s}-${a}-${l}`},rv=({isOpen:e,onClose:s,onSchedule:a,testTitle:l})=>{const[n,r]=c.useState(Pi(new Date)),[i,o]=c.useState("09:00"),[d,u]=c.useState("");c.useEffect(()=>{if(e){const x=new Date;x.setMinutes(x.getMinutes()+10),r(Pi(x)),o(x.toTimeString().substring(0,5)),u("")}},[e]);const h=()=>{const x=new Date(`${n}T${i}`);if(x<new Date){u("Scheduled time must be in the future.");return}u(""),a(x.toISOString())};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md",onClick:x=>x.stopPropagation(),children:[t.jsxs("div",{className:"p-4 border-b",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Schedule Test"}),t.jsx("p",{className:"text-sm text-gray-500",children:l})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[d&&t.jsx("p",{className:"text-sm text-red-600 p-3 bg-red-50 rounded-md",children:d}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"schedule-date",className:"block text-sm font-medium text-gray-700",children:"Date"}),t.jsx("input",{type:"date",id:"schedule-date",value:n,onChange:x=>r(x.target.value),min:Pi(new Date),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"schedule-time",className:"block text-sm font-medium text-gray-700",children:"Time"}),t.jsx("input",{type:"time",id:"schedule-time",value:i,onChange:x=>o(x.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:'Students will be able to see this test, but the "Start" button will only become active at the scheduled time.'})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:s,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"button",onClick:h,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Set Schedule & Publish"})]})]})}):null},Fu=()=>{const{testId:e}=Ka(),s=Ae(),{facultyMember:a}=jt(),[l,n]=c.useState(!1),[r,i]=c.useState({title:"",paper:a.assignedPapers[0]||"",status:"Draft",durationMinutes:180,questions:[],isLocked:!1}),[o,d]=c.useState(!1);c.useEffect(()=>{if(e){const g=E("mockTests",[]).find(k=>k.id===Number(e));g&&i(g)}d(!0)},[e]);const u=j=>{const{name:g,value:k}=j.target;i(w=>({...w,[g]:g==="durationMinutes"?Number(k):k}))},h=j=>{const g={id:Date.now(),type:j,questionText:"",points:10,mcqOptions:j==="MCQ"?[{id:Date.now(),text:"",isCorrect:!0}]:[]};i(k=>({...k,questions:[...k.questions,g]}))},x=(j,g,k)=>{i(w=>({...w,questions:w.questions.map(S=>S.id===j?{...S,[g]:k}:S)}))},y=j=>{window.confirm("Are you sure you want to delete this question?")&&i(g=>({...g,questions:g.questions.filter(k=>k.id!==j)}))},p=j=>{i(g=>({...g,questions:g.questions.map(k=>{var w;if(k.id===j&&k.type==="MCQ"){const S=(w=k.mcqOptions)==null?void 0:w.some(T=>T.isCorrect);return{...k,mcqOptions:[...k.mcqOptions||[],{id:Date.now(),text:"",isCorrect:!S}]}}return k})}))},b=(j,g,k)=>{i(w=>({...w,questions:w.questions.map(S=>{var T;return S.id===j&&S.type==="MCQ"?{...S,mcqOptions:(T=S.mcqOptions)==null?void 0:T.map(C=>C.id===g?{...C,text:k}:C)}:S})}))},v=(j,g)=>{i(k=>({...k,questions:k.questions.map(w=>{var S;return w.id===j&&w.type==="MCQ"?{...w,mcqOptions:(S=w.mcqOptions)==null?void 0:S.map(T=>({...T,isCorrect:T.id===g}))}:w})}))},N=(j,g)=>{i(k=>({...k,questions:k.questions.map(w=>{var S,T,C;if(w.id===j&&w.type==="MCQ"){const A=(S=w.mcqOptions)==null?void 0:S.filter(M=>M.id!==g);return(C=(T=w.mcqOptions)==null?void 0:T.find(M=>M.id===g))!=null&&C.isCorrect&&A&&A.length>0&&(A[0].isCorrect=!0),{...w,mcqOptions:A}}return w})}))},f=(j,g)=>{if(j==="Published"&&r.questions.length===0){alert("A test cannot be published with zero questions. Please add questions or save as a draft.");return}const k=E("mockTests",[]),w={...r,status:j,id:e?Number(e):Date.now(),createdByFacultyId:a.id,publishDate:j==="Published"&&!r.publishDate?new Date().toISOString():r.publishDate,scheduledStartTime:g};let S;e?S=k.map(T=>T.id===Number(e)?w:T):S=[...k,w],se("mockTests",S),s("/faculty-portal/mock-tests")},m=j=>{f("Published",j),n(!1)};return o?t.jsxs("div",{className:"space-y-6",children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:e?"Edit Mock Test":"Create New Mock Test"}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:"Test Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx("input",{name:"title",value:r.title,onChange:u,placeholder:"Test Title",className:"md:col-span-2 p-2 border rounded-md bg-white",required:!0}),t.jsx("select",{name:"paper",value:r.paper,onChange:u,className:"p-2 border rounded-md bg-white",children:a.assignedPapers.map(j=>t.jsx("option",{value:j,children:j},j))}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Duration (minutes)"}),t.jsx("input",{name:"durationMinutes",type:"number",value:r.durationMinutes,onChange:u,className:"w-full p-2 border rounded-md bg-white"})]})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:"Questions"}),t.jsx("div",{className:"space-y-4",children:r.questions.map((j,g)=>{var k;return t.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("h3",{className:"font-semibold text-lg text-gray-800",children:["Question ",g+1," (",j.type,")"]}),t.jsxs("button",{type:"button",onClick:()=>y(j.id),className:"flex items-center gap-1 text-xs font-semibold text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50","aria-label":`Delete question ${g+1}`,children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]}),t.jsx("textarea",{value:j.questionText,onChange:w=>x(j.id,"questionText",w.target.value),rows:3,className:"w-full p-2 border rounded-md mt-2 bg-white",placeholder:"Enter question text..."}),j.type==="MCQ"&&t.jsxs("div",{className:"mt-2 space-y-2",children:[t.jsx("label",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Select the correct answer by clicking the radio button:"}),(k=j.mcqOptions)==null?void 0:k.map(w=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"radio",name:`correct-opt-${j.id}`,checked:w.isCorrect,onChange:()=>v(j.id,w.id),className:"h-4 w-4 text-brand-red focus:ring-brand-red border-gray-300"}),t.jsx("input",{type:"text",value:w.text,onChange:S=>b(j.id,w.id,S.target.value),placeholder:"Option text",className:"flex-grow p-1 border rounded bg-white"}),t.jsx("button",{type:"button",onClick:()=>N(j.id,w.id),className:"text-red-500 text-xs",children:"Remove"})]},w.id)),t.jsx("button",{type:"button",onClick:()=>p(j.id),className:"text-xs font-semibold text-blue-600",children:"+ Add Option"})]}),t.jsxs("div",{className:"mt-2 text-right",children:[t.jsx("label",{className:"text-sm",children:"Points: "}),t.jsx("input",{type:"number",value:j.points,onChange:w=>x(j.id,"points",Number(w.target.value)),className:"w-20 p-1 border rounded text-center bg-white"})]})]},j.id)})}),t.jsxs("div",{className:"mt-4 flex gap-4",children:[t.jsx("button",{type:"button",onClick:()=>h("MCQ"),className:"bg-blue-100 text-blue-700 font-semibold px-4 py-2 rounded-md text-sm",children:"+ Add Multiple Choice"}),t.jsx("button",{type:"button",onClick:()=>h("Theoretical"),className:"bg-green-100 text-green-700 font-semibold px-4 py-2 rounded-md text-sm",children:"+ Add Theoretical"})]})]}),t.jsxs("div",{className:"flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:()=>f("Draft"),className:"bg-yellow-500 text-white px-6 py-2 rounded-md font-semibold",children:"Save as Draft"}),t.jsx("button",{type:"button",onClick:()=>s("/faculty-portal/mock-tests"),className:"bg-gray-200 px-6 py-2 rounded-md font-semibold",children:"Cancel"}),t.jsx("button",{type:"button",onClick:()=>n(!0),className:"bg-green-600 text-white px-6 py-2 rounded-md font-semibold",children:"Schedule Test..."})]}),t.jsx(rv,{isOpen:l,onClose:()=>n(!1),onSchedule:m,testTitle:r.title})]}):t.jsx("div",{children:"Loading..."})},iv=()=>{const{facultyMember:e}=jt(),s=Ae(),[a,l]=c.useState(()=>E("mockTests",[])),[n,r]=c.useState(()=>E("studentSubmissions",[])),[i,o]=c.useState(()=>E("students",ne)),[d,u]=c.useState(null),h=c.useMemo(()=>new Map(i.map(b=>[b.id,b])),[i]),x=c.useMemo(()=>a.filter(b=>b.createdByFacultyId===e.id).sort((b,v)=>(v.publishDate||"").localeCompare(b.publishDate||"")),[a,e.id]),y=c.useMemo(()=>d?n.filter(b=>b.testId===d.id).sort((b,v)=>new Date(v.submittedAt).getTime()-new Date(b.submittedAt).getTime()):[],[d,n]),p=b=>{s(`/faculty-portal/grade-submission/${b.id}`)};return c.useEffect(()=>{!d&&x.length>0&&u(x[0])},[x,d]),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-brand-dark mb-8",children:"Test Submissions & Grading"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md lg:col-span-1",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"My Tests"}),t.jsx("ul",{className:"space-y-2 max-h-[70vh] overflow-y-auto pr-2",children:x.map(b=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>u(b),className:`w-full text-left p-3 rounded-lg border-2 transition-colors ${(d==null?void 0:d.id)===b.id?"bg-red-50 border-brand-red":"bg-gray-50 border-transparent hover:bg-gray-100"}`,children:[t.jsx("p",{className:"font-bold",children:b.title}),t.jsx("p",{className:"text-sm text-gray-500",children:b.paper})]})},b.id))})]}),t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md lg:col-span-2",children:d?t.jsxs("div",{children:[t.jsxs("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:['Submissions for "',d.title,'"']}),t.jsx("div",{className:"max-h-[70vh] overflow-y-auto pr-2",children:y.length>0?t.jsx("ul",{className:"divide-y",children:y.map(b=>{const v=h.get(b.studentId);return t.jsx("li",{className:"py-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:(v==null?void 0:v.avatarUrl)||"https://via.placeholder.com/40",alt:(v==null?void 0:v.name)||"Student",className:"w-10 h-10 rounded-full object-cover"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:(v==null?void 0:v.name)||"Unknown Student"}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(b.submittedAt).toLocaleString()]})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${b.isGraded?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:b.isGraded?"Graded":"Pending"}),t.jsx("button",{onClick:()=>p(b),className:"text-sm font-semibold text-blue-600 hover:underline",children:b.isGraded?"View":"Grade"})]})]})},b.id)})}):t.jsx("p",{className:"text-center text-gray-500 py-8",children:"No students have submitted this test yet."})})]}):t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsx("p",{className:"text-gray-500",children:"Select one of your tests to view submissions."})})})]})]})},ov=()=>{const{submissionId:e}=Ka(),s=Ae(),[a,l]=c.useState(null),[n,r]=c.useState(null),[i,o]=c.useState(null),[d,u]=c.useState([]),[h,x]=c.useState(!1);c.useEffect(()=>{const m=Number(e);if(isNaN(m))return;const g=E("studentSubmissions",[]).find(k=>k.id===m);if(g){r(g),u(g.answers);const k=E("mockTests",Xr);l(k.find(S=>S.id===g.testId)||null);const w=E("students",ne);o(w.find(S=>S.id===g.studentId)||null)}},[e]);const y=(m,j)=>{const g=a==null?void 0:a.questions.find(w=>w.id===m);if(!g)return;const k=Math.max(0,Math.min(g.points,j));u(w=>{const S=w.findIndex(T=>T.questionId===m);if(S>-1){const T=[...w];return T[S]={...T[S],awardedPoints:k},T}return[...w,{questionId:m,awardedPoints:k}]})},p=(m,j)=>{u(g=>{const k=g.findIndex(w=>w.questionId===m);if(k>-1){const w=[...g];return w[k]={...w[k],suggestion:j},w}return[...g,{questionId:m,suggestion:j}]})},b=c.useCallback(()=>{if(!a)return 0;let m=0;return a.questions.forEach(j=>{var k;const g=d.find(w=>w.questionId===j.id);if(j.type==="MCQ"){const w=(k=j.mcqOptions)==null?void 0:k.find(S=>S.isCorrect);(g==null?void 0:g.selectedOptionId)===(w==null?void 0:w.id)&&(m+=j.points)}else j.type==="Theoretical"&&(m+=(g==null?void 0:g.awardedPoints)||0)}),m},[a,d]),v=()=>{var T;if(!n||!a)return;x(!0);const m=b(),j={...n,answers:d,isGraded:!0,totalAwardedPoints:m},k=E("studentSubmissions",[]).map(C=>C.id===n.id?j:C);se("studentSubmissions",k);const w=E("students",ne),S=w.find(C=>C.id===n.studentId);if(S){const C=a.paper.split(":")[0].trim(),A={score:m,date:new Date().toISOString().split("T")[0],examType:"Mock"},R=[...((T=S.grades)==null?void 0:T[C])||[],A],O={...S,grades:{...S.grades,[C]:R}},D=w.map(q=>q.id===O.id?O:q);se("students",D)}setTimeout(()=>{x(!1),s("/faculty-portal/submissions")},1e3)},N=c.useMemo(()=>(a==null?void 0:a.questions.reduce((m,j)=>m+j.points,0))||0,[a]),f=b();return!a||!n||!i?t.jsx("div",{className:"p-8 text-center",children:"Loading submission..."}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("header",{className:"bg-white p-4 rounded-lg shadow-md sticky top-0 z-10",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-brand-dark",children:["Grading: ",a.title]}),t.jsxs("p",{className:"text-gray-500",children:["Student: ",i.name," (",i.studentId,")"]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-500",children:"Total Score"}),t.jsxs("p",{className:"text-2xl font-bold text-brand-red",children:[f," / ",N]})]}),t.jsx("button",{onClick:v,disabled:h,className:"bg-green-600 text-white font-bold py-2 px-6 rounded-md hover:bg-green-700 disabled:bg-gray-400",children:h?"Saving...":"Save Grades"})]})]})}),a.questions.map((m,j)=>{const g=d.find(k=>k.questionId===m.id);return t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("p",{className:"font-semibold text-gray-500",children:["Question ",j+1," (",m.points," points)"]}),m.type==="Theoretical"&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",value:(g==null?void 0:g.awardedPoints)??"",onChange:k=>y(m.id,Number(k.target.value)),className:"w-20 p-1 border rounded-md text-center font-bold bg-white",max:m.points,min:0}),t.jsxs("span",{className:"font-semibold text-gray-600",children:["/ ",m.points]})]})]}),t.jsx("p",{className:"mt-2 text-lg text-gray-800 whitespace-pre-wrap",children:m.questionText}),t.jsxs("div",{className:"mt-4",children:[m.type==="MCQ"&&m.mcqOptions&&t.jsxs(t.Fragment,{children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Student's Answer:"}),t.jsx("div",{className:"space-y-3",children:m.mcqOptions.map(k=>{const w=(g==null?void 0:g.selectedOptionId)===k.id,S=k.isCorrect;let T="bg-white border-gray-300";return S?T="bg-green-100 border-green-400 text-green-800 font-semibold":w&&(T="bg-red-100 border-red-400 text-red-800"),t.jsxs("div",{className:`flex items-start p-3 border rounded-lg ${T}`,children:[t.jsx("span",{className:"font-bold mr-3 text-lg",children:S?"✔":w?"✖":"◦"}),t.jsx("p",{children:k.text})]},k.id)})})]}),m.type==="Theoretical"&&t.jsxs(t.Fragment,{children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Student's Answer:"}),t.jsx("div",{className:"bg-gray-50 p-4 border rounded-md min-h-[100px]",children:t.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:(g==null?void 0:g.answerText)||t.jsx("span",{className:"italic text-gray-400",children:"Not answered"})})})]})]}),t.jsxs("div",{className:"mt-4 bg-blue-50 p-3 rounded-lg",children:[t.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Feedback / Suggestion for Student"}),t.jsx("textarea",{value:(g==null?void 0:g.suggestion)||"",onChange:k=>p(m.id,k.target.value),rows:2,className:"w-full mt-1 p-2 border rounded-md focus:ring-brand-red focus:border-brand-red bg-white",placeholder:"Provide feedback on the student's answer..."})]})]},m.id)})]})},dv=()=>{const{facultyMember:e}=jt(),[s,a]=c.useState(()=>E("adminConversations",[])),[l,n]=c.useState(null),[r,i]=c.useState(!1),[o,d]=c.useState(""),[u,h]=c.useState("");c.useEffect(()=>{se("adminConversations",s)},[s]),c.useEffect(()=>{!l&&!r&&x.length>0&&i(!0)},[l,r]);const x=c.useMemo(()=>s.filter(b=>b.participantId===e.id&&b.participantRole==="faculty").sort((b,v)=>new Date(v.lastUpdate).getTime()-new Date(b.lastUpdate).getTime()),[s,e.id]),y=b=>{n(b),i(!1)},p=()=>{const b=u.trim();if(!b||r&&!o.trim()){alert("Subject and message cannot be empty.");return}const v=new Date().toISOString(),N={sender:"user",text:b,timestamp:v};let f;if(l){const m={...l,messages:[...l.messages,N],status:"Pending",lastUpdate:v};f=s.map(j=>j.id===l.id?m:j),n(m)}else if(r){const m={id:Date.now(),participantId:e.id,participantName:e.name,participantRole:"faculty",subject:o.trim(),status:"Pending",lastUpdate:v,messages:[N]};f=[m,...s],n(m),i(!1)}a(f),se("adminConversations",f),h(""),d("")};return t.jsxs("div",{className:"space-y-8",children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Contact Administration"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-[75vh]",children:[t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md lg:col-span-1 h-full flex flex-col",children:[t.jsx("button",{onClick:()=>{i(!0),n(null)},className:`w-full p-3 rounded-md font-semibold text-sm text-center mb-4 transition-colors ${r?"bg-brand-red text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"+ New Message"}),t.jsx("h3",{className:"font-bold text-lg text-brand-dark mb-2 border-b pb-2",children:"Your Conversations"}),t.jsx("ul",{className:"space-y-2 overflow-y-auto",children:x.map(b=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>y(b),className:`w-full text-left p-3 rounded-lg border-l-4 ${(l==null?void 0:l.id)===b.id?"bg-red-50 border-brand-red":"bg-gray-50 border-transparent hover:bg-gray-100"}`,children:[t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsx("p",{className:"font-semibold text-gray-600",children:"Admin"}),t.jsx("span",{className:`font-bold ${b.status==="Pending"?"text-yellow-600":"text-green-600"}`,children:b.status})]}),t.jsx("p",{className:"font-semibold text-sm truncate mt-1",children:b.subject})]})},b.id))})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-md lg:col-span-2 h-full flex flex-col",children:[l&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b",children:[t.jsx("h2",{className:"text-xl font-bold",children:l.subject}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",l.status]})]}),t.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:l.messages.map((b,v)=>t.jsxs("div",{className:`flex items-start gap-3 ${b.sender==="user"?"justify-end":""}`,children:[b.sender==="admin"&&t.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-400 flex-shrink-0"}),t.jsx("div",{className:`text-sm p-3 rounded-lg max-w-sm ${b.sender==="user"?"bg-brand-red text-white":"bg-gray-100"}`,children:t.jsx("p",{className:"whitespace-pre-wrap",children:b.text})})]},v))})]}),r&&t.jsx("div",{className:"p-4 border-b",children:t.jsx("h2",{className:"text-xl font-bold",children:"New Message to Admin"})}),l||r?t.jsxs("div",{className:"p-4 border-t mt-auto",children:[r&&t.jsx("input",{value:o,onChange:b=>d(b.target.value),placeholder:"Subject",className:"w-full p-2 border rounded-md mb-2 bg-white"}),t.jsx("textarea",{value:u,onChange:b=>h(b.target.value),rows:3,placeholder:"Type your message...",className:"w-full p-2 border rounded-md bg-white"}),t.jsx("button",{onClick:p,className:"mt-2 w-full bg-brand-red text-white py-2 rounded-md font-semibold",children:"Send"})]}):t.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Select or start a conversation."})]})]})]})},cv=()=>{const[e,s]=c.useState(null),a=Ae(),[l,n]=c.useState(!1),[r,i]=c.useState(!1),[o,d]=c.useState([]),[u,h]=c.useState(null),[x,y]=c.useState([]),p=c.useRef(null),[b,v]=c.useState(null);c.useEffect(()=>{const{user:g,role:k}=Wa();k==="faculty"&&g?s(g):a("/login?role=faculty",{replace:!0});const w=sessionStorage.getItem("impersonator");w&&v(JSON.parse(w))},[a]),c.useEffect(()=>{const g=k=>{p.current&&!p.current.contains(k.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),c.useEffect(()=>{if(e)try{const k=E("globalAnnouncements",Yl).filter(B=>B.audience==="All Faculty"||B.audience==="All Students & Faculty").sort((B,Y)=>new Date(Y.date).getTime()-new Date(B.date).getTime()),w=JSON.parse(localStorage.getItem("seenAnnouncementPopups")||"[]"),S=k.filter(B=>!w.includes(B.id));y(S);const T=k.map(B=>({id:B.id,type:"announcement",title:B.title,message:B.content,timestamp:new Date(B.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),read:!1})),C=`notifiedQuestions_${e.id}`,A=E(C,[]),M=[...A],R=E("teacherQuestions",[]),O=[];R.forEach(B=>{B.status==="Pending"&&!A.includes(B.id)&&(O.push({id:2e6+B.id,type:"material",title:"New Student Question",message:`A question was asked in ${B.paper} by ${B.studentName}.`,timestamp:"Just now",read:!1}),M.push(B.id))}),M.length>A.length&&se(C,M);const D=`notifiedSubmissions_faculty_${e.id}`,q=E(D,[]),U=[...q],F=E("studentSubmissions",[]),I=E("mockTests",[]),z=new Set(I.filter(B=>B.createdByFacultyId===e.id).map(B=>B.id)),L=[];F.forEach(B=>{z.has(B.testId)&&B.status==="Completed"&&!B.isGraded&&!q.includes(B.id)&&(L.push({id:3e6+B.id,type:"deadline",title:"New Submission to Grade",message:"A student submitted a test that needs grading.",timestamp:"Just now",read:!1}),U.push(B.id))}),U.length>q.length&&se(D,U);const H=[...O,...L,...T],_=Array.from(new Map(H.map(B=>[B.id,B])).values());d(_)}catch(g){console.error("Failed to process announcements and notifications for faculty:",g)}},[e]),c.useEffect(()=>{x.length>0&&!u&&h(x[0])},[x,u]);const N=()=>{if(u)try{const g=JSON.parse(localStorage.getItem("seenAnnouncementPopups")||"[]");g.includes(u.id)||localStorage.setItem("seenAnnouncementPopups",JSON.stringify([...g,u.id])),y(k=>k.filter(w=>w.id!==u.id)),h(null)}catch(g){console.error("Failed to update seen popups:",g)}},f=o.filter(g=>!g.read).length,m=g=>{d(o.map(k=>k.id===g?{...k,read:!0}:k))},j=()=>{const g=sessionStorage.getItem("impersonator");if(g){const{user:k,role:w}=JSON.parse(g);sessionStorage.setItem("loggedInUser",JSON.stringify(k)),sessionStorage.setItem("userRole",w),sessionStorage.removeItem("impersonator"),a("/admin-portal/dashboard",{replace:!0})}};return e?t.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[t.jsx(qy,{isOpen:l,setIsSidebarOpen:n,facultyMember:e}),t.jsxs("div",{className:"flex-1 flex flex-col lg:ml-64",children:[b&&t.jsxs("div",{className:"bg-yellow-400 text-black p-2 text-center text-sm font-semibold flex items-center justify-center gap-4 sticky top-0 z-50",children:[t.jsxs("p",{children:["Viewing as ",t.jsx("strong",{children:e==null?void 0:e.name}),"."]}),t.jsx("button",{onClick:j,className:"bg-black text-white px-3 py-1 rounded-md text-xs hover:bg-gray-700",children:"Return to Admin Portal"})]}),t.jsxs("header",{className:`bg-white shadow-sm p-4 flex justify-between items-center sticky z-20 border-b ${b?"top-[36px]":"top-0"}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>n(!0),className:"lg:hidden text-gray-500 hover:text-brand-red",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),t.jsx(sc,{})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("div",{className:"relative",ref:p,children:[t.jsxs("button",{onClick:()=>i(g=>!g),className:"text-gray-500 hover:text-brand-red relative","aria-label":"View notifications",children:[t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),f>0&&t.jsxs("span",{className:"absolute -top-1 -right-1 flex h-4 w-4",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-brand-red opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-brand-red text-white text-xs items-center justify-center",children:f})]})]}),r&&t.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border z-30 animate-fade-in-down",children:[t.jsxs("div",{className:"p-3 border-b flex justify-between items-center",children:[t.jsx("h3",{className:"font-bold text-gray-800",children:"Notifications"}),t.jsx("button",{onClick:()=>d(g=>g.map(k=>({...k,read:!0}))),className:"text-xs text-brand-red font-semibold hover:underline",children:"Mark all as read"})]}),t.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.length>0?o.map(g=>t.jsxs("div",{onClick:()=>m(g.id),className:`p-3 flex items-start hover:bg-gray-50 cursor-pointer border-b last:border-b-0 ${g.read?"":"bg-red-50"}`,children:[t.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 mr-3 flex-shrink-0 ${g.read?"bg-gray-300":"bg-brand-red"}`}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-sm text-gray-800",children:g.title}),t.jsx("p",{className:"text-sm text-gray-600",children:g.message}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:g.timestamp})]})]},g.id)):t.jsx("p",{className:"p-4 text-center text-gray-500",children:"No new notifications."})}),t.jsx("div",{className:"p-2 border-t text-center bg-gray-50 rounded-b-lg",children:t.jsx($,{to:"#",className:"text-sm font-semibold text-brand-red hover:underline",children:"View all"})}),t.jsx("style",{children:`
                                        @keyframes fade-in-down {
                                            0% { opacity: 0; transform: translateY(-10px); }
                                            100% { opacity: 1; transform: translateY(0); }
                                        }
                                        .animate-fade-in-down { animation: fade-in-down 0.3s ease-out forwards; }
                                    `})]})]})})]}),t.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-10 overflow-y-auto",children:t.jsx(Gr,{context:{facultyMember:e}})}),u&&t.jsx(cf,{announcement:u,onClose:N})]})]}):t.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."})},uv=()=>t.jsx($r,{children:t.jsxs(V,{element:t.jsx(cv,{}),children:[t.jsx(V,{index:!0,element:t.jsx(Xd,{to:"dashboard",replace:!0})}),t.jsx(V,{path:"dashboard",element:t.jsx(Iy,{})}),t.jsx(V,{path:"classes",element:t.jsx($y,{})}),t.jsx(V,{path:"my-students",element:t.jsx(av,{})}),t.jsx(V,{path:"announcements",element:t.jsx(Qy,{})}),t.jsx(V,{path:"schedule",element:t.jsx(Zy,{})}),t.jsx(V,{path:"salary",element:t.jsx(lv,{})}),t.jsx(V,{path:"profile",element:t.jsx(Wy,{})}),t.jsx(V,{path:"student-questions",element:t.jsx(tv,{})}),t.jsx(V,{path:"mock-tests",element:t.jsx(nv,{})}),t.jsx(V,{path:"submissions",element:t.jsx(iv,{})}),t.jsx(V,{path:"grade-submission/:submissionId",element:t.jsx(ov,{})}),t.jsx(V,{path:"create-edit-test",element:t.jsx(Fu,{})}),t.jsx(V,{path:"create-edit-test/:testId",element:t.jsx(Fu,{})}),t.jsx(V,{path:"contact-admin",element:t.jsx(dv,{})})]})}),mv=()=>{const{pathname:e}=zt();return c.useEffect(()=>{window.scrollTo(0,0)},[e]),null},hv=({syllabus:e})=>{const[s,a]=ys.useState(0),l=n=>{a(s===n?null:n)};return t.jsx("div",{className:"space-y-2",children:e.map((n,r)=>t.jsxs("div",{className:"border rounded-md overflow-hidden",children:[t.jsxs("button",{onClick:()=>l(r),className:"w-full flex justify-between items-center text-left p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none","aria-expanded":s===r,"aria-controls":`syllabus-content-${r}`,children:[t.jsx("span",{className:"font-semibold text-brand-dark",children:n.topic}),t.jsx("svg",{className:`w-5 h-5 text-brand-red transform transition-transform duration-300 ${s===r?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),t.jsx("div",{id:`syllabus-content-${r}`,className:`overflow-hidden transition-all duration-500 ease-in-out ${s===r?"max-h-96":"max-h-0"}`,children:t.jsx("p",{className:"p-4 text-gray-600 border-t",children:n.details})})]},r))})},xv=({member:e})=>t.jsxs("div",{className:"text-center bg-white p-4 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300",children:[t.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-24 h-24 rounded-full mx-auto mb-3 border-4 border-white shadow-sm"}),t.jsx("h4",{className:"text-md font-bold",children:e.name}),t.jsx("p",{className:"text-brand-red text-sm",children:e.qualification})]}),fv=({feeCategories:e})=>{const s=a=>a==null?"-":a.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return e.length===0?t.jsx("p",{className:"text-gray-600",children:"Fee information for this level is not available at the moment. Please contact admissions for details."}):t.jsxs("div",{className:"overflow-x-auto bg-brand-beige p-4 sm:p-6 rounded-lg",children:[t.jsxs("table",{className:"w-full text-left min-w-[700px]",children:[t.jsx("thead",{className:"border-b-2 border-brand-red",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-3 font-bold text-brand-dark uppercase tracking-wider text-sm w-[30%]",children:"Paper"}),t.jsx("th",{className:"p-3 font-bold text-brand-dark uppercase tracking-wider text-sm",children:"Details"}),t.jsx("th",{className:"p-3 font-bold text-brand-dark uppercase tracking-wider text-sm text-right",children:"UK Fees (NRS)"}),t.jsx("th",{className:"p-3 font-bold text-brand-dark uppercase tracking-wider text-sm text-right",children:"College Fees (NRS)"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map((a,l)=>t.jsxs(ys.Fragment,{children:[t.jsx("tr",{className:"bg-gray-700 text-white",children:t.jsxs("td",{colSpan:4,className:"p-3 font-bold",children:[a.level,a.description&&t.jsx("span",{className:"font-normal text-sm block text-gray-300",children:a.description})]})}),a.items.map((n,r)=>t.jsxs("tr",{className:"hover:bg-gray-50 align-top",children:[t.jsx("td",{className:"p-3 font-semibold",children:n.paper||"-"}),t.jsx("td",{className:"p-3",children:n.details}),t.jsx("td",{className:"p-3 text-right font-mono",children:s(n.ukFeesNrs)}),t.jsx("td",{className:"p-3 text-right font-mono",children:s(n.collegeFeesNrs)})]},r)),a.subtotals&&t.jsxs("tr",{className:"bg-yellow-100 font-bold",children:[t.jsx("td",{colSpan:2,className:"p-3 text-right text-brand-dark",children:"Subtotal"}),t.jsx("td",{className:"p-3 text-right font-mono text-brand-dark",children:s(a.subtotals.ukFeesNrs)}),t.jsx("td",{className:"p-3 text-right font-mono text-brand-dark",children:s(a.subtotals.collegeFeesNrs)})]})]},l))})]}),t.jsx("div",{className:"mt-6 text-center text-xs text-gray-600 bg-yellow-50 p-3 rounded-lg",children:t.jsxs("p",{children:[t.jsx("strong",{children:"Disclaimer:"})," All fees are subject to change without prior notice. The external fees payable to ACCA are based on current exchange rates and may vary. Please confirm the latest fees with our admissions office."]})})]})},gv=()=>{const{courseId:e}=Ka(),s=we.find(d=>d.id===e),[a,l]=c.useState([]);if(c.useEffect(()=>{const d=localStorage.getItem("faculty");l(d?JSON.parse(d):ce)},[]),!s)return t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-20 text-center",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Course Not Found"}),t.jsx("p",{className:"mt-4",children:"The course you are looking for does not exist."}),t.jsx($,{to:"/courses",className:"mt-6 inline-block bg-brand-red text-white px-6 py-2 rounded-md font-semibold hover:bg-red-700",children:"Back to Courses"})]});const n=a.filter(d=>s.facultyIds.includes(d.id)),i={"Applied Knowledge":["ACCA Knowledge Level"],"Applied Skills":["ACCA Skills Level"],"Strategic Professional":["Strategic Professional"]}[s.level]||[],o=nf.filter(d=>i.includes(d.level));return t.jsxs("div",{className:"bg-white",children:[t.jsx("div",{className:"bg-brand-dark text-white py-12 md:py-20",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 text-center",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:s.title}),t.jsx("p",{className:"mt-4 text-lg max-w-3xl mx-auto",children:s.level})]})}),t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-12 md:py-20",children:t.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsxs($,{to:"/courses",className:"inline-flex items-center text-brand-red font-semibold hover:underline mb-6 text-sm",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back to Courses"]}),t.jsxs("section",{id:"description",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-brand-dark mb-4 border-b-2 border-brand-red pb-2",children:"Course Overview"}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description})]}),t.jsxs("section",{id:"syllabus",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-brand-dark mb-4 border-b-2 border-brand-red pb-2",children:"Syllabus"}),t.jsx(hv,{syllabus:s.syllabus})]}),t.jsxs("section",{id:"outcomes",className:"mb-12",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-brand-dark mb-4 border-b-2 border-brand-red pb-2",children:"Learning Outcomes"}),t.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-700 pl-4 text-base",children:s.learningOutcomes.map((d,u)=>t.jsx("li",{children:d},u))})]}),t.jsxs("section",{id:"fees",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-brand-dark mb-4 border-b-2 border-brand-red pb-2",children:"Fee Structure"}),t.jsx(fv,{feeCategories:o})]})]}),t.jsx("aside",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-brand-beige p-6 rounded-lg shadow-lg sticky top-28",children:[t.jsx("h3",{className:"text-2xl font-bold text-brand-dark mb-4",children:"Meet Your Instructors"}),t.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.length>0?n.map(d=>t.jsx(xv,{member:d},d.id)):t.jsx("p",{className:"col-span-2 text-gray-600",children:"Instructor information coming soon."})}),t.jsx($,{to:"/admissions",className:"mt-8 block w-full text-center bg-brand-red text-white py-3 rounded-md font-semibold hover:bg-red-700 transition-colors shadow-md",children:"Apply for this Course"})]})})]})})]})},pv=()=>E("students",ne),bv=()=>E("faculty",ce),yv=()=>{const[e]=sf(),s=Ae(),a=e.get("role")||"student",[l,n]=c.useState(""),[r,i]=c.useState(""),[o,d]=c.useState(""),[u]=ts("academyLogoUrl",sa),h=m=>{m.preventDefault(),d("");let j,g="/";if(a==="student")j=pv().find(w=>w.studentId===l&&w.password===r),g="/student-portal/dashboard";else if(a==="faculty")j=bv().find(w=>w.username===l&&w.password===r),g="/faculty-portal/dashboard";else if(a==="admin"&&l==="admin@learners.edu"&&r==="password"){sessionStorage.setItem("loggedInUser",JSON.stringify(af)),sessionStorage.setItem("userRole","admin"),s("/admin-portal/dashboard");return}j?(sessionStorage.setItem("loggedInUser",JSON.stringify(j)),sessionStorage.setItem("userRole",a),s(g)):d("Invalid credentials. Please try again.")},x={student:{title:"Student Portal Login",idLabel:"Student ID",idPlaceholder:"e.g., S12345",idType:"text",switchRoleLink:"/login?role=faculty",switchRoleText:"Faculty Login"},faculty:{title:"Faculty Portal Login",idLabel:"Faculty Username",idPlaceholder:"e.g., kabin.p",idType:"text",switchRoleLink:"/login?role=student",switchRoleText:"Student Login"},admin:{title:"Admin Portal Login",idLabel:"Admin Email",idPlaceholder:"e.g., admin@learners.edu",idType:"email",switchRoleLink:"/",switchRoleText:""}},{title:y,idLabel:p,idPlaceholder:b,idType:v,switchRoleLink:N,switchRoleText:f}=x[a];return t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-brand-beige",children:[t.jsxs("div",{className:"mb-8 text-center",children:[t.jsx("img",{src:u,alt:"Learners Academy Logo",className:"h-20 w-auto mx-auto"}),t.jsx("h1",{className:"text-2xl font-bold text-brand-dark mt-4",children:"Reliant Learners Academy"})]}),t.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg",children:[t.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:y}),o&&t.jsx("p",{className:"bg-red-100 text-red-700 p-3 rounded-md text-sm mb-4",children:o}),t.jsxs("form",{onSubmit:h,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"id",className:"block text-sm font-medium text-gray-700",children:p}),t.jsx("input",{type:v,name:"id",id:"id",required:!0,value:l,onChange:m=>n(m.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white",placeholder:b})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),t.jsx("input",{type:"password",name:"password",id:"password",required:!0,value:r,onChange:m=>i(m.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsx("button",{type:"submit",className:"w-full bg-brand-red text-white py-3 px-4 rounded-md font-semibold hover:bg-red-700 transition-colors",children:"Login"}),a!=="admin"&&t.jsx("p",{className:"text-center text-sm text-gray-600",children:t.jsx($,{to:N,className:"font-medium text-brand-red hover:underline",children:f})}),t.jsx("p",{className:"text-center text-xs text-gray-500 mt-4",children:t.jsx($,{to:"/",className:"hover:underline",children:"← Back to Main Site"})})]})]})]})},Ie={dashboard:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),inbox:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),students:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),faculty:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.67c.12-.24.232-.487.34-.737m-4.118 6.075c.62-1.299 1.154-2.697 1.6-4.125m.001-3.75v.01c0 .218.01.437.028.65m-3.75 0c.056.126.118.25.185.375m-3.75 0a9.348 9.348 0 019-5.334c1.5 0 2.896.398 4.121.952A4.125 4.125 0 009 12.348M15 12a3 3 0 11-6 0 3 3 0 016 0z"})}),courses:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),admissions:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),announcements:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.277 0 7.423-4.586 6.357-8.455A4.002 4.002 0 0118 4v6c0 .635-.21 1.223-.592 1.699l-2.147 6.15a1.76 1.76 0 01-3.417-.592V5.882z"})}),fees:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),salary:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"})}),mockTests:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),ratings:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),content:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),settings:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065zM15 12a3 3 0 11-6 0 3 3 0 016 0z"})}),logout:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})},Ke=({to:e,icon:s,children:a,onClick:l})=>t.jsxs(Zs,{to:e,end:!0,onClick:l,className:({isActive:n})=>`flex items-center px-4 py-3 space-x-3 rounded-lg transition-colors duration-200 ${n?"bg-brand-red text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[s,t.jsx("span",{className:"font-medium",children:a})]}),vv=({isOpen:e,setIsOpen:s})=>{const a=Ae(),l=c.useRef(null),[n,r]=c.useState(!1),[i]=ts("academyLogoUrl",sa);c.useEffect(()=>{const x=y=>{l.current&&!l.current.contains(y.target)&&s(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[s]);const o=()=>{r(!0)},d=()=>{tc(),s(!1),a("/")},u=()=>{s(!1)},h=af;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-30 transition-opacity lg:hidden ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>s(!1)}),t.jsxs("aside",{ref:l,className:`fixed top-0 left-0 h-full w-64 bg-brand-dark text-white flex flex-col p-4 z-40 transition-transform duration-300 ease-in-out
                ${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:fixed`,children:[t.jsxs("div",{className:"flex items-center mb-10 px-2",children:[t.jsx("img",{src:i,alt:`${h.name}'s profile picture`,className:"w-10 h-10 rounded-full"}),t.jsxs("div",{className:"ml-3",children:[t.jsx("p",{className:"text-lg font-bold leading-tight",children:h.name}),t.jsx("p",{className:"text-xs text-gray-400",children:"Administrator"})]})]}),t.jsxs("nav",{className:"flex-1 space-y-2 overflow-y-auto pr-2",children:[t.jsx(Ke,{to:"/admin-portal/dashboard",icon:Ie.dashboard,onClick:u,children:"Dashboard"}),t.jsx(Ke,{to:"/admin-portal/inbox",icon:Ie.inbox,onClick:u,children:"Inbox"}),t.jsx(Ke,{to:"/admin-portal/students",icon:Ie.students,onClick:u,children:"Students"}),t.jsx(Ke,{to:"/admin-portal/faculty",icon:Ie.faculty,onClick:u,children:"Faculty"}),t.jsx(Ke,{to:"/admin-portal/courses",icon:Ie.courses,onClick:u,children:"Courses"}),t.jsx(Ke,{to:"/admin-portal/admissions",icon:Ie.admissions,onClick:u,children:"Admissions"}),t.jsx(Ke,{to:"/admin-portal/announcements",icon:Ie.announcements,onClick:u,children:"Announcements"}),t.jsx(Ke,{to:"/admin-portal/fees",icon:Ie.fees,onClick:u,children:"Fee Management"}),t.jsx(Ke,{to:"/admin-portal/salary",icon:Ie.salary,onClick:u,children:"Manage Salary"}),t.jsx(Ke,{to:"/admin-portal/mock-tests",icon:Ie.mockTests,onClick:u,children:"Mock Tests & Submissions"}),t.jsx(Ke,{to:"/admin-portal/ratings",icon:Ie.ratings,onClick:u,children:"Teacher Ratings"}),t.jsx(Ke,{to:"/admin-portal/content",icon:Ie.content,onClick:u,children:"Site Content"}),t.jsx(Ke,{to:"/admin-portal/settings",icon:Ie.settings,onClick:u,children:"Settings"})]}),t.jsx("div",{children:t.jsxs("button",{onClick:o,className:"flex items-center w-full px-4 py-3 space-x-3 rounded-lg text-gray-300 hover:bg-red-800 hover:text-white transition-colors duration-200",children:[Ie.logout,t.jsx("span",{className:"font-medium",children:"Logout"})]})})]}),t.jsx(ot,{isOpen:n,title:"Confirm Logout",message:"Are you sure you want to log out? Any unsaved changes will be lost.",onConfirm:d,onCancel:()=>r(!1),confirmText:"Log Out",cancelText:"Cancel"})]})},Ln=({title:e,value:s,linkTo:a,icon:l,colorClass:n})=>t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center",children:[t.jsx("div",{className:`mr-4 p-3 rounded-full ${n}`,children:l}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-gray-500 text-sm font-medium uppercase",children:e}),t.jsx("p",{className:"text-3xl font-bold mt-1 text-brand-dark",children:s}),t.jsx($,{to:a,className:"text-sm font-semibold text-brand-red hover:underline mt-2 inline-block",children:"Manage →"})]})]}),jv=()=>{const[e,s]=c.useState([]),[a,l]=c.useState([]),[n,r]=c.useState([]),[i,o]=c.useState(0),[d,u]=c.useState(0);return c.useEffect(()=>{const h=()=>{const x=E("students",ne);s(x);const y=E("faculty",ce);l(y);const p=E("pendingApplications",[]);o(p.length);const b=E("blogs",un),v=E("salaryRequests",[]);let N=0;x.forEach(k=>{var T;const w=(k.totalFee||0)-(k.discount||0),S=((T=k.paymentHistory)==null?void 0:T.filter(C=>C.status==="Paid").reduce((C,A)=>C+A.amount,0))||0;N+=w-S}),u(N);const f=p.map(k=>({id:k.id,type:"Application",text:`${k.fullName} applied for ${k.program}.`,date:new Date(k.submittedDate),link:"/admin-portal/admissions"})),m=b.filter(k=>k.status==="Published").map(k=>({id:k.id,type:"Blog Post",text:`New post published: "${k.title}"`,date:new Date(k.publicationDate),link:"/admin-portal/content"})),j=v.filter(k=>k.status==="Pending").map(k=>({id:k.id,type:"Salary Request",text:`${k.facultyName} sent a salary request.`,date:new Date(k.requestDate),link:"/admin-portal/salary"})),g=[...f,...m,...j].sort((k,w)=>w.date.getTime()-k.date.getTime());r(g.slice(0,5))};return h(),window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)},[]),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark mb-8",children:"Admin Dashboard"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx(Ln,{title:"Total Students",value:e.length,linkTo:"/admin-portal/students",colorClass:"bg-blue-100",icon:t.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),t.jsx(Ln,{title:"Total Faculty",value:a.length,linkTo:"/admin-portal/faculty",colorClass:"bg-green-100",icon:t.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.67c.12-.24.232-.487.34-.737m-4.118 6.075c.62-1.299 1.154-2.697 1.6-4.125m.001-3.75v.01c0 .218.01.437.028.65m-3.75 0c.056.126.118.25.185.375m-3.75 0a9.348 9.348 0 019-5.334c1.5 0 2.896.398 4.121.952A4.125 4.125 0 009 12.348M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})}),t.jsx(Ln,{title:"Pending Applications",value:i,linkTo:"/admin-portal/admissions",colorClass:"bg-yellow-100",icon:t.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})}),t.jsx(Ln,{title:"Outstanding Fees",value:`NPR ${d.toLocaleString()}`,linkTo:"/admin-portal/fees",colorClass:"bg-red-100",icon:t.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"})})})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-xl font-bold text-brand-dark mb-4",children:"Recent Activity"}),n.length>0?t.jsx("ul",{className:"space-y-3",children:n.map(h=>t.jsxs("li",{className:"flex items-center p-2 bg-gray-50 rounded-md",children:[t.jsx("span",{className:`mr-3 px-2 py-0.5 text-xs font-semibold rounded-full ${h.type==="Application"?"bg-blue-100 text-blue-800":h.type==="Salary Request"?"bg-yellow-100 text-yellow-800":"bg-purple-100 text-purple-800"}`,children:h.type}),t.jsx("span",{className:"flex-grow text-sm text-gray-700",children:h.text}),t.jsx($,{to:h.link,className:"text-xs font-semibold text-brand-red hover:underline ml-4",children:"View"})]},h.id))}):t.jsx("p",{className:"text-gray-600 text-center py-4",children:"No recent activity to show."})]})]})},We=({label:e,value:s})=>t.jsxs("div",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:e}),t.jsx("dd",{className:"mt-1 text-md text-gray-900",children:s})]}),Nv=({rating:e})=>t.jsx("div",{className:"flex",children:[...Array(5)].map((s,a)=>t.jsx("svg",{className:`w-5 h-5 ${a<Math.round(e)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},a))}),wv=({isOpen:e,onClose:s,student:a,onSave:l})=>{const[n,r]=c.useState("Overview"),[i,o]=c.useState(!1),[d,u]=c.useState(a),h=c.useRef(null),x=c.useMemo(()=>{var C;const g=a.totalFee||0,k=a.discount||0,w=g-k,S=((C=a.paymentHistory)==null?void 0:C.filter(A=>A.status==="Paid").reduce((A,M)=>A+M.amount,0))||0,T=w-S;return{totalFee:g,discount:k,netFee:w,paidAmount:S,outstanding:T}},[a]),y=c.useMemo(()=>{const g=new Map;return we.forEach(k=>{k.papers.forEach(w=>{const S=w.split(":")[0].trim();g.set(S,w)})}),g},[]),p=g=>y.get(g)||g,b=c.useMemo(()=>{if(!a.attendance||Object.keys(a.attendance).length===0)return"N/A";const g=Object.values(a.attendance);return`${(g.reduce((S,T)=>S+T,0)/g.length).toFixed(1)}%`},[a.attendance]),v=c.useMemo(()=>Wd.filter(g=>g.studentId===a.id),[a.id]);c.useEffect(()=>{const g=k=>{k.key==="Escape"&&s()};return e&&(document.addEventListener("keydown",g),u(a),o(!1),r("Overview")),()=>document.removeEventListener("keydown",g)},[e,a,s]);const N=g=>{const{name:k,value:w}=g.target;u(S=>({...S,[k]:w}))},f=()=>{l(d),o(!1)},m=()=>{u(a),o(!1)};if(!e)return null;const j=()=>{switch(n){case"Overview":return i?t.jsx("form",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),t.jsx("input",{name:"name",value:d.name,onChange:N,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Student ID"}),t.jsx("input",{name:"studentId",value:d.studentId,onChange:N,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),t.jsx("input",{name:"email",type:"email",value:d.email,onChange:N,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),t.jsx("input",{name:"phone",type:"tel",value:d.phone,onChange:N,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),t.jsx("input",{name:"address",value:d.address,onChange:N,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),t.jsx("input",{type:"date",name:"dob",value:d.dob,onChange:N,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Social Media URL"}),t.jsx("input",{type:"url",name:"socialMediaUrl",value:d.socialMediaUrl||"",onChange:N,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Level"}),t.jsxs("select",{name:"currentLevel",value:d.currentLevel,onChange:N,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white",children:[t.jsx("option",{children:"Applied Knowledge"}),t.jsx("option",{children:"Applied Skills"}),t.jsx("option",{children:"Strategic Professional"})]})]})]})}):t.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-6",children:[t.jsx(We,{label:"Full Name",value:a.name}),t.jsx(We,{label:"Student ID",value:a.studentId}),t.jsx(We,{label:"Email Address",value:a.email}),t.jsx(We,{label:"Phone Number",value:a.phone}),t.jsx(We,{label:"Date of Birth",value:a.dob}),t.jsx(We,{label:"Address",value:a.address}),a.socialMediaUrl&&t.jsxs("div",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Social Media"}),t.jsx("dd",{className:"mt-1 text-md text-gray-900",children:t.jsx("a",{href:a.socialMediaUrl,target:"_blank",rel:"noopener noreferrer",className:"text-brand-red hover:underline break-all",children:a.socialMediaUrl})})]}),t.jsx(We,{label:"Enrollment Date",value:a.enrollmentDate}),t.jsx(We,{label:"Current Level",value:a.currentLevel}),t.jsx(We,{label:"Overall Attendance",value:b})]});case"Academics":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg mb-2 text-brand-dark",children:"Enrolled Papers"}),t.jsx("ul",{className:"list-disc list-inside bg-gray-50 p-4 rounded-md",children:a.enrolledPapers.map(g=>t.jsx("li",{children:p(g)},g))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg mb-2 text-brand-dark",children:"Mock Exam Results History"}),t.jsx("div",{className:"border rounded-md overflow-hidden max-h-64 overflow-y-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-gray-100 sticky top-0",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-2 text-left",children:"Paper"}),t.jsx("th",{className:"p-2 text-center",children:"Score"}),t.jsx("th",{className:"p-2 text-center",children:"Date"})]})}),t.jsx("tbody",{className:"divide-y",children:Object.entries(a.grades||{}).length>0?Object.entries(a.grades||{}).flatMap(([g,k])=>k.map((w,S)=>t.jsxs("tr",{children:[t.jsx("td",{className:"p-2",children:p(g)}),t.jsx("td",{className:"p-2 text-center font-mono",children:w.score}),t.jsx("td",{className:"p-2 text-center font-mono",children:w.date})]},`${g}-${S}`))).sort((g,k)=>new Date(k.props.children[2].props.children).getTime()-new Date(g.props.children[2].props.children).getTime()):t.jsx("tr",{children:t.jsx("td",{colSpan:3,className:"p-4 text-center text-gray-500",children:"No mock results recorded."})})})]})})]})]});case"Finances":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-brand-beige p-4 rounded-lg shadow-inner",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"col-span-1",children:t.jsx(We,{label:"Total Fee",value:`NPR ${x.totalFee.toLocaleString()}`})}),t.jsx("div",{className:"col-span-1",children:t.jsx(We,{label:"Discount",value:`NPR ${x.discount.toLocaleString()}`})}),t.jsx("div",{className:"col-span-2",children:t.jsx(We,{label:"Net Payable",value:`NPR ${x.netFee.toLocaleString()}`})}),t.jsx("div",{className:"col-span-2",children:t.jsx(We,{label:"Amount Paid",value:`NPR ${x.paidAmount.toLocaleString()}`})}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Outstanding"}),t.jsxs("p",{className:"mt-1 text-2xl font-bold text-brand-red",children:["NPR ",x.outstanding.toLocaleString()]})]})]}),a.feeRemarks&&t.jsxs("div",{className:"mt-4 pt-4 border-t",children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Admin Remarks"}),t.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',a.feeRemarks,'"']})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg mb-2 text-brand-dark",children:"Payment History"}),t.jsx("div",{className:"border rounded-md overflow-hidden max-h-64 overflow-y-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-gray-100 sticky top-0",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-2 text-left",children:"Date"}),t.jsx("th",{className:"p-2 text-left",children:"Method"}),t.jsx("th",{className:"p-2 text-right",children:"Amount"}),t.jsx("th",{className:"p-2 text-center",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y",children:a.paymentHistory&&a.paymentHistory.length>0?a.paymentHistory.map(g=>t.jsxs("tr",{children:[t.jsx("td",{className:"p-2 font-mono",children:g.date}),t.jsx("td",{className:"p-2",children:g.method}),t.jsxs("td",{className:"p-2 text-right font-mono",children:["NPR ",g.amount.toLocaleString()]}),t.jsxs("td",{className:"p-2 text-center",children:[t.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${g.status==="Paid"?"bg-green-100 text-green-700":g.status==="Rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:g.status}),g.rejectionReason&&t.jsx("p",{className:"text-xs text-red-600 mt-1 italic",children:g.rejectionReason})]})]},g.invoiceId)):t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"p-4 text-center text-gray-500",children:"No payment history."})})})]})})]})]});case"Reviews":return t.jsx("div",{children:v.length>0?t.jsx("div",{className:"space-y-4",children:v.map(g=>t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-brand-dark",children:["Feedback for ",g.teacherName]}),t.jsx("p",{className:"text-sm text-gray-500",children:g.classTopic})]}),t.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[t.jsx(Nv,{rating:g.rating}),t.jsx("p",{className:"text-xs text-gray-400 mt-1 font-mono",children:g.date})]})]}),t.jsxs("p",{className:"mt-2 text-gray-700 italic",children:['"',g.feedback,'"']})]},g.id))}):t.jsx("p",{className:"text-center text-gray-500 py-8",children:"No feedback submitted by this student."})})}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,role:"dialog","aria-modal":"true",children:t.jsxs("div",{ref:h,className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"p-4 border-b flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("img",{src:a.avatarUrl,alt:a.name,className:"w-16 h-16 rounded-full border-2 border-brand-red"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:a.name}),t.jsx("p",{className:"text-gray-500 font-mono",children:a.studentId})]})]}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl","aria-label":"Close modal",children:"×"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[t.jsx("div",{className:"border-b border-gray-200 mb-6",children:t.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:["Overview","Academics","Finances","Reviews"].map(g=>t.jsx("button",{onClick:()=>r(g),className:`${n===g?"border-brand-red text-brand-red":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm`,children:g},g))})}),t.jsx("div",{children:j()})]}),t.jsx("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:i?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:m,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{onClick:f,className:"bg-green-600 text-white font-semibold px-4 py-2 rounded-md hover:bg-green-700",children:"Save Changes"})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>o(!0),disabled:n!=="Overview",className:"bg-blue-600 text-white font-semibold px-4 py-2 rounded-md hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Edit Details"}),t.jsx("button",{onClick:s,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Close"})]})})]})})},Sv=()=>{const[e,s]=c.useState(()=>{try{const C=localStorage.getItem("students");if(C){const A=JSON.parse(C);if(Array.isArray(A))return A}}catch(C){console.error("Failed to load students from localStorage",C)}return ne}),[a,l]=c.useState(""),[n,r]=c.useState("All"),[i,o]=c.useState({from:"",to:""}),[d,u]=c.useState(null),[h,x]=c.useState(""),[y,p]=c.useState(null),[b,v]=c.useState(null),N=Ae();c.useEffect(()=>{try{localStorage.setItem("students",JSON.stringify(e))}catch(C){console.error("Failed to save students to localStorage",C)}},[e]);const f=c.useMemo(()=>e.filter(C=>C.name.toLowerCase().includes(a.toLowerCase())||C.studentId.toLowerCase().includes(a.toLowerCase())||C.email.toLowerCase().includes(a.toLowerCase())).filter(C=>n==="All"||C.currentLevel===n).filter(C=>{if(!i.from&&!i.to)return!0;const A=new Date(C.enrollmentDate);if(A.setHours(0,0,0,0),i.from&&A<new Date(i.from))return!1;if(i.to){const M=new Date(i.to);if(M.setHours(23,59,59,999),A>M)return!1}return!0}),[e,a,n,i]),m=C=>{u(C)},j=()=>{u(null)},g=C=>{s(A=>A.map(M=>M.id===C.id?C:M)),u(null)},k=C=>{p(C)},w=()=>{y&&(s(C=>C.filter(A=>A.id!==y.id)),x(`Student "${y.name}" has been deleted successfully.`),setTimeout(()=>x(""),3e3),p(null))},S=C=>{v(C)},T=()=>{if(!b)return;const{user:C,role:A}=Wa();C&&A==="admin"?(sessionStorage.setItem("impersonator",JSON.stringify({user:C,role:A})),sessionStorage.setItem("loggedInUser",JSON.stringify(b)),sessionStorage.setItem("userRole","student"),N("/student-portal/dashboard")):alert("Error: Impersonation failed. Not logged in as admin."),v(null)};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start mb-8 gap-4",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-brand-dark flex-shrink-0",children:"Manage Students"}),t.jsxs("div",{className:"w-full md:w-auto bg-gray-50 p-4 rounded-lg border space-y-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full",children:[t.jsxs("div",{className:"relative w-full sm:w-auto",children:[t.jsx("input",{type:"text",placeholder:"Search students...",value:a,onChange:C=>l(C.target.value),className:"pl-10 pr-4 py-2 border rounded-lg w-full sm:w-64 bg-white"}),t.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),t.jsxs("div",{className:"relative w-full sm:w-auto",children:[t.jsxs("select",{value:n,onChange:C=>r(C.target.value),className:"w-full appearance-none border rounded-lg py-2 pl-3 pr-10 bg-white",children:[t.jsx("option",{value:"All",children:"All Levels"}),t.jsx("option",{value:"Applied Knowledge",children:"Applied Knowledge"}),t.jsx("option",{value:"Applied Skills",children:"Applied Skills"}),t.jsx("option",{value:"Strategic Professional",children:"Strategic Professional"})]}),t.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"fromDate",className:"text-sm font-medium text-gray-500",children:"Enrolled From"}),t.jsx("input",{type:"date",id:"fromDate",value:i.from,onChange:C=>o(A=>({...A,from:C.target.value})),className:"mt-1 block w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"toDate",className:"text-sm font-medium text-gray-500",children:"Enrolled To"}),t.jsx("input",{type:"date",id:"toDate",value:i.to,onChange:C=>o(A=>({...A,to:C.target.value})),className:"mt-1 block w-full p-2 border rounded-md bg-white"})]})]})]})]}),h&&t.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md transition-opacity duration-300",children:h}),t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left min-w-[700px]",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Student Name"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Student ID"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Email"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Level"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",children:f.map(C=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"p-4 flex items-center",children:[t.jsx("img",{src:C.avatarUrl,alt:C.name,className:"w-10 h-10 rounded-full mr-3"}),t.jsx("span",{className:"font-medium",children:C.name})]}),t.jsx("td",{className:"p-4 font-mono text-sm",children:C.studentId}),t.jsx("td",{className:"p-4 text-sm",children:C.email}),t.jsx("td",{className:"p-4 text-sm",children:C.currentLevel}),t.jsxs("td",{className:"p-4 space-x-4 whitespace-nowrap",children:[t.jsx("button",{onClick:()=>m(C),className:"text-sm font-semibold text-blue-600 hover:underline",children:"View Details"}),t.jsx("button",{onClick:()=>S(C),className:"text-sm font-semibold text-green-600 hover:underline",children:"Go to Portal"}),t.jsx("button",{onClick:()=>k(C),className:"text-sm font-semibold text-brand-red hover:underline",children:"Delete"})]})]},C.id))})]})})}),d&&t.jsx(wv,{isOpen:!!d,onClose:j,student:d,onSave:g}),t.jsx(ot,{isOpen:!!y,title:"Confirm Deletion",message:`Are you sure you want to permanently delete the student "${y==null?void 0:y.name}"? This action cannot be undone.`,onConfirm:w,onCancel:()=>p(null),confirmText:"Delete"}),t.jsx(ot,{isOpen:!!b,title:"Confirm Portal Access",message:`Are you sure you want to log in as "${b==null?void 0:b.name}"? You will be redirected to their student portal.`,onConfirm:T,onCancel:()=>v(null),confirmText:"Log in as Student",cancelText:"Cancel"})]})},kv=({isOpen:e,onClose:s,onAddFaculty:a})=>{const l={name:"",username:"",email:"",phone:"",address:"",dob:"",socialMediaUrl:"",qualification:"",bio:"",password:"",baseSalary:0},[n,r]=c.useState(l),[i,o]=c.useState([]),[d,u]=c.useState(null),[h,x]=c.useState(null),[y,p]=c.useState([]),b=c.useRef(null);c.useEffect(()=>{const g=localStorage.getItem("courses");p(g?JSON.parse(g):we)},[e]);const v=y.flatMap(g=>g.papers);c.useEffect(()=>{const g=k=>{k.key==="Escape"&&s()};return e&&(document.addEventListener("keydown",g),r(l),o([]),u(null),x(null)),()=>document.removeEventListener("keydown",g)},[e,s,l]);const N=g=>{const{name:k,value:w}=g.target;r({...n,[k]:k==="baseSalary"?parseInt(w,10)||0:w})},f=g=>{const k=g.target.options,w=[];for(let S=0,T=k.length;S<T;S++)k[S].selected&&w.push(k[S].value);o(w)},m=g=>{if(g.target.files&&g.target.files[0]){const k=g.target.files[0];u(k),x(URL.createObjectURL(k))}},j=async g=>{g.preventDefault(),console.log(`Creating faculty ${n.name} with password: ${n.password}`);const k=d?await qe(d,{maxWidth:400,maxHeight:400,quality:.8}):`https://picsum.photos/seed/${n.name.replace(/\s+/g,"")}/400/400`,w={id:Date.now(),...n,imageUrl:k,assignedPapers:i};a(w)};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,role:"dialog","aria-modal":"true",children:t.jsxs("div",{ref:b,className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:g=>g.stopPropagation(),children:[t.jsx("div",{className:"p-4 border-b",children:t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Register New Faculty"})}),t.jsxs("form",{onSubmit:j,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),t.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:n.name,onChange:N,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),t.jsx("input",{type:"text",name:"username",id:"username",required:!0,value:n.username,onChange:N,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),t.jsx("input",{type:"email",name:"email",id:"email",required:!0,value:n.email,onChange:N,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),t.jsx("input",{type:"tel",name:"phone",id:"phone",required:!0,value:n.phone,onChange:N,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"qualification",className:"block text-sm font-medium text-gray-700",children:"Qualification"}),t.jsx("input",{type:"text",name:"qualification",id:"qualification",required:!0,value:n.qualification,onChange:N,placeholder:"e.g., PhD, FCCA",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"baseSalary",className:"block text-sm font-medium text-gray-700",children:"Base Salary (NPR)"}),t.jsx("input",{type:"number",name:"baseSalary",id:"baseSalary",required:!0,value:n.baseSalary,onChange:N,placeholder:"e.g., 80000",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),t.jsx("textarea",{name:"address",id:"address",rows:2,required:!0,value:n.address,onChange:N,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"dob",className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),t.jsx("input",{type:"date",name:"dob",id:"dob",required:!0,value:n.dob,onChange:N,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"socialMediaUrl",className:"block text-sm font-medium text-gray-700",children:"Social Media URL (Optional)"}),t.jsx("input",{type:"url",name:"socialMediaUrl",id:"socialMediaUrl",value:n.socialMediaUrl,onChange:N,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white",placeholder:"https://www.linkedin.com/in/..."})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Set Initial Password"}),t.jsx("input",{type:"password",name:"password",id:"password",required:!0,value:n.password,onChange:N,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Biography"}),t.jsx("textarea",{name:"bio",id:"bio",rows:3,required:!0,value:n.bio,onChange:N,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"assignedPapers",className:"block text-sm font-medium text-gray-700",children:"Assign Papers"}),t.jsx("select",{id:"assignedPapers",name:"assignedPapers",multiple:!0,required:!0,value:i,onChange:f,className:"mt-1 block w-full h-32 px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red",children:v.map(g=>t.jsx("option",{value:g,children:g},g))}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple papers."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Profile Picture"}),t.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[t.jsx("img",{src:h||"https://via.placeholder.com/100",alt:"Profile preview",className:"w-20 h-20 rounded-full object-cover border"}),t.jsx("input",{type:"file",name:"profilePic",accept:"image/*",onChange:m,className:"text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"})]})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:s,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",onClick:j,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Add Faculty Member"})]})]})}):null},na=({label:e,value:s})=>t.jsxs("div",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:e}),t.jsx("dd",{className:"mt-1 text-md text-gray-900",children:s})]}),Cv=({rating:e})=>t.jsx("div",{className:"flex",children:[...Array(5)].map((s,a)=>t.jsx("svg",{className:`w-5 h-5 ${a<Math.round(e)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},a))}),Av=({isOpen:e,onClose:s,faculty:a,onSave:l})=>{const[n,r]=c.useState("Overview"),[i,o]=c.useState(!1),[d,u]=c.useState(a),h=c.useRef(null),[x,y]=c.useState([]),[p,b]=c.useState([]),v=c.useMemo(()=>we.flatMap(w=>w.papers),[]);c.useEffect(()=>{const w=S=>{S.key==="Escape"&&s()};if(e){document.addEventListener("keydown",w),u(a),o(!1),r("Overview");const S=E("calendarEvents",bs);y(S.filter(C=>C.instructor===a.name&&C.type==="class").sort((C,A)=>new Date(A.date).getTime()-new Date(C.date).getTime()));const T=E("teacherRatings",Wd);b(T.filter(C=>C.teacherId===a.id).sort((C,A)=>new Date(A.date).getTime()-new Date(C.date).getTime()))}return()=>document.removeEventListener("keydown",w)},[e,a,s]);const N=w=>{const{name:S,value:T}=w.target;u(C=>({...C,[S]:T}))},f=async w=>{if(w.target.files&&w.target.files[0]){const S=w.target.files[0],T=await qe(S,{maxWidth:400,maxHeight:400,quality:.8});u(C=>({...C,imageUrl:T}))}},m=w=>{const S=Array.from(w.target.selectedOptions,T=>T.value);u(T=>({...T,assignedPapers:S}))},j=()=>{l(d),o(!1)},g=()=>{u(a),o(!1)};if(!e)return null;const k=()=>{switch(n){case"Overview":return i?t.jsxs("form",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),t.jsx("input",{name:"name",value:d.name,onChange:N,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Qualification"}),t.jsx("input",{name:"qualification",value:d.qualification,onChange:N,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),t.jsx("input",{name:"email",type:"email",value:d.email,onChange:N,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),t.jsx("input",{name:"phone",type:"tel",value:d.phone,onChange:N,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),t.jsx("input",{name:"dob",type:"date",value:d.dob||"",onChange:N,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Social Media URL"}),t.jsx("input",{name:"socialMediaUrl",type:"url",value:d.socialMediaUrl||"",onChange:N,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),t.jsx("textarea",{name:"address",value:d.address,onChange:N,rows:2,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Biography"}),t.jsx("textarea",{name:"bio",value:d.bio,onChange:N,rows:4,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Profile Picture"}),t.jsx("input",{type:"file",accept:"image/*",onChange:f,className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Papers"}),t.jsx("select",{multiple:!0,value:d.assignedPapers,onChange:m,className:"mt-1 block w-full h-32 p-2 border rounded-md bg-white",children:v.map(w=>t.jsx("option",{value:w,children:w},w))}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple faculty."})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-6",children:[t.jsx(na,{label:"Full Name",value:a.name}),t.jsx(na,{label:"Qualification",value:a.qualification}),t.jsx(na,{label:"Email Address",value:a.email}),t.jsx(na,{label:"Phone Number",value:a.phone}),t.jsx(na,{label:"Date of Birth",value:a.dob||"N/A"}),t.jsx(na,{label:"Address",value:a.address}),a.socialMediaUrl&&t.jsxs("div",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Social Media"}),t.jsx("dd",{className:"mt-1 text-md text-gray-900",children:t.jsx("a",{href:a.socialMediaUrl,target:"_blank",rel:"noopener noreferrer",className:"text-brand-red hover:underline break-all",children:a.socialMediaUrl})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg mb-2 text-brand-dark border-b pb-2",children:"Biography"}),t.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:a.bio})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg mb-2 text-brand-dark border-b pb-2",children:"Assigned Papers"}),t.jsx("ul",{className:"list-disc list-inside bg-gray-50 p-4 rounded-md space-y-1",children:a.assignedPapers.map(w=>t.jsx("li",{children:w},w))})]})]});case"Teaching Schedule":return t.jsx("div",{children:x.length>0?t.jsx("div",{className:"border rounded-md overflow-hidden",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-3 text-left font-semibold",children:"Date"}),t.jsx("th",{className:"p-3 text-left font-semibold",children:"Time"}),t.jsx("th",{className:"p-3 text-left font-semibold",children:"Paper"}),t.jsx("th",{className:"p-3 text-left font-semibold",children:"Topic"})]})}),t.jsx("tbody",{className:"divide-y",children:x.map(w=>t.jsxs("tr",{children:[t.jsx("td",{className:"p-3 font-mono",children:w.date}),t.jsxs("td",{className:"p-3",children:[w.startTime," - ",w.endTime]}),t.jsx("td",{className:"p-3",children:w.paper}),t.jsx("td",{className:"p-3",children:w.title})]},w.id))})]})}):t.jsx("p",{className:"text-center text-gray-500 py-8",children:"No classes found in the schedule."})});case"Student Reviews":return t.jsx("div",{children:p.length>0?t.jsx("div",{className:"space-y-4",children:p.map(w=>t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-brand-dark",children:["Feedback from ",w.studentName]}),t.jsx("p",{className:"text-sm text-gray-500",children:w.classTopic})]}),t.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[t.jsx(Cv,{rating:w.rating}),t.jsx("p",{className:"text-xs text-gray-400 mt-1 font-mono",children:w.date})]})]}),t.jsxs("p",{className:"mt-2 text-gray-700 italic",children:['"',w.feedback,'"']})]},w.id))}):t.jsx("p",{className:"text-center text-gray-500 py-8",children:"No feedback submitted for this faculty member yet."})})}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,role:"dialog","aria-modal":"true",children:t.jsxs("div",{ref:h,className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:w=>w.stopPropagation(),children:[t.jsxs("div",{className:"p-4 border-b flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("img",{src:i?d.imageUrl:a.imageUrl,alt:a.name,className:"w-16 h-16 rounded-full border-2 border-brand-red object-cover"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:a.name}),t.jsx("p",{className:"text-gray-500",children:a.qualification})]})]}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl","aria-label":"Close modal",children:"×"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[t.jsx("div",{className:"border-b border-gray-200 mb-6",children:t.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:["Overview","Teaching Schedule","Student Reviews"].map(w=>t.jsx("button",{onClick:()=>r(w),className:`${n===w?"border-brand-red text-brand-red":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm`,children:w},w))})}),t.jsx("div",{children:k()})]}),t.jsx("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:i?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:g,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{onClick:j,className:"bg-green-600 text-white font-semibold px-4 py-2 rounded-md hover:bg-green-700",children:"Save Changes"})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>o(!0),disabled:n!=="Overview",className:"bg-blue-600 text-white font-semibold px-4 py-2 rounded-md hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Edit Details"}),t.jsx("button",{onClick:s,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Close"})]})})]})})},Tv=()=>{const[e,s]=c.useState(()=>{try{const w=localStorage.getItem("faculty");if(w){const S=JSON.parse(w);if(Array.isArray(S))return S}}catch(w){console.error("Failed to load faculty from localStorage",w)}return ce}),[a,l]=c.useState(""),[n,r]=c.useState(!1),[i,o]=c.useState(null),[d,u]=c.useState(""),[h,x]=c.useState(null),[y,p]=c.useState(null),b=Ae();c.useEffect(()=>{try{localStorage.setItem("faculty",JSON.stringify(e))}catch(w){console.error("Failed to save faculty to localStorage",w)}},[e]);const v=e.filter(w=>w.name.toLowerCase().includes(a.toLowerCase())||w.qualification.toLowerCase().includes(a.toLowerCase())||w.email.toLowerCase().includes(a.toLowerCase())),N=w=>{s(S=>[w,...S]),r(!1)},f=w=>{x(w)},m=()=>{h&&(s(w=>w.filter(S=>S.id!==h.id)),u(`Faculty member "${h.name}" has been deleted successfully.`),setTimeout(()=>u(""),3e3),x(null))},j=w=>{s(S=>S.map(T=>T.id===w.id?w:T)),o(null)},g=w=>{p(w)},k=()=>{if(!y)return;const{user:w,role:S}=Wa();w&&S==="admin"?(sessionStorage.setItem("impersonator",JSON.stringify({user:w,role:S})),sessionStorage.setItem("loggedInUser",JSON.stringify(y)),sessionStorage.setItem("userRole","faculty"),b("/faculty-portal/dashboard")):alert("Error: Impersonation failed. Not logged in as admin."),p(null)};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-brand-dark",children:"Manage Faculty"}),t.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[t.jsxs("div",{className:"relative w-full",children:[t.jsx("input",{type:"text",placeholder:"Search faculty...",value:a,onChange:w=>l(w.target.value),className:"pl-10 pr-4 py-2 border rounded-lg w-full md:w-64 bg-white"}),t.jsx("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),t.jsx("button",{onClick:()=>r(!0),className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700 transition-colors flex-shrink-0",children:"Add New Faculty"})]})]}),d&&t.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md transition-opacity duration-300",children:d}),t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Faculty Name"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Email"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Qualification"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Assigned Papers"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",children:v.map(w=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"p-4 flex items-center",children:[t.jsx("img",{src:w.imageUrl,alt:w.name,className:"w-10 h-10 rounded-full mr-3"}),t.jsx("span",{className:"font-medium",children:w.name})]}),t.jsx("td",{className:"p-4 text-sm",children:w.email}),t.jsx("td",{className:"p-4 text-sm",children:w.qualification}),t.jsx("td",{className:"p-4 text-sm",children:w.assignedPapers.length>2?`${w.assignedPapers.slice(0,2).join(", ")}, ...`:w.assignedPapers.join(", ")}),t.jsxs("td",{className:"p-4 space-x-4 whitespace-nowrap",children:[t.jsx("button",{onClick:()=>o(w),className:"text-sm font-semibold text-blue-600 hover:underline",children:"View Details"}),t.jsx("button",{onClick:()=>g(w),className:"text-sm font-semibold text-green-600 hover:underline",children:"Go to Portal"}),t.jsx("button",{onClick:()=>f(w),className:"text-sm font-semibold text-brand-red hover:underline",children:"Delete"})]})]},w.id))})]})})}),t.jsx(kv,{isOpen:n,onClose:()=>r(!1),onAddFaculty:N}),i&&t.jsx(Av,{isOpen:!!i,onClose:()=>o(null),faculty:i,onSave:j}),t.jsx(ot,{isOpen:!!h,title:"Confirm Deletion",message:`Are you sure you want to permanently delete the faculty member "${h==null?void 0:h.name}"? This action cannot be undone.`,onConfirm:m,onCancel:()=>x(null),confirmText:"Delete"}),t.jsx(ot,{isOpen:!!y,title:"Confirm Portal Access",message:`Are you sure you want to log in as "${y==null?void 0:y.name}"? You will be redirected to their faculty portal.`,onConfirm:k,onCancel:()=>p(null),confirmText:"Log in as Faculty",cancelText:"Cancel"})]})},Mv=({isOpen:e,onClose:s,courseToEdit:a,onSave:l})=>{const[n,r]=c.useState(a),[i,o]=c.useState([]),d=c.useRef(null);c.useEffect(()=>{if(e){r(a);const N=localStorage.getItem("faculty");o(N?JSON.parse(N):ce)}},[e,a]);const u=N=>{const{name:f,value:m}=N.target;r(j=>({...j,[f]:m}))},h=(N,f)=>{const{value:m}=N.target;r(j=>({...j,[f]:m.split(`
`)}))},x=N=>{const f=Array.from(N.target.selectedOptions,m=>Number(m.value));r(m=>({...m,facultyIds:f}))},y=(N,f,m)=>{const j=[...n.syllabus];j[N]={...j[N],[f]:m},r(g=>({...g,syllabus:j}))},p=()=>{r(N=>({...N,syllabus:[...N.syllabus,{topic:"",details:""}]}))},b=N=>{r(f=>({...f,syllabus:f.syllabus.filter((m,j)=>j!==N)}))},v=N=>{N.preventDefault(),l(n)};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,children:t.jsxs("div",{ref:d,className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:N=>N.stopPropagation(),children:[t.jsx("div",{className:"p-4 border-b",children:t.jsxs("h2",{className:"text-2xl font-bold text-brand-dark",children:["Edit Course: ",a.title]})}),t.jsxs("form",{onSubmit:v,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Title"}),t.jsx("input",{name:"title",value:n.title,onChange:u,className:"mt-1 block w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Level"}),t.jsxs("select",{name:"level",value:n.level,onChange:u,className:"mt-1 block w-full p-2 border rounded-md bg-white",children:[t.jsx("option",{children:"Applied Knowledge"}),t.jsx("option",{children:"Applied Skills"}),t.jsx("option",{children:"Strategic Professional"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Description"}),t.jsx("textarea",{name:"description",value:n.description,onChange:u,rows:3,className:"mt-1 block w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Duration"}),t.jsx("input",{name:"duration",value:n.duration,onChange:u,className:"mt-1 block w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Eligibility"}),t.jsx("input",{name:"eligibility",value:n.eligibility,onChange:u,className:"mt-1 block w-full p-2 border rounded-md bg-white"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Papers (one per line)"}),t.jsx("textarea",{value:n.papers.join(`
`),onChange:N=>h(N,"papers"),rows:5,className:"mt-1 block w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Learning Outcomes (one per line)"}),t.jsx("textarea",{value:n.learningOutcomes.join(`
`),onChange:N=>h(N,"learningOutcomes"),rows:5,className:"mt-1 block w-full p-2 border rounded-md bg-white"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Syllabus"}),t.jsx("div",{className:"space-y-2 mt-1 border p-2 rounded-md max-h-48 overflow-y-auto",children:n.syllabus.map((N,f)=>t.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white rounded border",children:[t.jsxs("div",{className:"flex-grow",children:[t.jsx("input",{value:N.topic,onChange:m=>y(f,"topic",m.target.value),placeholder:"Topic",className:"block w-full p-1 border rounded text-sm bg-white"}),t.jsx("textarea",{value:N.details,onChange:m=>y(f,"details",m.target.value),placeholder:"Details",rows:2,className:"mt-1 block w-full p-1 border rounded text-sm bg-white"})]}),t.jsx("button",{type:"button",onClick:()=>b(f),className:"text-red-500 hover:text-red-700 font-bold text-lg",children:"×"})]},f))}),t.jsx("button",{type:"button",onClick:p,className:"mt-2 text-sm text-blue-600 font-semibold hover:underline",children:"Add Syllabus Item"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Assign Faculty"}),t.jsx("select",{multiple:!0,value:n.facultyIds.map(String),onChange:x,className:"mt-1 block w-full h-32 p-2 border rounded-md bg-white",children:i.map(N=>t.jsx("option",{value:N.id,children:N.name},N.id))}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple faculty."})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:s,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",onClick:v,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Save Changes"})]})]})}):null},Dv=({isOpen:e,onClose:s,onSave:a})=>{const l={title:"",level:"Applied Knowledge",description:"",duration:"",eligibility:"",papers:[],syllabus:[{topic:"",details:""}],learningOutcomes:[]},[n,r]=c.useState(l),i=c.useRef(null);c.useEffect(()=>{e&&r(l)},[e]);const o=p=>{const{name:b,value:v}=p.target;r(N=>({...N,[b]:v}))},d=(p,b)=>{const{value:v}=p.target;r(N=>({...N,[b]:v.split(`
`).filter(f=>f.trim()!=="")}))},u=(p,b,v)=>{const N=[...n.syllabus];N[p]={...N[p],[b]:v},r(f=>({...f,syllabus:N}))},h=()=>{r(p=>({...p,syllabus:[...p.syllabus,{topic:"",details:""}]}))},x=p=>{r(b=>({...b,syllabus:b.syllabus.filter((v,N)=>N!==p)}))},y=p=>{p.preventDefault();const b={...n,id:n.title.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),studentIds:[],facultyIds:[]};a(b)};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,children:t.jsxs("div",{ref:i,className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:p=>p.stopPropagation(),children:[t.jsx("div",{className:"p-4 border-b",children:t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Add New Course"})}),t.jsxs("form",{onSubmit:y,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Title"}),t.jsx("input",{name:"title",value:n.title,onChange:o,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Level"}),t.jsxs("select",{name:"level",value:n.level,onChange:o,className:"mt-1 block w-full p-2 border rounded-md bg-white",children:[t.jsx("option",{children:"Applied Knowledge"}),t.jsx("option",{children:"Applied Skills"}),t.jsx("option",{children:"Strategic Professional"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Description"}),t.jsx("textarea",{name:"description",value:n.description,onChange:o,rows:3,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Duration"}),t.jsx("input",{name:"duration",value:n.duration,onChange:o,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Eligibility"}),t.jsx("input",{name:"eligibility",value:n.eligibility,onChange:o,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Papers (one per line)"}),t.jsx("textarea",{value:n.papers.join(`
`),onChange:p=>d(p,"papers"),rows:5,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Learning Outcomes (one per line)"}),t.jsx("textarea",{value:n.learningOutcomes.join(`
`),onChange:p=>d(p,"learningOutcomes"),rows:5,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Syllabus"}),t.jsx("div",{className:"space-y-2 mt-1 border p-2 rounded-md max-h-48 overflow-y-auto",children:n.syllabus.map((p,b)=>t.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white rounded border",children:[t.jsxs("div",{className:"flex-grow",children:[t.jsx("input",{value:p.topic,onChange:v=>u(b,"topic",v.target.value),placeholder:"Topic",className:"block w-full p-1 border rounded text-sm bg-white",required:!0}),t.jsx("textarea",{value:p.details,onChange:v=>u(b,"details",v.target.value),placeholder:"Details",rows:2,className:"mt-1 block w-full p-1 border rounded text-sm bg-white",required:!0})]}),t.jsx("button",{type:"button",onClick:()=>x(b),className:"text-red-500 hover:text-red-700 font-bold text-lg",children:"×"})]},b))}),t.jsx("button",{type:"button",onClick:h,className:"mt-2 text-sm text-blue-600 font-semibold hover:underline",children:"Add Syllabus Item"})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:s,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",onClick:y,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Add Course"})]})]})}):null},Ev=()=>{const[e,s]=c.useState(()=>{try{const b=localStorage.getItem("courses");return b?JSON.parse(b):we}catch{return we}}),[a,l]=c.useState(null),[n,r]=c.useState(!1),[i,o]=c.useState(""),[d,u]=c.useState(null);c.useEffect(()=>{localStorage.setItem("courses",JSON.stringify(e))},[e]);const h=b=>{u(b)},x=()=>{d&&(s(b=>b.filter(v=>v.id!==d.id)),o(`Course "${d.title}" has been deleted successfully.`),setTimeout(()=>o(""),3e3),u(null))},y=b=>{a&&s(v=>v.map(N=>N.id===b.id?b:N)),l(null)},p=b=>{s(v=>[b,...v]),r(!1)};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-brand-dark",children:"Manage Courses"}),t.jsx("button",{onClick:()=>r(!0),className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700 transition-colors w-full md:w-auto",children:"Add New Course"})]}),i&&t.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md transition-opacity duration-300",children:i}),t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left min-w-[700px]",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Course Title"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Level"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Papers"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase text-center",children:"Enrolled"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",children:e.map(b=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"p-4",children:t.jsx("p",{className:"font-medium",children:b.title})}),t.jsx("td",{className:"p-4 text-sm",children:b.level}),t.jsx("td",{className:"p-4 text-sm",children:b.papers.length}),t.jsx("td",{className:"p-4 text-center font-mono",children:b.studentIds.length}),t.jsxs("td",{className:"p-4 space-x-2 whitespace-nowrap",children:[t.jsx($,{to:`/courses/${b.id}`,className:"text-sm font-semibold text-blue-600 hover:underline",children:"View"}),t.jsx("button",{onClick:()=>l(b),className:"text-sm font-semibold text-yellow-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>h(b),className:"text-sm font-semibold text-brand-red hover:underline",children:"Delete"})]})]},b.id))})]})})}),a&&t.jsx(Mv,{isOpen:!!a,onClose:()=>l(null),courseToEdit:a,onSave:y}),t.jsx(Dv,{isOpen:n,onClose:()=>r(!1),onSave:p}),t.jsx(ot,{isOpen:!!d,title:"Confirm Deletion",message:`Are you sure you want to permanently delete the course "${d==null?void 0:d.title}"? This action cannot be undone.`,onConfirm:x,onCancel:()=>u(null),confirmText:"Delete"})]})},Lv=({isOpen:e,onClose:s,onAddStudent:a})=>{const l={fullName:"",email:"",phone:"",address:"",dob:"",socialMediaUrl:"",program:we[0].title,password:"",studentId:""},[n,r]=c.useState(l),[i,o]=c.useState([]),[d,u]=c.useState(""),[h,x]=c.useState(null),[y,p]=c.useState(null),[b,v]=c.useState(null),N=c.useRef(null),f=/^S\d{5}$/,m=c.useMemo(()=>we.find(C=>C.title===n.program),[n.program]);c.useEffect(()=>{o([])},[n.program]);const j=C=>C?f.test(C)?(u(""),!0):(u("Student ID must start with 'S' followed by 5 digits (e.g., S12345)."),!1):(u("Student ID is required."),!1);c.useEffect(()=>{const C=A=>{A.key==="Escape"&&s()};return e&&(document.addEventListener("keydown",C),r(l),o([]),u(""),x(null),p(null),v(null)),()=>document.removeEventListener("keydown",C)},[e,s,l]);const g=C=>{const{name:A,value:M}=C.target;r({...n,[A]:M}),A==="studentId"&&j(M)},k=C=>{const{value:A,checked:M}=C.target;if(m!=null&&m.options&&(m!=null&&m.maxOptions)){const R=i.filter(O=>m.options.includes(O));if(M&&R.length>=m.maxOptions){C.preventDefault();return}}o(R=>M?[...R,A]:R.filter(O=>O!==A))},w=C=>{if(C.target.name==="document")x(C.target.files?C.target.files[0]:null);else if(C.target.name==="photo")if(C.target.files&&C.target.files[0]){const A=C.target.files[0];p(A),v(URL.createObjectURL(A))}else p(null),v(null)},S=async C=>{if(C.preventDefault(),!j(n.studentId))return;const{password:A,...M}=n,R=y?await qe(y,{maxWidth:200,maxHeight:200,quality:.8}):`https://ui-avatars.com/api/?name=${encodeURIComponent(n.fullName)}&background=random&color=fff`,O={id:Date.now(),fullName:M.fullName,email:M.email,phone:M.phone,address:M.address,dob:M.dob,socialMediaUrl:M.socialMediaUrl,program:M.program,selectedPapers:i,studentId:M.studentId,submittedDate:new Date().toISOString().split("T")[0],status:"Approved",documentUrl:h?"#":void 0,photoUrl:R};a(O,A)},T=c.useMemo(()=>!(m!=null&&m.options)||!(m!=null&&m.maxOptions)?!1:i.filter(A=>m.options.includes(A)).length>=m.maxOptions,[i,m]);return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,role:"dialog","aria-modal":"true",children:t.jsx("div",{ref:N,className:"bg-white rounded-lg shadow-2xl w-full max-w-lg",onClick:C=>C.stopPropagation(),children:t.jsxs("form",{onSubmit:S,children:[t.jsx("div",{className:"p-4 border-b",children:t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Manual Student Admission"})}),t.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),t.jsx("input",{type:"text",name:"fullName",id:"fullName",required:!0,value:n.fullName,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"studentId",className:"block text-sm font-medium text-gray-700",children:"Student ID"}),t.jsx("input",{type:"text",name:"studentId",id:"studentId",required:!0,value:n.studentId,onChange:g,className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none bg-white ${d?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-brand-red focus:border-brand-red"}`,"aria-invalid":!!d,"aria-describedby":"studentId-error"}),d&&t.jsx("p",{id:"studentId-error",className:"mt-2 text-sm text-red-600",children:d})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),t.jsx("input",{type:"email",name:"email",id:"email",required:!0,value:n.email,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Set Initial Password"}),t.jsx("input",{type:"password",name:"password",id:"password",required:!0,value:n.password,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),t.jsx("input",{type:"tel",name:"phone",id:"phone",required:!0,value:n.phone,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),t.jsx("textarea",{name:"address",id:"address",rows:2,required:!0,value:n.address,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"dob",className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),t.jsx("input",{type:"date",name:"dob",id:"dob",required:!0,value:n.dob,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"socialMediaUrl",className:"block text-sm font-medium text-gray-700",children:"Social Media URL (Optional)"}),t.jsx("input",{type:"url",name:"socialMediaUrl",id:"socialMediaUrl",value:n.socialMediaUrl,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white",placeholder:"https://www.linkedin.com/in/..."})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"program",className:"block text-sm font-medium text-gray-700",children:"Program"}),t.jsx("select",{name:"program",id:"program",required:!0,value:n.program,onChange:g,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red",children:we.map(C=>t.jsx("option",{value:C.title,children:C.title},C.id))})]}),(m==null?void 0:m.papers)&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Papers"}),t.jsxs("div",{className:"mt-2 border p-3 rounded-md bg-gray-50 max-h-32 overflow-y-auto",children:[m.options&&t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-sm text-gray-600 mb-2",children:["Select Papers ",m.maxOptions?`(Choose up to ${m.maxOptions})`:""]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:m.options.map(C=>t.jsxs("label",{className:`flex items-center space-x-2 ${T&&!i.includes(C)?"cursor-not-allowed text-gray-400":""}`,children:[t.jsx("input",{type:"checkbox",value:C,checked:i.includes(C),onChange:k,disabled:T&&!i.includes(C),className:"rounded border-gray-300 text-brand-red shadow-sm focus:border-brand-red focus:ring focus:ring-offset-0 focus:ring-red-200 focus:ring-opacity-50 disabled:bg-gray-200"}),t.jsx("span",{children:C})]},C))})]}),!m.essentials&&!m.options&&t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:m.papers.map(C=>t.jsxs("label",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",value:C,checked:i.includes(C),onChange:k,className:"rounded border-gray-300 text-brand-red shadow-sm"}),t.jsx("span",{children:C})]},C))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Student Photo"}),t.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[t.jsx("img",{src:b||"https://via.placeholder.com/100",alt:"Photo preview",className:"w-20 h-20 rounded-full object-cover border"}),t.jsx("input",{type:"file",name:"photo",id:"photo",accept:"image/*",onChange:w,className:"text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"document",className:"block text-sm font-medium text-gray-700",children:"Upload Transcript/Certificate (Optional)"}),t.jsx("input",{type:"file",name:"document",id:"document",onChange:w,className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:s,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Admit Student"})]})]})})}):null},Us=({label:e,value:s})=>t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),t.jsx("p",{className:"mt-1 text-md text-gray-900",children:s||"N/A"})]}),Rv=({application:e,onClose:s,onConfirmApproval:a,onReject:l,suggestedStudentId:n})=>{const r=c.useRef(null),[i,o]=c.useState(!1),[d,u]=c.useState(n),[h,x]=c.useState(""),[y,p]=c.useState(""),[b,v]=c.useState(""),[N,f]=c.useState(""),m=/^S\d{5}$/,j=w=>m.test(w)?(v(""),!0):(v("ID must be 'S' followed by 5 digits (e.g., S12345)."),!1);c.useEffect(()=>{const w=S=>{S.key==="Escape"&&s()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),c.useEffect(()=>{o(!1),u(n),x(""),p(""),v(""),f("")},[e,n]);const g=()=>{const w=j(d);let S=!1;h.length<6?f("Password must be at least 6 characters."):h!==y?f("Passwords do not match."):(f(""),S=!0),w&&S&&a(e.id,d,h)},k=()=>{o(!0)};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,role:"dialog","aria-modal":"true",children:t.jsxs("div",{ref:r,className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:w=>w.stopPropagation(),children:[t.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:i?"Create Student Account":"Application Details"}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl","aria-label":"Close modal",children:"×"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Set the official Student ID and a temporary password for ",t.jsx("span",{className:"font-bold",children:e.fullName}),". They will be notified to change it upon first login."]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"studentId",className:"block text-sm font-medium text-gray-700",children:"Student ID"}),t.jsx("input",{type:"text",id:"studentId",value:d,onChange:w=>{u(w.target.value),j(w.target.value)},className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none bg-white ${b?"border-red-500":"border-gray-300 focus:ring-brand-red focus:border-brand-red"}`}),b&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:b})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Initial Password"}),t.jsx("input",{type:"password",id:"password",value:h,onChange:w=>x(w.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),t.jsx("input",{type:"password",id:"confirmPassword",value:y,onChange:w=>p(w.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"}),N&&t.jsx("p",{className:"mt-1 text-xs text-red-600",children:N})]})]}):t.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[t.jsxs("div",{className:"sm:w-1/3 text-center",children:[t.jsx("img",{src:e.photoUrl||"https://via.placeholder.com/150",alt:e.fullName,className:"w-32 h-32 rounded-full mx-auto object-cover border-4 border-brand-red"}),e.documentUrl&&t.jsx("a",{href:e.documentUrl,download:e.documentName||"document",className:"mt-4 inline-block text-sm font-semibold text-blue-600 hover:underline",children:"View Attached Document"})]}),t.jsx("div",{className:"sm:w-2/3",children:t.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-4",children:[t.jsx(Us,{label:"Full Name",value:e.fullName}),t.jsx(Us,{label:"Submitted Date",value:e.submittedDate}),t.jsx(Us,{label:"Email",value:e.email}),t.jsx(Us,{label:"Phone",value:e.phone}),t.jsx(Us,{label:"Date of Birth",value:e.dob}),t.jsx(Us,{label:"Program",value:e.program}),t.jsx("div",{className:"md:col-span-2",children:t.jsx(Us,{label:"Address",value:e.address})}),e.socialMediaUrl&&t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Social Media"}),t.jsx("a",{href:e.socialMediaUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-1 text-md text-brand-red hover:underline break-all",children:e.socialMediaUrl})]}),e.selectedPapers&&e.selectedPapers.length>0&&t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Selected Papers"}),t.jsx("ul",{className:"mt-1 text-md text-gray-900 list-disc list-inside bg-gray-50 p-2 rounded-md",children:e.selectedPapers.map(w=>t.jsx("li",{children:w},w))})]})]})})]})}),t.jsx("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:i?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>o(!1),className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Back"}),t.jsx("button",{onClick:g,className:"bg-green-600 text-white font-semibold px-4 py-2 rounded-md hover:bg-green-700",children:"Confirm and Send Email"})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:l,className:"bg-red-100 text-red-800 font-semibold px-4 py-2 rounded-md hover:bg-red-200",children:"Reject"}),t.jsx("button",{onClick:k,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Approve"})]})})]})})},uf=`Dear {{studentName}},

Welcome to Reliant Learners Academy! We are thrilled to have you join us.

Your student portal account has been created. Here are your login details:
- Student ID: {{studentId}}
- Temporary Password: {{password}}

Please log in to the student portal at your earliest convenience to change your password and explore your dashboard.

We look forward to supporting you on your ACCA journey.

Best regards,
The Admissions Team
Reliant Learners Academy`,Hu=async e=>{const a=Fb("welcomeEmailTemplate",uf).replace(/{{studentName}}/g,e.studentName).replace(/{{studentId}}/g,e.studentId).replace(/{{password}}/g,e.password);return console.log("--- SIMULATING EMAIL SERVICE ---"),console.log(`Sending welcome email to: ${e.studentEmail}`),console.log("Subject: Welcome to Reliant Learners Academy!"),console.log(a),console.log("---------------------------------"),await new Promise(l=>setTimeout(l,1e3)),{success:!0,message:`Welcome email successfully sent to ${e.studentEmail}`}},Ov=({onClose:e})=>{const[s,a]=c.useState(localStorage.getItem("welcomeEmailTemplate")||uf),l=()=>{localStorage.setItem("welcomeEmailTemplate",s),e()};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:e,children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[t.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"Customize Welcome Email"}),t.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[t.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Edit the template below. Use the following placeholders to include dynamic student information:",t.jsx("code",{className:"bg-gray-200 text-sm p-1 rounded-md mx-1",children:"{{studentName}}"}),t.jsx("code",{className:"bg-gray-200 text-sm p-1 rounded-md mx-1",children:"{{studentId}}"}),t.jsx("code",{className:"bg-gray-200 text-sm p-1 rounded-md mx-1",children:"{{password}}"})]}),t.jsx("textarea",{value:s,onChange:n=>a(n.target.value),rows:15,className:"w-full p-2 border border-gray-300 rounded-md font-mono text-sm bg-white"})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{onClick:l,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Save Template"})]})]})})},Uv=()=>{const[e,s]=c.useState(()=>{try{const C=localStorage.getItem("students");return C?JSON.parse(C):ne}catch{return ne}}),[a,l]=c.useState(()=>{try{const C=localStorage.getItem("pendingApplications"),A=C?JSON.parse(C):[],M=[...A],R=new Set(A.map(O=>O.id));return Ou.forEach(O=>{R.has(O.id)||M.push(O)}),M}catch{return Ou}}),[n,r]=c.useState(()=>{try{const C=localStorage.getItem("approvedApplications");return C?JSON.parse(C):[]}catch{return[]}}),[i,o]=c.useState(()=>{try{const C=localStorage.getItem("rejectedApplications");return C?JSON.parse(C):[]}catch{return[]}}),[d,u]=c.useState("Pending"),[h,x]=c.useState(!1),[y,p]=c.useState(!1),[b,v]=c.useState(null),[N,f]=c.useState(null);c.useEffect(()=>{localStorage.setItem("pendingApplications",JSON.stringify(a))},[a]),c.useEffect(()=>{localStorage.setItem("approvedApplications",JSON.stringify(n))},[n]),c.useEffect(()=>{localStorage.setItem("rejectedApplications",JSON.stringify(i))},[i]);const m=()=>{const C=e.map(M=>M.studentId).filter(M=>M&&M.startsWith("S")).map(M=>parseInt(M.substring(1),10)).filter(M=>!isNaN(M));return C.length===0?"S12348":`S${(Math.max(...C)+1).toString().padStart(5,"0")}`},j=async(C,A,M)=>{var U;const R=a.find(F=>F.id===C);if(!R)return;v(null);const O=new Date,D=new Date(O);D.setMonth(D.getMonth()+1);const q={id:e.length>0?Math.max(...e.map(F=>F.id))+1:1,name:R.fullName,avatarUrl:R.photoUrl||`https://ui-avatars.com/api/?name=${R.fullName.replace(" ","+")}`,studentId:A,password:M,email:R.email,phone:R.phone||"N/A",address:R.address||"N/A",dob:R.dob||"N/A",socialMediaUrl:R.socialMediaUrl,enrollmentDate:O.toISOString().split("T")[0],currentLevel:R.program.includes("Knowledge")?"Applied Knowledge":R.program.includes("Skills")?"Applied Skills":"Strategic Professional",enrolledPapers:((U=R.selectedPapers)==null?void 0:U.map(F=>F.split(":")[0].trim()))||[],totalFee:0,discount:0,grades:{},attendance:{},paymentHistory:[],dueDate:D.toISOString().split("T")[0]};try{const F=await Hu({studentName:q.name,studentEmail:q.email,studentId:q.studentId,password:M});if(F.success){const I=[...e,q];s(I),localStorage.setItem("students",JSON.stringify(I)),l(z=>z.filter(L=>L.id!==C)),r(z=>[{...R,status:"Approved",studentId:A},...z]),f({type:"success",message:`Student account for ${q.name} created. ${F.message}`}),u("Approved")}else f({type:"error",message:"Student not created. Failed to send welcome email. Please try again."})}catch(F){console.error("Error sending welcome email:",F),f({type:"error",message:"An error occurred while sending the email. Student not created."})}finally{setTimeout(()=>f(null),6e3)}},g=C=>{const A=a.find(M=>M.id===C);A&&(l(a.filter(M=>M.id!==C)),o(M=>[{...A,status:"Rejected"},...M])),v(null)},k=C=>{window.confirm("Are you sure you want to permanently delete this application? This cannot be undone.")&&(d==="Pending"?l(A=>A.filter(M=>M.id!==C)):d==="Approved"?r(A=>A.filter(M=>M.id!==C)):d==="Rejected"&&o(A=>A.filter(M=>M.id!==C)))},w=async(C,A)=>{var q;const{studentId:M}=C;x(!1);const R=new Date,O=new Date(R);O.setMonth(O.getMonth()+1);const D={id:e.length>0?Math.max(...e.map(U=>U.id))+1:1,name:C.fullName,avatarUrl:C.photoUrl||`https://ui-avatars.com/api/?name=${C.fullName.replace(" ","+")}`,studentId:M,password:A,email:C.email,phone:C.phone||"N/A",address:C.address||"N/A",dob:C.dob||"N/A",socialMediaUrl:C.socialMediaUrl,enrollmentDate:R.toISOString().split("T")[0],currentLevel:C.program.includes("Knowledge")?"Applied Knowledge":C.program.includes("Skills")?"Applied Skills":"Strategic Professional",enrolledPapers:((q=C.selectedPapers)==null?void 0:q.map(U=>U.split(":")[0].trim()))||[],totalFee:0,discount:0,grades:{},attendance:{},paymentHistory:[],dueDate:O.toISOString().split("T")[0]};try{const U=await Hu({studentName:D.name,studentEmail:D.email,studentId:D.studentId,password:A});if(U.success){const F=[...e,D];s(F),localStorage.setItem("students",JSON.stringify(F)),r(I=>[C,...I]),f({type:"success",message:`Manual admission for ${D.name} successful. ${U.message}`}),u("Approved")}else f({type:"error",message:"Student created, but failed to send welcome email."})}catch(U){console.error("Error sending welcome email for manual admission:",U),f({type:"error",message:"Student created, but an error occurred sending the email."})}finally{setTimeout(()=>f(null),6e3)}},S=[{name:"Pending",count:a.length},{name:"Approved",count:n.length},{name:"Rejected",count:i.length}],T={Pending:a,Approved:n,Rejected:i}[d];return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-brand-dark",children:"Manage Admissions"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white font-semibold px-4 py-2 rounded-md hover:bg-blue-700 transition-colors w-full md:w-auto",children:"Customize Welcome Email"}),t.jsx("button",{onClick:()=>x(!0),className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700 transition-colors w-full md:w-auto",children:"Manual Admission"})]})]}),N&&t.jsxs("div",{className:`mb-6 p-4 rounded-md text-sm transition-opacity duration-300 ${N.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,role:"alert",children:[t.jsx("p",{className:"font-bold",children:N.type==="success"?"Success":"Error"}),t.jsx("p",{children:N.message})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("div",{className:"border-b border-gray-200 mb-4 overflow-x-auto",children:t.jsx("nav",{className:"-mb-px flex space-x-4 sm:space-x-8","aria-label":"Tabs",children:S.map(C=>t.jsxs("button",{onClick:()=>u(C.name),className:`${d===C.name?"border-brand-red text-brand-red":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:[C.name," ",t.jsx("span",{className:"bg-gray-200 text-gray-800 ml-2 py-0.5 px-2 rounded-full text-xs",children:C.count})]},C.name))})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left min-w-[700px]",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Applicant"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Contact"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Program"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Submitted On"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase text-center",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",children:T.length>0?T.map(C=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"p-4 font-medium flex items-center",children:[t.jsx("img",{src:C.photoUrl||"https://via.placeholder.com/40",alt:C.fullName,className:"w-10 h-10 rounded-full mr-3 object-cover"}),C.fullName]}),t.jsxs("td",{className:"p-4 text-sm",children:[t.jsx("div",{children:C.email}),t.jsx("div",{className:"font-mono text-xs text-gray-600",children:C.phone||"N/A"})]}),t.jsx("td",{className:"p-4 text-sm",children:C.program}),t.jsx("td",{className:"p-4 text-sm font-mono",children:C.submittedDate}),t.jsxs("td",{className:"p-4 text-center space-x-2 whitespace-nowrap",children:[C.status==="Pending"?t.jsx("button",{onClick:()=>v(C),className:"text-sm font-semibold text-blue-600 hover:underline",children:"View Details"}):t.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${C.status==="Approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:C.status}),t.jsx("button",{onClick:()=>k(C.id),className:"text-sm font-semibold text-brand-red hover:underline ml-2",children:"Delete"})]})]},C.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"text-center p-8 text-gray-500",children:"No applications in this category."})})})]})})]}),t.jsx(Lv,{isOpen:h,onClose:()=>x(!1),onAddStudent:w}),b&&t.jsx(Rv,{application:b,onClose:()=>v(null),onConfirmApproval:j,onReject:()=>g(b.id),suggestedStudentId:m()}),y&&t.jsx(Ov,{onClose:()=>p(!1)})]})},zv=()=>{const[e,s]=c.useState(()=>{try{const v=localStorage.getItem("globalAnnouncements");return v?JSON.parse(v):Yl}catch{return Yl}}),[a,l]=c.useState(!1),[n,r]=c.useState(null),i={title:"",content:"",audience:"All Students"},[o,d]=c.useState(i);c.useEffect(()=>{try{localStorage.setItem("globalAnnouncements",JSON.stringify(e))}catch(v){console.error("Failed to save announcements to localStorage",v)}},[e]),c.useEffect(()=>{a&&d(n?{title:n.title,content:n.content,audience:n.audience}:i)},[a,n]);const u=v=>{const{name:N,value:f}=v.target;d(m=>({...m,[N]:f}))},h=v=>{if(v.preventDefault(),n){const N={...n,...o};s(f=>f.map(m=>m.id===n.id?N:m))}else{const N={id:Date.now(),...o,author:"Admin",date:new Date().toISOString().split("T")[0]};s(f=>[N,...f])}l(!1),r(null)},x=v=>{r(v),l(!0)},y=v=>{window.confirm("Are you sure you want to delete this announcement? This action is permanent.")&&s(N=>N.filter(f=>f.id!==v))},p=()=>{l(!1),r(null)},b=()=>{r(null),l(!0)};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Global Announcements"}),!a&&t.jsx("button",{onClick:b,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Create New"})]}),a&&t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:n?"Edit Announcement":"New Global Announcement"}),t.jsxs("form",{onSubmit:h,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),t.jsx("input",{type:"text",name:"title",id:"title",required:!0,value:o.title,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"Content"}),t.jsx("textarea",{name:"content",id:"content",rows:4,required:!0,value:o.content,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"audience",className:"block text-sm font-medium text-gray-700",children:"Audience"}),t.jsxs("select",{name:"audience",id:"audience",required:!0,value:o.audience,onChange:u,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red",children:[t.jsx("option",{value:"All Students",children:"All Students"}),t.jsx("option",{value:"All Faculty",children:"All Faculty"}),t.jsx("option",{value:"All Students & Faculty",children:"All Students & Faculty"})]})]}),t.jsxs("div",{className:"flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:p,className:"bg-gray-200 text-gray-800 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-semibold px-4 py-2 rounded-md hover:bg-blue-700",children:n?"Update Announcement":"Post Announcement"})]})]})]}),t.jsx("div",{className:"space-y-6",children:e.map(v=>t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-brand-dark",children:v.title}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Posted on ",v.date," for ",t.jsx("span",{className:"font-semibold",children:v.audience})]})]}),t.jsxs("div",{className:"space-x-2 flex-shrink-0 ml-4",children:[t.jsx("button",{onClick:()=>x(v),className:"text-xs font-semibold text-blue-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>y(v.id),className:"text-xs font-semibold text-brand-red hover:underline",children:"Delete"})]})]}),t.jsx("p",{className:"text-gray-700 mt-4 whitespace-pre-wrap",children:v.content})]},v.id))})]})},Pv=()=>{try{const e=localStorage.getItem("students");return e?JSON.parse(e):ne}catch{return ne}},ac=e=>{var i,o;if(!e)return{paidAmount:0,outstandingBalance:0,isOverdue:!1,lastPaymentDate:"N/A"};const s=(e.totalFee||0)-(e.discount||0),a=((i=e.paymentHistory)==null?void 0:i.filter(d=>d.status==="Paid").reduce((d,u)=>d+u.amount,0))||0,l=s-a;let n=!1;if(l>0&&e.dueDate){const d=new Date;d.setHours(0,0,0,0),n=new Date(e.dueDate)<d}const r=(o=e.paymentHistory)==null?void 0:o.filter(d=>d.status==="Paid").sort((d,u)=>new Date(u.date).getTime()-new Date(d.date).getTime())[0];return{paidAmount:a,outstandingBalance:l,isOverdue:n,lastPaymentDate:(r==null?void 0:r.date)||"N/A"}},Bv=e=>{var l;if(!e.totalFee||e.totalFee===0)return{text:"Fee Not Set",color:"bg-gray-100 text-gray-800"};if((l=e.paymentHistory)!=null&&l.some(n=>n.status==="Pending Verification"))return{text:"Pending Verification",color:"bg-yellow-100 text-yellow-800"};const{outstandingBalance:s,isOverdue:a}=ac(e);return s>0?{text:a?"Overdue":"Outstanding",color:"bg-red-100 text-red-800"}:{text:"Paid",color:"bg-green-100 text-green-800"}},Fv=e=>{var a;if(!e.totalFee||e.totalFee===0)return"Fee Not Set";if((a=e.paymentHistory)!=null&&a.some(l=>l.status==="Pending Verification"))return"Pending Verification";const{outstandingBalance:s}=ac(e);return s>0?"Outstanding":"Paid"},Hv=({imageUrl:e,onClose:s})=>t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60]",onClick:s,children:t.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] p-4",onClick:a=>a.stopPropagation(),children:[t.jsx("img",{src:e,alt:"Payment Screenshot",className:"max-w-full max-h-full object-contain rounded-lg"}),t.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-white text-3xl bg-black bg-opacity-50 rounded-full w-10 h-10 flex items-center justify-center hover:bg-opacity-75",children:"×"})]})}),qv=({student:e,onClose:s,onSave:a})=>{const[l,n]=c.useState(e),[r,i]=c.useState("Fee Structure"),[o,d]=c.useState({amount:"",remarks:""}),[u,h]=c.useState({amount:"",remarks:"",date:new Date().toISOString().split("T")[0]}),[x,y]=c.useState(""),[p,b]=c.useState(null),[v,N]=c.useState(null),f=c.useRef(null);c.useEffect(()=>{e&&(!e.feeItems||e.feeItems.length===0?n({...e,feeItems:[{description:"Base Fee",amount:e.totalFee||0}]}):n(e))},[e]);const m=R=>{const{name:O,value:D}=R.target,q=O==="discount";n(U=>({...U,[O]:q?parseFloat(D)||0:D}))},j=(R,O,D)=>{const q=[...l.feeItems||[]];q[R]={...q[R],[O]:O==="amount"?(typeof D=="number"?D:parseFloat(D))||0:D};const U=q.reduce((F,I)=>F+(I.amount||0),0);n(F=>({...F,feeItems:q,totalFee:U}))},g=()=>{n(R=>({...R,feeItems:[...R.feeItems||[],{description:"",amount:0}]}))},k=R=>{const O=(l.feeItems||[]).filter((q,U)=>U!==R),D=O.reduce((q,U)=>q+(U.amount||0),0);n(q=>({...q,feeItems:O,totalFee:D}))},w=()=>{const R=parseFloat(o.amount);if(isNaN(R)||R<=0||!o.remarks.trim()){alert("Please enter a valid amount and remark for the charge.");return}n(O=>({...O,totalFee:(O.totalFee||0)+R,feeRemarks:`${O.feeRemarks||""}
[${new Date().toISOString().split("T")[0]}] Charge Added: ${o.remarks} - NPR ${R.toLocaleString()}`.trim()})),d({amount:"",remarks:""}),alert("Charge added. Remember to save changes.")},S=()=>{const R=parseFloat(u.amount);if(isNaN(R)||R<=0){alert("Please enter a valid amount for the cash payment.");return}const O={invoiceId:`CASH-${Date.now()}`,date:u.date,amount:R,status:"Paid",method:"Cash",remarks:u.remarks.trim()||"Cash payment received.",verifiedBy:"Admin",verificationDate:new Date().toISOString().split("T")[0]};n(D=>({...D,paymentHistory:[O,...D.paymentHistory||[]]})),h({amount:"",remarks:"",date:new Date().toISOString().split("T")[0]}),alert("Cash payment recorded. Please Save Changes to finalize.")},T=(R,O)=>{if(O==="Rejected"&&!x.trim()){alert("Please provide a reason for rejection.");return}n(D=>{var q;return{...D,paymentHistory:((q=D.paymentHistory)==null?void 0:q.map(U=>U.invoiceId===R?{...U,status:O,rejectionReason:O==="Rejected"?x:void 0,verifiedBy:O==="Paid"?"Admin":void 0,verificationDate:O==="Paid"?new Date().toISOString().split("T")[0]:void 0}:U))||[]}}),y("")},C=R=>{N(R)},A=()=>{v&&(n(R=>{var O;return{...R,paymentHistory:((O=R.paymentHistory)==null?void 0:O.filter(D=>D.invoiceId!==v.invoiceId))||[]}}),N(null))},M=()=>{var R,O;switch(r){case"Fee Structure":return t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Fee Breakdown"}),t.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:(l.feeItems||[]).map((D,q)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",value:D.description,onChange:U=>j(q,"description",U.target.value),placeholder:"Fee Description (e.g., Tuition)",className:"flex-grow p-2 border rounded-md bg-white"}),t.jsx("input",{type:"number",value:D.amount,onChange:U=>j(q,"amount",U.target.value),placeholder:"Amount",className:"w-32 p-2 border rounded-md bg-white"}),t.jsx("button",{type:"button",onClick:()=>k(q),className:"text-red-500 hover:text-red-700 font-bold p-1 text-xl flex-shrink-0",children:"×"})]},q))}),t.jsx("button",{type:"button",onClick:g,className:"text-sm font-semibold text-blue-600 hover:underline",children:"+ Add Fee Item"}),t.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center text-md",children:[t.jsx("span",{className:"text-gray-600",children:"Subtotal"}),t.jsxs("span",{className:"font-semibold",children:["NPR ",(l.totalFee||0).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("label",{htmlFor:"discount",className:"text-gray-600",children:"Discount (NPR)"}),t.jsx("input",{id:"discount",type:"number",name:"discount",value:l.discount,onChange:m,className:"w-32 p-2 border rounded-md text-right bg-white"})]}),t.jsxs("div",{className:"flex justify-between items-center text-lg font-bold border-t pt-2",children:[t.jsx("span",{children:"Total Payable"}),t.jsxs("span",{children:["NPR ",((l.totalFee||0)-(l.discount||0)).toLocaleString()]})]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t",children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Due Date"}),t.jsx("input",{type:"date",name:"dueDate",value:l.dueDate,onChange:m,className:"w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fee Remarks"}),t.jsx("textarea",{name:"feeRemarks",value:l.feeRemarks,onChange:m,rows:2,className:"w-full p-2 border rounded-md bg-white"})]})]});case"Add Charge":return t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Add ad-hoc charges like exam fees, book fees, or late penalties."}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Charge Amount (NPR)"}),t.jsx("input",{type:"number",value:o.amount,onChange:D=>d({...o,amount:D.target.value}),className:"mt-1 w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Remarks for Charge"}),t.jsx("input",{type:"text",value:o.remarks,onChange:D=>d({...o,remarks:D.target.value}),className:"mt-1 w-full p-2 border rounded-md bg-white"})]}),t.jsx("button",{onClick:w,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Add Charge to Total"})]});case"Record Cash Payment":return t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Manually record a cash payment received from the student."}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Amount Received (NPR)"}),t.jsx("input",{type:"number",value:u.amount,onChange:D=>h({...u,amount:D.target.value}),className:"mt-1 w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Payment Date"}),t.jsx("input",{type:"date",value:u.date,onChange:D=>h({...u,date:D.target.value}),className:"mt-1 w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium",children:"Remarks"}),t.jsx("textarea",{value:u.remarks,onChange:D=>h({...u,remarks:D.target.value}),rows:2,className:"mt-1 w-full p-2 border rounded-md bg-white"})]}),t.jsx("button",{onClick:S,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Record Payment"})]});case"Verify Payments":return t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:((R=l.paymentHistory)==null?void 0:R.filter(D=>D.status==="Pending Verification").length)>0?(O=l.paymentHistory)==null?void 0:O.filter(D=>D.status==="Pending Verification").map(D=>t.jsxs("div",{className:"p-4 border rounded-lg bg-yellow-50",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Date:"})," ",D.date," | ",t.jsx("strong",{children:"Amount:"})," NPR ",D.amount.toLocaleString()]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Method:"})," ",D.method," | ",t.jsx("strong",{children:"Remarks:"})," ",D.remarks]}),D.screenshotUrl&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-sm font-semibold mb-1",children:"Payment Proof:"}),t.jsx("img",{src:D.screenshotUrl,alt:"Payment Proof Screenshot",className:"max-h-40 rounded-md border bg-white p-1 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>b(D.screenshotUrl)})]}),t.jsx("div",{className:"mt-4 space-y-2",children:t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("input",{type:"text",placeholder:"Rejection reason (if any)",onChange:q=>y(q.target.value),className:"flex-grow p-1 border rounded bg-white"}),t.jsx("button",{onClick:()=>T(D.invoiceId,"Rejected"),className:"bg-red-500 text-white px-3 py-1 rounded text-sm",children:"Reject"}),t.jsx("button",{onClick:()=>T(D.invoiceId,"Paid"),className:"bg-green-500 text-white px-3 py-1 rounded text-sm",children:"Verify"})]})})]},D.invoiceId)):t.jsx("p",{className:"text-center text-gray-500 py-4",children:"No payments pending verification."})});case"History":return t.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"sticky top-0 bg-gray-100",children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"p-2",children:"Date"}),t.jsx("th",{className:"p-2",children:"Amount"}),t.jsx("th",{className:"p-2",children:"Status"}),t.jsx("th",{className:"p-2",children:"Remarks"}),t.jsx("th",{className:"p-2",children:"Proof"}),t.jsx("th",{className:"p-2",children:"Actions"})]})}),t.jsx("tbody",{children:l.paymentHistory&&l.paymentHistory.length>0?[...l.paymentHistory].sort((D,q)=>new Date(q.date).getTime()-new Date(D.date).getTime()).map(D=>t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"p-2",children:D.date}),t.jsxs("td",{className:"p-2",children:["NPR ",D.amount.toLocaleString()]}),t.jsx("td",{className:"p-2",children:t.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${D.status==="Paid"?"bg-green-100 text-green-700":D.status==="Pending Verification"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:D.status})}),t.jsx("td",{className:"p-2 italic text-gray-600",children:D.remarks}),t.jsx("td",{className:"p-2",children:D.screenshotUrl?t.jsx("button",{onClick:()=>b(D.screenshotUrl),className:"text-blue-600 hover:underline font-semibold",children:"View"}):D.method==="Cash"?t.jsx("span",{className:"text-gray-400",children:"Cash"}):"N/A"}),t.jsx("td",{className:"p-2",children:t.jsx("button",{onClick:()=>C(D),className:"text-red-600 hover:underline font-semibold text-xs",children:"Revert"})})]},D.invoiceId)):t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"text-center p-4",children:"No history."})})})]})});default:return null}};return t.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,children:[p&&t.jsx(Hv,{imageUrl:p,onClose:()=>b(null)}),t.jsxs("div",{ref:f,className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:R=>R.stopPropagation(),children:[t.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[t.jsxs("h2",{className:"text-2xl font-bold text-brand-dark",children:["Manage Fees: ",l.name]}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[t.jsx("div",{className:"border-b mb-4",children:["Fee Structure","Add Charge","Record Cash Payment","Verify Payments","History"].map(R=>t.jsx("button",{onClick:()=>i(R),className:`py-2 px-4 font-semibold ${r===R?"border-b-2 border-brand-red text-brand-red":"text-gray-500"}`,children:R},R))}),t.jsx("div",{children:M()})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:s,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{onClick:()=>{a(l),s()},className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Save Changes"})]})]}),t.jsx(ot,{isOpen:!!v,title:"Revert Transaction",message:`Are you sure you want to revert this payment of NPR ${v==null?void 0:v.amount.toLocaleString()}? This will remove the payment record and increase the student's outstanding balance. This action cannot be undone.`,onConfirm:A,onCancel:()=>N(null),confirmText:"Yes, Revert",cancelText:"Cancel"})]})},_v=()=>{const[e,s]=ts("paymentQRCodes",[]),[a,l]=ts("onlinePaymentsEnabled",!0),[n,r]=c.useState(""),[i,o]=c.useState(null),[d,u]=c.useState(""),h=c.useRef(null),[x,y]=c.useState(null),p=async N=>{if(N.preventDefault(),!n.trim()||!i){alert("Please provide a title and select a QR code image.");return}try{const f=await ec(i,{maxWidth:300,maxHeight:300,quality:.9}),m={id:Date.now(),title:n.trim(),imageUrl:f};s([...e,m]),r(""),o(null),h.current&&(h.current.value=""),u("New payment method added successfully.")}catch{u("Error adding new method. Please try again.")}finally{setTimeout(()=>u(""),3e3)}},b=N=>{y(N)},v=()=>{if(x){const N=e.filter(f=>f.id!==x.id);s(N),u("Payment method deleted."),setTimeout(()=>u(""),3e3),y(null)}};return t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center p-4 border rounded-lg bg-gray-50",children:[t.jsx("h3",{className:"text-lg font-bold text-brand-dark",children:"Online Payment Status"}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:a,onChange:()=>l(!a),className:"sr-only peer"}),t.jsx("div",{className:"w-14 h-7 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-green-600"}),t.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:a?"Enabled":"Disabled"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-4",children:"Current Payment Methods"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map(N=>t.jsxs("div",{className:"p-4 border rounded-lg text-center relative group",children:[t.jsx("img",{src:N.imageUrl,alt:N.title,className:"w-32 h-32 mx-auto border p-1 rounded-md bg-white mb-2"}),t.jsx("p",{className:"font-semibold",children:N.title}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 transition-all flex items-center justify-center",children:t.jsx("button",{onClick:()=>b(N),className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md opacity-0 group-hover:opacity-100 transition-opacity",children:"Delete"})})]},N.id)),e.length===0&&t.jsx("p",{className:"text-gray-500 md:col-span-3 text-center",children:"No payment methods have been added."})]})]}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsx("h3",{className:"text-lg font-bold text-brand-dark mb-4",children:"Add New Payment Method"}),d&&t.jsx("p",{className:"text-sm text-green-600 mb-4",children:d}),t.jsxs("form",{onSubmit:p,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Payment Method Title"}),t.jsx("input",{type:"text",value:n,onChange:N=>r(N.target.value),placeholder:"e.g., Fonepay",className:"mt-1 w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"QR Code Image"}),t.jsx("input",{type:"file",ref:h,accept:"image/*",onChange:N=>o(N.target.files?N.target.files[0]:null),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"})]}),t.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-semibold px-4 py-2 rounded-md hover:bg-blue-700 h-10",children:"Add Method"})]})]}),t.jsx(ot,{isOpen:!!x,title:"Confirm Deletion",message:`Are you sure you want to delete the payment method "${x==null?void 0:x.title}"? This cannot be undone.`,onConfirm:v,onCancel:()=>y(null),confirmText:"Delete"})]})},Iv=()=>{const[e,s]=c.useState(Pv),[a,l]=c.useState(null),[n,r]=c.useState(""),[i,o]=c.useState("All"),[d,u]=c.useState("Overview");c.useEffect(()=>{se("students",e)},[e]);const h=c.useMemo(()=>e.filter(p=>p.name.toLowerCase().includes(n.toLowerCase())||p.studentId.toLowerCase().includes(n.toLowerCase())).filter(p=>i==="All"||Fv(p)===i),[e,n,i]),x=p=>{s(b=>b.map(v=>v.id===p.id?p:v)),l(null)},y=p=>{l(p)};return t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-brand-dark mb-8",children:"Fee Management"}),t.jsx("div",{className:"border-b mb-6",children:t.jsxs("nav",{className:"-mb-px flex space-x-8",children:[t.jsx("button",{onClick:()=>u("Overview"),className:`py-2 px-1 border-b-2 font-semibold text-sm ${d==="Overview"?"border-brand-red text-brand-red":"border-transparent text-gray-500"}`,children:"Student Fee Overview"}),t.jsx("button",{onClick:()=>u("PaymentMethods"),className:`py-2 px-1 border-b-2 font-semibold text-sm ${d==="PaymentMethods"?"border-brand-red text-brand-red":"border-transparent text-gray-500"}`,children:"Manage Payment Methods"})]})}),d==="Overview"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:"Search by Student Name/ID"}),t.jsx("input",{type:"text",id:"search",value:n,onChange:p=>r(p.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"statusFilter",className:"block text-sm font-medium text-gray-700",children:"Filter by Status"}),t.jsxs("select",{id:"statusFilter",value:i,onChange:p=>o(p.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm",children:[t.jsx("option",{value:"All",children:"All Statuses"}),t.jsx("option",{value:"Paid",children:"Paid"}),t.jsx("option",{value:"Outstanding",children:"Outstanding"}),t.jsx("option",{value:"Pending Verification",children:"Pending Verification"}),t.jsx("option",{value:"Fee Not Set",children:"Fee Not Set"})]})]})]})}),t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Student"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Outstanding Balance"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Last Payment"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Status"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",children:h.map(p=>{const{outstandingBalance:b,lastPaymentDate:v}=ac(p),N=Bv(p);return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"p-3 font-medium flex items-center",children:[t.jsx("img",{src:p.avatarUrl,alt:p.name,className:"w-10 h-10 rounded-full mr-3 object-cover"}),t.jsxs("div",{children:[p.name,t.jsx("p",{className:"text-xs text-gray-500 font-mono",children:p.studentId})]})]}),t.jsxs("td",{className:"p-3 font-mono",children:["NPR ",b.toLocaleString()]}),t.jsx("td",{className:"p-3 font-mono text-xs",children:v}),t.jsx("td",{className:"p-3",children:t.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${N.color}`,children:N.text})}),t.jsx("td",{className:"p-3",children:t.jsx("button",{onClick:()=>y(p),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Manage"})})]},p.id)})})]})})})]}),d==="PaymentMethods"&&t.jsx(_v,{}),a&&t.jsx(qv,{student:a,onClose:()=>l(null),onSave:x})]})},qu=({rating:e})=>t.jsx("div",{className:"flex",children:[...Array(5)].map((s,a)=>t.jsx("svg",{className:`w-5 h-5 ${a<Math.round(e)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},a))}),Vv=()=>{const[e,s]=c.useState(()=>E("teacherRatings",Wd));c.useEffect(()=>{se("teacherRatings",e)},[e]);const a=n=>{window.confirm("Are you sure you want to delete this student feedback?")&&s(r=>r.filter(i=>i.id!==n))},l=ce.map(n=>{const r=e.filter(o=>o.teacherId===n.id),i=r.length>0?r.reduce((o,d)=>o+d.rating,0)/r.length:0;return{...n,averageRating:i,reviewCount:r.length}});return t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-brand-dark mb-8",children:"Teacher Ratings & Reviews"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:l.map(n=>t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-12 h-12 rounded-full mr-4"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg text-brand-dark",children:n.name}),t.jsx("p",{className:"text-sm text-gray-500",children:n.qualification})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(qu,{rating:n.averageRating}),t.jsx("span",{className:"font-bold text-lg",children:n.averageRating.toFixed(1)}),t.jsxs("span",{className:"text-sm text-gray-500",children:["(",n.reviewCount," reviews)"]})]})]},n.id))}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"Recent Student Feedback"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Teacher"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Class Topic"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase text-center",children:"Rating"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Feedback"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Date"}),t.jsx("th",{className:"p-4 font-semibold text-sm text-gray-600 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",children:e.slice().reverse().map(n=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"p-4 font-medium whitespace-nowrap",children:n.teacherName}),t.jsx("td",{className:"p-4 text-sm",children:n.classTopic}),t.jsx("td",{className:"p-4 text-center",children:t.jsx(qu,{rating:n.rating})}),t.jsx("td",{className:"p-4 text-sm text-gray-600 max-w-sm",children:n.feedback}),t.jsx("td",{className:"p-4 text-sm font-mono whitespace-nowrap",children:n.date}),t.jsx("td",{className:"p-4",children:t.jsx("button",{onClick:()=>a(n.id),className:"text-sm font-semibold text-brand-red hover:underline",children:"Delete"})})]},n.id))})]})})]})]})},Es=()=>Date.now(),Yv=e=>e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),Gv=e=>{if(!e)return 0;const a=e.replace(/<[^>]*>?/gm,"").split(/\s+/).filter(Boolean);return Math.ceil(a.length/200)},$v=e=>new Promise((s,a)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=()=>s(l.result),l.onerror=n=>a(n)}),ze=({children:e,title:s,onClose:a,size:l="2xl"})=>{const n=c.useRef(null);c.useEffect(()=>{const i=o=>{o.key==="Escape"&&a()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[a]);const r={lg:"max-w-lg","2xl":"max-w-2xl","3xl":"max-w-3xl"}[l];return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:a,children:t.jsxs("div",{ref:n,className:`bg-white rounded-lg shadow-2xl w-full ${r} max-h-[90vh] flex flex-col`,onClick:i=>i.stopPropagation(),children:[t.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:s}),t.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 text-2xl","aria-label":"Close modal",children:"×"})]}),e]})})},Qv=({banner:e,onSave:s,onCancel:a})=>{const[l,n]=c.useState(e||{url:"",alt:"",title:{main:"",highlighted:""},subtitle:"",buttons:[]}),[r,i]=c.useState(null);return t.jsxs("form",{onSubmit:o=>{o.preventDefault(),s(l,r)},className:"flex-1 overflow-y-auto",children:[t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsx("input",{type:"hidden",value:l.url}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Main Title"}),t.jsx("input",{value:l.title.main,onChange:o=>n({...l,title:{...l.title,main:o.target.value}}),className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Highlighted Title"}),t.jsx("input",{value:l.title.highlighted,onChange:o=>n({...l,title:{...l.title,highlighted:o.target.value}}),className:"mt-1 block w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Subtitle"}),t.jsx("textarea",{value:l.subtitle,onChange:o=>n({...l,subtitle:o.target.value}),rows:2,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Background Image"}),t.jsx("input",{type:"file",accept:"image/*",onChange:o=>i(o.target.files?o.target.files[0]:null),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:a,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Save Banner"})]})]})},Xv=({banners:e,onUpdate:s})=>{const[a,l]=c.useState(!1),[n,r]=c.useState(null),i=c.useRef(null),o=c.useRef(null),[d,u]=c.useState(""),[h,x]=c.useState(null),y=()=>{const m=[...e],j=m.splice(i.current,1)[0];m.splice(o.current,0,j),i.current=null,o.current=null,s(m)},p=m=>{x(m)},b=()=>{h&&(s(e.filter(m=>m.id!==h.id)),u(`Banner "${h.title.main}" deleted successfully.`),setTimeout(()=>u(""),3e3),x(null))},v=()=>{r(null),l(!0)},N=m=>{r(m),l(!0)},f=async(m,j)=>{let g=m.url;j&&(g=await qe(j,{maxWidth:1920,maxHeight:1080,quality:.8}));const k={...m,url:g};s(n?e.map(w=>w.id===n.id?{...n,...k}:w):[...e,{...k,id:Es()}]),l(!1)};return t.jsxs("div",{className:"space-y-4",children:[d&&t.jsx("div",{className:"p-2 bg-green-100 text-green-700 rounded-md text-sm",children:d}),t.jsx("div",{className:"text-right",children:t.jsx("button",{onClick:v,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Add New Banner"})}),e.map((m,j)=>t.jsxs("div",{draggable:!0,onDragStart:()=>i.current=j,onDragEnter:()=>o.current=j,onDragEnd:y,onDragOver:g=>g.preventDefault(),className:"flex items-center gap-4 border p-2 rounded-lg cursor-grab active:cursor-grabbing bg-white",children:[t.jsx("img",{src:m.url,alt:m.alt,className:"w-24 h-16 object-cover rounded"}),t.jsx("div",{className:"flex-grow",children:t.jsxs("p",{className:"font-bold",children:[m.title.main," ",t.jsx("span",{className:"text-brand-red",children:m.title.highlighted})]})}),t.jsxs("div",{className:"text-sm space-x-2",children:[t.jsx("button",{onClick:()=>N(m),className:"text-blue-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>p(m),className:"text-red-600 hover:underline",children:"Delete"})]})]},m.id)),a&&t.jsx(ze,{title:n?"Edit Banner":"Add New Banner",onClose:()=>l(!1),children:t.jsx(Qv,{banner:n,onSave:f,onCancel:()=>l(!1)})}),h&&t.jsxs(ze,{title:"Confirm Deletion",onClose:()=>x(null),children:[t.jsx("div",{className:"p-6",children:t.jsxs("p",{children:['Are you sure you want to delete the banner titled "',h.title.main,'"?']})}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{onClick:()=>x(null),className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{onClick:b,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Delete"})]})]})]})},Zv=({item:e,onSave:s,onCancel:a})=>{const[l,n]=c.useState(()=>{if(e){const{id:o,...d}=e;return d}return{type:"image",src:"",alt:"",category:"Campus"}}),[r,i]=c.useState([]);return t.jsxs("form",{onSubmit:o=>{o.preventDefault(),s(l,r)},className:"flex-1 overflow-y-auto",children:[t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Type"}),t.jsxs("select",{value:l.type,onChange:o=>n({...l,type:o.target.value}),className:"mt-1 block w-full p-2 border rounded-md bg-white",children:[t.jsx("option",{value:"image",children:"Image"}),t.jsx("option",{value:"video",children:"Video"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Category"}),t.jsxs("select",{value:l.category,onChange:o=>n({...l,category:o.target.value}),className:"mt-1 block w-full p-2 border rounded-md bg-white",children:[t.jsx("option",{children:"Campus"}),t.jsx("option",{children:"Events"}),t.jsx("option",{children:"Classrooms"}),t.jsx("option",{children:"Students"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Alt Text / Title"}),t.jsx("input",{value:l.alt,onChange:o=>n({...l,alt:o.target.value}),disabled:r.length>1,className:"mt-1 block w-full p-2 border rounded-md bg-white disabled:bg-gray-100",required:!0}),r.length>1&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Alt text will be generated from filenames."})]}),l.type==="video"&&t.jsxs("div",{className:"p-4 border rounded-md bg-gray-50 space-y-4",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Only YouTube embed URLs are supported for gallery videos to ensure optimal performance and avoid storage issues."}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"YouTube Embed URL"}),t.jsx("input",{value:l.videoUrl||"",onChange:o=>n({...l,videoUrl:o.target.value,localVideoSrc:void 0}),className:"mt-1 block w-full p-2 border rounded-md bg-white",placeholder:"https://www.youtube.com/embed/...",required:!(e!=null&&e.videoUrl)})]})]}),l.type==="image"?t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Image File(s)"}),t.jsx("input",{type:"file",multiple:!e,accept:"image/*",onChange:o=>i(o.target.files?Array.from(o.target.files):[]),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100",required:!e})]}):t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Thumbnail Image"}),t.jsx("input",{type:"file",accept:"image/*",onChange:o=>i(o.target.files?Array.from(o.target.files):[]),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100",required:!e||!e.src}),(e==null?void 0:e.src)&&r.length===0&&t.jsx("img",{src:e.src,alt:"current thumbnail",className:"w-20 h-20 object-cover mt-2 rounded-md"})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:a,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Save Item"})]})]})},Jv=({gallery:e,onUpdate:s})=>{const[a,l]=c.useState(!1),[n,r]=c.useState(null),i=c.useRef(null),o=c.useRef(null),[d,u]=c.useState(""),[h,x]=c.useState(null),y=()=>{const m=[...e],j=m.splice(i.current,1)[0];m.splice(o.current,0,j),i.current=null,o.current=null,s(m)},p=m=>{x(m)},b=()=>{h&&(s(e.filter(m=>m.id!==h.id)),u(`Gallery item "${h.alt}" deleted successfully.`),setTimeout(()=>u(""),3e3),x(null))},v=()=>{r(null),l(!0)},N=m=>{r(m),l(!0)},f=async(m,j)=>{if(n){let g=m.src;j[0]&&(g=await qe(j[0],{maxWidth:800,maxHeight:600,quality:.8}));const k={...m,src:g,localVideoSrc:void 0};s(e.map(w=>w.id===n.id?{...k,id:n.id}:w))}else if(m.type==="image"&&j.length>0){const g=await Promise.all(j.map(async k=>{const w=await qe(k,{maxWidth:800,maxHeight:600,quality:.8}),S=j.length>1?k.name.replace(/\.[^/.]+$/,""):m.alt;return{id:Es(),type:"image",src:w,alt:S,category:m.category}}));s([...e,...g])}else if(m.type==="video"&&j[0]){const g=await qe(j[0],{maxWidth:600,maxHeight:400,quality:.7}),k={...m,id:Es(),src:g,localVideoSrc:void 0};s([...e,k])}l(!1)};return t.jsxs("div",{className:"space-y-4",children:[d&&t.jsx("div",{className:"p-2 bg-green-100 text-green-700 rounded-md text-sm",children:d}),t.jsx("div",{className:"text-right",children:t.jsx("button",{onClick:v,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Add New Item"})}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:e.map((m,j)=>t.jsxs("div",{draggable:!0,onDragStart:()=>i.current=j,onDragEnter:()=>o.current=j,onDragEnd:y,onDragOver:g=>g.preventDefault(),className:"relative group border rounded-lg overflow-hidden cursor-grab active:cursor-grabbing",children:[t.jsx("img",{src:m.src,alt:m.alt,className:"w-full h-32 object-cover"}),t.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center gap-2",children:[t.jsx("button",{onClick:()=>N(m),className:"text-white opacity-0 group-hover:opacity-100 px-2 py-1 bg-blue-600 rounded text-xs",children:"Edit"}),t.jsx("button",{onClick:()=>p(m),className:"text-white opacity-0 group-hover:opacity-100 px-2 py-1 bg-brand-red rounded text-xs",children:"Delete"})]})]},m.id))}),a&&t.jsx(ze,{title:n?"Edit Gallery Item":"Add New Gallery Item",onClose:()=>l(!1),children:t.jsx(Zv,{item:n,onSave:f,onCancel:()=>l(!1)})}),h&&t.jsxs(ze,{title:"Confirm Deletion",onClose:()=>x(null),children:[t.jsx("div",{className:"p-6",children:t.jsxs("p",{children:['Are you sure you want to delete the gallery item "',h.alt,'"?']})}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{onClick:()=>x(null),className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{onClick:b,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Delete"})]})]})]})},Kv=({vlog:e,onSave:s,onCancel:a})=>{const[l,n]=c.useState(e||{title:"",description:"",sourceType:"url",videoUrl:"",thumbnailUrl:""}),[r,i]=c.useState(null);return c.useEffect(()=>{l.sourceType!=="url"&&n(o=>({...o,sourceType:"url",localVideoSrc:void 0}))},[l.sourceType]),t.jsxs("form",{onSubmit:o=>{o.preventDefault(),s(l,r)},className:"flex-1 overflow-y-auto",children:[t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsx("input",{type:"hidden",value:l.sourceType}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Title"}),t.jsx("input",{value:l.title,onChange:o=>n({...l,title:o.target.value}),className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Description"}),t.jsx("textarea",{value:l.description,onChange:o=>n({...l,description:o.target.value}),rows:3,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsx("p",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-md",children:"Note: For stability and performance, all vlogs must be hosted on a service like YouTube. Please provide the embed URL below."}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"YouTube Embed URL"}),t.jsx("input",{value:l.videoUrl,onChange:o=>n({...l,videoUrl:o.target.value,localVideoSrc:void 0,sourceType:"url"}),className:"mt-1 block w-full p-2 border rounded-md bg-white",placeholder:"https://www.youtube.com/embed/...",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Thumbnail Image"}),t.jsx("input",{type:"file",accept:"image/*",onChange:o=>i(o.target.files?o.target.files[0]:null),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100",required:!e||!e.thumbnailUrl}),(e==null?void 0:e.thumbnailUrl)&&!r&&t.jsx("img",{src:e.thumbnailUrl,alt:"current thumbnail",className:"w-20 h-20 object-cover mt-2 rounded-md"})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:a,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Save Vlog"})]})]})},Wv=({vlogs:e,onUpdate:s})=>{const[a,l]=c.useState(!1),[n,r]=c.useState(null),[i,o]=c.useState(""),[d,u]=c.useState(null),h=v=>{u(v)},x=()=>{d&&(s(e.filter(v=>v.id!==d.id)),o(`Vlog "${d.title}" deleted successfully.`),setTimeout(()=>o(""),3e3),u(null))},y=()=>{r(null),l(!0)},p=v=>{r(v),l(!0)},b=async(v,N)=>{let f=v.thumbnailUrl;N&&(f=await qe(N,{maxWidth:600,maxHeight:400,quality:.7}));const m={...v,thumbnailUrl:f,sourceType:"url",localVideoSrc:void 0};s(n?e.map(j=>j.id===n.id?{...n,...m}:j):[...e,{...m,id:Es(),publicationDate:new Date().toISOString().split("T")[0]}]),l(!1)};return t.jsxs("div",{className:"space-y-4",children:[i&&t.jsx("div",{className:"p-2 bg-green-100 text-green-700 rounded-md text-sm",children:i}),t.jsx("div",{className:"text-right",children:t.jsx("button",{onClick:y,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Add New Vlog"})}),e.map(v=>t.jsxs("div",{className:"flex items-center gap-4 border p-2 rounded-lg",children:[t.jsx("img",{src:v.thumbnailUrl,alt:v.title,className:"w-24 h-16 object-cover rounded"}),t.jsxs("div",{className:"flex-grow",children:[t.jsx("p",{className:"font-bold",children:v.title}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:v.sourceType==="url"?v.videoUrl:"Uploaded Video"})]}),t.jsxs("div",{className:"text-sm space-x-2",children:[t.jsx("button",{onClick:()=>p(v),className:"text-blue-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>h(v),className:"text-red-600 hover:underline",children:"Delete"})]})]},v.id)),a&&t.jsx(ze,{title:n?"Edit Vlog":"Add New Vlog",onClose:()=>l(!1),children:t.jsx(Kv,{vlog:n,onSave:b,onCancel:()=>l(!1)})}),d&&t.jsxs(ze,{title:"Confirm Deletion",onClose:()=>u(null),children:[t.jsx("div",{className:"p-6",children:t.jsxs("p",{children:['Are you sure you want to delete the vlog "',d.title,'"?']})}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{onClick:()=>u(null),className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{onClick:x,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Delete"})]})]})]})},ej=({blog:e,onSave:s,onCancel:a})=>{const[l,n]=c.useState([]),[r,i]=c.useState([]);c.useEffect(()=>{const b=localStorage.getItem("students");n(b?JSON.parse(b):ne);const v=localStorage.getItem("faculty");i(v?JSON.parse(v):ce)},[]);const[o,d]=c.useState(()=>{if(e){const{id:k,publicationDate:w,...S}=e;return S}let b=0,v="faculty";const N=localStorage.getItem("faculty"),f=N?JSON.parse(N):ce,m=localStorage.getItem("students"),j=m?JSON.parse(m):ne;return f.length>0?(b=f[0].id,v="faculty"):j.length>0&&(b=j[0].id,v="student"),{title:"",authorId:b,authorType:v,excerpt:"",content:"",imageUrl:"",tags:[],status:"Published",isFeatured:!1,timeToRead:0}}),[u,h]=c.useState(null),[x,y]=c.useState((e==null?void 0:e.imageUrl)||null),p=async b=>{const v=b.target.files?b.target.files[0]:null;if(h(v),v){const N=await $v(v);y(N)}else y(null)};return t.jsxs("form",{onSubmit:b=>{b.preventDefault(),s(o,u)},className:"flex-1 overflow-y-auto",children:[t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Title"}),t.jsx("input",{value:o.title,onChange:b=>d({...o,title:b.target.value}),className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Author"}),t.jsxs("select",{value:`${o.authorType}-${o.authorId}`,onChange:b=>{const[v,N]=b.target.value.split("-");d({...o,authorType:v,authorId:Number(N)})},className:"mt-1 block w-full p-2 border rounded-md bg-white",children:[t.jsx("optgroup",{label:"Faculty",children:r.map(b=>t.jsx("option",{value:`faculty-${b.id}`,children:b.name},`faculty-${b.id}`))}),t.jsx("optgroup",{label:"Students",children:l.map(b=>t.jsxs("option",{value:`student-${b.id}`,children:[b.name," (",b.studentId,")"]},`student-${b.id}`))})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Excerpt"}),t.jsx("textarea",{value:o.excerpt,onChange:b=>d({...o,excerpt:b.target.value}),rows:3,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Content"}),t.jsx("textarea",{value:o.content,onChange:b=>d({...o,content:b.target.value}),rows:8,className:"mt-1 block w-full p-2 border rounded-md bg-white font-mono text-sm",required:!0}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"HTML is allowed. You can paste formatted content from editors like MS Word or Google Docs."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Tags (comma-separated)"}),t.jsx("input",{value:Array.isArray(o.tags)?o.tags.join(", "):"",onChange:b=>d({...o,tags:b.target.value.split(",").map(v=>v.trim())}),className:"mt-1 block w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Status"}),t.jsxs("select",{value:o.status,onChange:b=>d({...o,status:b.target.value}),className:"mt-1 block w-full p-2 border rounded-md bg-white",children:[t.jsx("option",{value:"Published",children:"Published"}),t.jsx("option",{value:"Draft",children:"Draft"})]})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"isFeatured",checked:o.isFeatured,onChange:b=>d({...o,isFeatured:b.target.checked}),className:"h-4 w-4 text-brand-red border-gray-300 rounded focus:ring-brand-red"}),t.jsx("label",{htmlFor:"isFeatured",className:"ml-2 block text-sm font-medium",children:"Mark as Featured Post"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Featured Image"}),t.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"}),x&&t.jsx("img",{src:x,alt:"Preview",className:"mt-4 w-48 h-auto rounded-md shadow-sm"})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:a,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Save Post"})]})]})},tj=({blogs:e,onUpdate:s})=>{const[a,l]=c.useState(!1),[n,r]=c.useState(null),[i,o]=c.useState(""),[d,u]=c.useState(null),h=v=>{u(v)},x=()=>{d&&(s(e.filter(v=>v.id!==d.id)),o(`Blog post "${d.title}" deleted successfully.`),setTimeout(()=>o(""),3e3),u(null))},y=()=>{r(null),l(!0)},p=v=>{r(v),l(!0)},b=async(v,N)=>{let f=v.imageUrl;N&&(f=await qe(N,{maxWidth:1200,maxHeight:800,quality:.8}));const m=Gv(v.content),j={...v,imageUrl:f,timeToRead:m};s(n?e.map(g=>g.id===n.id?{...n,...j}:g):[{...j,id:Yv(j.title),publicationDate:new Date().toISOString().split("T")[0]},...e]),l(!1)};return t.jsxs("div",{className:"space-y-4",children:[i&&t.jsx("div",{className:"p-2 bg-green-100 text-green-700 rounded-md text-sm",children:i}),t.jsx("div",{className:"text-right",children:t.jsx("button",{onClick:y,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Create New Post"})}),e.map(v=>t.jsxs("div",{className:"flex items-center gap-4 border p-2 rounded-lg bg-white",children:[t.jsx("img",{src:v.imageUrl,alt:v.title,className:"w-24 h-16 object-cover rounded"}),t.jsxs("div",{className:"flex-grow",children:[t.jsx("p",{className:"font-bold",children:v.title}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${v.status==="Published"?"bg-green-100 text-green-700":"bg-gray-200 text-gray-700"}`,children:v.status}),v.isFeatured&&t.jsxs("span",{className:"flex items-center gap-1 text-yellow-600 font-bold",children:[t.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"Featured"]})]})]}),t.jsxs("div",{className:"text-sm space-x-2",children:[t.jsx("button",{onClick:()=>p(v),className:"text-blue-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>h(v),className:"text-red-600 hover:underline",children:"Delete"})]})]},v.id)),a&&t.jsx(ze,{title:n?"Edit Blog Post":"Create New Post",onClose:()=>l(!1),children:t.jsx(ej,{blog:n,onSave:b,onCancel:()=>l(!1)})}),d&&t.jsxs(ze,{title:"Confirm Deletion",onClose:()=>u(null),children:[t.jsx("div",{className:"p-6",children:t.jsxs("p",{children:['Are you sure you want to delete the blog post "',d.title,'"?']})}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{onClick:()=>u(null),className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{onClick:x,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Delete"})]})]})]})},sj=({messages:e,onUpdate:s})=>{const[a,l]=c.useState(""),[n,r]=c.useState(null),[i,o]=c.useState(""),[d,u]=c.useState(""),h=b=>{b.preventDefault(),a.trim()&&(s([...e,a.trim()]),l(""),u("Message added successfully."),setTimeout(()=>u(""),3e3))},x=b=>{window.confirm("Are you sure you want to delete this message?")&&(s(e.filter((v,N)=>N!==b)),u("Message deleted successfully."),setTimeout(()=>u(""),3e3))},y=(b,v)=>{r(b),o(v)},p=b=>{const v=[...e];v[b]=i,s(v),r(null),o("")};return t.jsxs("div",{className:"space-y-4",children:[d&&t.jsx("div",{className:"p-2 bg-green-100 text-green-700 rounded-md text-sm",children:d}),t.jsxs("form",{onSubmit:h,className:"flex gap-2",children:[t.jsx("input",{value:a,onChange:b=>l(b.target.value),placeholder:"Add new message...",className:"flex-grow p-2 border rounded-md bg-white"}),t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Add"})]}),t.jsx("div",{className:"space-y-2",children:e.map((b,v)=>t.jsxs("div",{className:"flex items-center gap-2 border p-2 rounded-lg",children:[n===v?t.jsx("input",{value:i,onChange:N=>o(N.target.value),className:"flex-grow p-1 border rounded bg-white"}):t.jsx("p",{className:"flex-grow",children:b}),t.jsxs("div",{className:"text-sm space-x-2 flex-shrink-0",children:[n===v?t.jsx("button",{onClick:()=>p(v),className:"text-green-600 hover:underline",children:"Save"}):t.jsx("button",{onClick:()=>y(v,b),className:"text-blue-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>x(v),className:"text-red-600 hover:underline",children:"Delete"})]})]},v))})]})},aj=({popup:e,onSave:s,onCancel:a})=>{const[l,n]=c.useState(e||{title:"",content:"",imageUrl:"",isActive:!0,link:"",linkText:""}),[r,i]=c.useState(null);return t.jsxs("form",{onSubmit:o=>{o.preventDefault(),s(l,r)},className:"flex-1 overflow-y-auto",children:[t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsx("input",{type:"hidden",value:String(l.isActive)}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Title"}),t.jsx("input",{type:"text",value:l.title,onChange:o=>n({...l,title:o.target.value}),className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Link Text"}),t.jsx("input",{type:"text",value:l.linkText,onChange:o=>n({...l,linkText:o.target.value}),className:"mt-1 block w-full p-2 border rounded-md bg-white"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Content"}),t.jsx("textarea",{value:l.content,onChange:o=>n({...l,content:o.target.value}),rows:3,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Link URL (e.g., /admissions)"}),t.jsx("input",{type:"text",value:l.link,onChange:o=>n({...l,link:o.target.value}),className:"mt-1 block w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Image"}),t.jsx("input",{type:"file",accept:"image/*",onChange:o=>i(o.target.files?o.target.files[0]:null),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:a,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Save Popup"})]})]})},lj=({popups:e,onUpdate:s})=>{const[a,l]=c.useState(!1),[n,r]=c.useState(null),[i,o]=c.useState(""),[d,u]=c.useState(null),h=N=>{s(e.map(f=>f.id===N?{...f,isActive:!f.isActive}:f))},x=N=>{u(N)},y=()=>{d&&(s(e.filter(N=>N.id!==d.id)),o(`Popup "${d.title}" deleted successfully.`),setTimeout(()=>o(""),3e3),u(null))},p=N=>{r(N),l(!0)},b=()=>{r(null),l(!0)},v=async(N,f)=>{let m=N.imageUrl;f&&(m=await qe(f,{maxWidth:600,maxHeight:400,quality:.7}));const j={...N,imageUrl:m};s(n?e.map(g=>g.id===n.id?{...n,...j}:g):[...e,{...j,id:Es()}]),l(!1)};return t.jsxs("div",{className:"space-y-4",children:[i&&t.jsx("div",{className:"p-2 bg-green-100 text-green-700 rounded-md text-sm",children:i}),t.jsx("div",{className:"text-right",children:t.jsx("button",{onClick:b,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Add New Popup"})}),e.map(N=>t.jsxs("div",{className:"flex items-center gap-4 border p-2 rounded-lg",children:[t.jsx("img",{src:N.imageUrl,alt:N.title,className:"w-24 h-16 object-cover rounded"}),t.jsxs("div",{className:"flex-grow",children:[t.jsx("p",{className:"font-bold",children:N.title}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:N.content})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:N.isActive,onChange:()=>h(N.id),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-red"})]}),t.jsx("button",{onClick:()=>p(N),className:"text-blue-600 hover:underline text-sm",children:"Edit"}),t.jsx("button",{onClick:()=>x(N),className:"text-red-600 hover:underline text-sm",children:"Delete"})]})]},N.id)),a&&t.jsx(ze,{title:n?"Edit Popup":"Add New Popup",onClose:()=>l(!1),children:t.jsx(aj,{popup:n,onSave:v,onCancel:()=>l(!1)})}),d&&t.jsxs(ze,{title:"Confirm Deletion",onClose:()=>u(null),children:[t.jsx("div",{className:"p-6",children:t.jsxs("p",{children:['Are you sure you want to delete the popup "',d.title,'"?']})}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{onClick:()=>u(null),className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{onClick:y,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Delete"})]})]})]})},nj=({testimonial:e,onSave:s,onCancel:a})=>{const[l,n]=c.useState(e||{name:"",program:"",quote:"",imageUrl:""}),[r,i]=c.useState(null),o=d=>{n({...l,[d.target.name]:d.target.value})};return t.jsxs("form",{onSubmit:d=>{d.preventDefault(),s(l,r)},className:"flex-1 overflow-y-auto",children:[t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Student Name"}),t.jsx("input",{name:"name",value:l.name,onChange:o,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Program (e.g., ACCA Strategic Professional)"}),t.jsx("input",{name:"program",value:l.program,onChange:o,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Quote"}),t.jsx("textarea",{name:"quote",value:l.quote,onChange:o,rows:4,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Student Photo"}),t.jsx("input",{type:"file",accept:"image/*",onChange:d=>i(d.target.files?d.target.files[0]:null),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"}),l.imageUrl&&!r&&t.jsx("img",{src:l.imageUrl,alt:"current photo",className:"w-20 h-20 object-cover mt-2 rounded-full"})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:a,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Save Testimonial"})]})]})},rj=({testimonials:e,onUpdate:s})=>{const[a,l]=c.useState(!1),[n,r]=c.useState(null),[i,o]=c.useState(""),[d,u]=c.useState(null),h=v=>{u(v)},x=()=>{d&&(s(e.filter(v=>v.id!==d.id)),o(`Testimonial from "${d.name}" deleted successfully.`),setTimeout(()=>o(""),3e3),u(null))},y=()=>{r(null),l(!0)},p=v=>{r(v),l(!0)},b=async(v,N)=>{let f=v.imageUrl;N?f=await qe(N,{maxWidth:200,maxHeight:200,quality:.8}):n||(f=`https://ui-avatars.com/api/?name=${encodeURIComponent(v.name)}&background=random&color=fff`);const m={...v,imageUrl:f};s(n?e.map(j=>j.id===n.id?{...n,...m}:j):[{...m,id:Es()},...e]),l(!1)};return t.jsxs("div",{className:"space-y-4",children:[i&&t.jsx("div",{className:"p-2 bg-green-100 text-green-700 rounded-md text-sm",children:i}),t.jsx("div",{className:"text-right",children:t.jsx("button",{onClick:y,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Add New Testimonial"})}),e.map(v=>t.jsxs("div",{className:"flex items-center gap-4 border p-2 rounded-lg bg-white",children:[t.jsx("img",{src:v.imageUrl,alt:v.name,className:"w-16 h-16 object-cover rounded-full"}),t.jsxs("div",{className:"flex-grow",children:[t.jsx("p",{className:"font-bold",children:v.name}),t.jsx("p",{className:"text-sm text-gray-500",children:v.program}),t.jsxs("p",{className:"text-xs text-gray-600 italic mt-1 line-clamp-1",children:['"',v.quote,'"']})]}),t.jsxs("div",{className:"text-sm space-x-2",children:[t.jsx("button",{onClick:()=>p(v),className:"text-blue-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>h(v),className:"text-red-600 hover:underline",children:"Delete"})]})]},v.id)),a&&t.jsx(ze,{title:n?"Edit Testimonial":"Add New Testimonial",onClose:()=>l(!1),children:t.jsx(nj,{testimonial:n,onSave:b,onCancel:()=>l(!1)})}),d&&t.jsxs(ze,{title:"Confirm Deletion",onClose:()=>u(null),children:[t.jsx("div",{className:"p-6",children:t.jsxs("p",{children:['Are you sure you want to delete the testimonial from "',d.name,'"?']})}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{onClick:()=>u(null),className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{onClick:x,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Delete"})]})]})]})},ij=({highAchiever:e,onSave:s,onCancel:a})=>{const[l,n]=c.useState(e||{name:"",achievement:"",avatarUrl:""}),[r,i]=c.useState(null),o=d=>{n({...l,[d.target.name]:d.target.value})};return t.jsxs("form",{onSubmit:d=>{d.preventDefault(),s(l,r)},className:"flex-1 overflow-y-auto",children:[t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Student Name"}),t.jsx("input",{name:"name",value:l.name,onChange:o,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Achievement (e.g., Nepal Topper in FR)"}),t.jsx("input",{name:"achievement",value:l.achievement,onChange:o,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Student Photo"}),t.jsx("input",{type:"file",accept:"image/*",onChange:d=>i(d.target.files?d.target.files[0]:null),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"}),l.avatarUrl&&!r&&t.jsx("img",{src:l.avatarUrl,alt:"current photo",className:"w-20 h-20 object-cover mt-2 rounded-full"})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:a,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Save Achiever"})]})]})},oj=({highAchievers:e,onUpdate:s})=>{const[a,l]=c.useState(!1),[n,r]=c.useState(null),i=c.useRef(null),o=c.useRef(null),[d,u]=c.useState(""),[h,x]=c.useState(null),y=()=>{const m=[...e],j=m.splice(i.current,1)[0];m.splice(o.current,0,j),i.current=null,o.current=null,s(m)},p=m=>{x(m)},b=()=>{h&&(s(e.filter(m=>m.id!==h.id)),u(`High achiever "${h.name}" deleted successfully.`),setTimeout(()=>u(""),3e3),x(null))},v=()=>{r(null),l(!0)},N=m=>{r(m),l(!0)},f=async(m,j)=>{let g=m.avatarUrl;j?g=await qe(j,{maxWidth:200,maxHeight:200,quality:.8}):n||(g=`https://ui-avatars.com/api/?name=${encodeURIComponent(m.name)}&background=random&color=fff`);const k={...m,avatarUrl:g};s(n?e.map(w=>w.id===n.id?{...n,...k}:w):[{...k,id:Es()},...e]),l(!1)};return t.jsxs("div",{className:"space-y-4",children:[d&&t.jsx("div",{className:"p-2 bg-green-100 text-green-700 rounded-md text-sm",children:d}),t.jsx("div",{className:"text-right",children:t.jsx("button",{onClick:v,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Add High Achiever"})}),e.map((m,j)=>t.jsxs("div",{draggable:!0,onDragStart:()=>i.current=j,onDragEnter:()=>o.current=j,onDragEnd:y,onDragOver:g=>g.preventDefault(),className:"flex items-center gap-4 border p-2 rounded-lg bg-white cursor-grab active:cursor-grabbing",children:[t.jsx("img",{src:m.avatarUrl,alt:m.name,className:"w-16 h-16 object-cover rounded-full"}),t.jsxs("div",{className:"flex-grow",children:[t.jsx("p",{className:"font-bold",children:m.name}),t.jsx("p",{className:"text-sm text-gray-600",children:m.achievement})]}),t.jsxs("div",{className:"text-sm space-x-2",children:[t.jsx("button",{onClick:()=>N(m),className:"text-blue-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>p(m),className:"text-red-600 hover:underline",children:"Delete"})]})]},m.id)),a&&t.jsx(ze,{title:n?"Edit High Achiever":"Add New High Achiever",onClose:()=>l(!1),children:t.jsx(ij,{highAchiever:n,onSave:f,onCancel:()=>l(!1)})}),h&&t.jsxs(ze,{title:"Confirm Deletion",onClose:()=>x(null),children:[t.jsx("div",{className:"p-6",children:t.jsxs("p",{children:['Are you sure you want to delete the high achiever "',h.name,'"?']})}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{onClick:()=>x(null),className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{onClick:b,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Delete"})]})]})]})},dj=({social:e,onSave:s,onCancel:a})=>{const[l,n]=c.useState(e||{name:"",url:"",iconUrl:""}),[r,i]=c.useState(null);return t.jsxs("form",{onSubmit:o=>{o.preventDefault(),s(l,r)},className:"flex-1 overflow-y-auto",children:[t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Name (e.g., Facebook)"}),t.jsx("input",{name:"name",value:l.name,onChange:o=>n({...l,name:o.target.value}),className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Full URL"}),t.jsx("input",{name:"url",type:"url",value:l.url,onChange:o=>n({...l,url:o.target.value}),placeholder:"https://www.facebook.com/...",className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Icon Image (PNG)"}),t.jsx("input",{type:"file",accept:"image/png",onChange:o=>i(o.target.files?o.target.files[0]:null),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-brand-red hover:file:bg-red-100"}),l.iconUrl&&!r&&t.jsx("img",{src:l.iconUrl,alt:"current icon",className:"w-10 h-10 object-contain mt-2 p-1 border rounded-md"})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:a,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Save Link"})]})]})},cj=({details:e,onUpdate:s})=>{const[a,l]=c.useState(e),[n,r]=c.useState(!1),[i,o]=c.useState(null),[d,u]=c.useState(""),h=m=>{l({...a,[m.target.name]:m.target.value})},x=(m,j)=>{const g=[...a.phones];g[m]=j,l({...a,phones:g})},y=()=>{l({...a,phones:[...a.phones,""]})},p=m=>{l({...a,phones:a.phones.filter((j,g)=>g!==m)})},b=async(m,j)=>{let g=m.iconUrl;j&&(g=await ec(j,{maxWidth:64,maxHeight:64,quality:.9}));const k={...m,iconUrl:g};l(i?{...a,socials:a.socials.map(w=>w.id===i.id?{...i,...k}:w)}:{...a,socials:[...a.socials,{...k,id:Es()}]}),r(!1)},v=m=>{o(m),r(!0)},N=m=>{window.confirm("Are you sure you want to delete this social link?")&&l({...a,socials:a.socials.filter(j=>j.id!==m)})},f=()=>{s(a),u("Contact details updated successfully!"),setTimeout(()=>u(""),3e3)};return t.jsxs("div",{className:"space-y-6",children:[d&&t.jsx("div",{className:"p-3 bg-green-100 text-green-700 rounded-md text-sm",children:d}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-4",children:[t.jsx("h3",{className:"font-bold text-lg",children:"Contact Details"}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm",children:"Email"}),t.jsx("input",{name:"email",value:a.email,onChange:h,className:"mt-1 block w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm",children:"Address"}),t.jsx("textarea",{name:"address",value:a.address,onChange:h,rows:2,className:"mt-1 block w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm",children:"Office Hours"}),t.jsx("input",{name:"officeHours",value:a.officeHours,onChange:h,className:"mt-1 block w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm",children:"Phone Numbers"}),a.phones.map((m,j)=>t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("input",{value:m,onChange:g=>x(j,g.target.value),className:"flex-grow p-2 border rounded-md bg-white"}),t.jsx("button",{onClick:()=>p(j),className:"text-red-500 font-bold text-xl",children:"×"})]},j)),t.jsx("button",{onClick:y,className:"text-sm text-blue-600 mt-2 hover:underline",children:"+ Add Phone"})]})]}),t.jsxs("div",{className:"bg-white p-4 rounded-lg border space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"font-bold text-lg",children:"Social Media Links"}),t.jsx("button",{onClick:()=>{o(null),r(!0)},className:"bg-blue-600 text-white font-semibold px-3 py-1 text-sm rounded-md hover:bg-blue-700",children:"Add New"})]}),a.socials.map(m=>t.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-gray-50 border hover:shadow-sm transition-shadow",children:[t.jsx("img",{src:m.iconUrl,alt:m.name,className:"w-10 h-10 object-contain flex-shrink-0"}),t.jsxs("div",{className:"flex-grow min-w-0",children:[t.jsx("p",{className:"font-bold text-brand-dark",children:m.name}),t.jsx("p",{className:"text-sm text-gray-500 truncate",children:m.url})]}),t.jsxs("div",{className:"ml-auto flex-shrink-0 space-x-2",children:[t.jsx("button",{onClick:()=>v(m),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>N(m.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Delete"})]})]},m.id))]})]}),t.jsx("div",{className:"text-right",children:t.jsx("button",{onClick:f,className:"bg-brand-red text-white font-bold px-8 py-3 rounded-md hover:bg-red-700",children:"Save All Changes"})}),n&&t.jsx(ze,{title:i?"Edit Social Link":"Add New Social Link",onClose:()=>r(!1),size:"lg",children:t.jsx(dj,{social:i,onSave:b,onCancel:()=>r(!1)})})]})},uj=({item:e,onSave:s,onCancel:a})=>{const[l,n]=c.useState(e||{question:"",answer:""});return t.jsxs("form",{onSubmit:r=>{r.preventDefault(),s(l)},className:"flex-1 overflow-y-auto",children:[t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Question"}),t.jsx("input",{value:l.question,onChange:r=>n({...l,question:r.target.value}),className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium",children:"Answer"}),t.jsx("textarea",{value:l.answer,onChange:r=>n({...l,answer:r.target.value}),rows:5,className:"mt-1 block w-full p-2 border rounded-md bg-white",required:!0})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:a,className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Save FAQ"})]})]})},mj=({items:e,onUpdate:s})=>{const[a,l]=c.useState(!1),[n,r]=c.useState(null),[i,o]=c.useState(null),d=c.useRef(null),u=c.useRef(null),[h,x]=c.useState(""),y=()=>{const m=[...e],j=m.splice(d.current,1)[0];m.splice(u.current,0,j),d.current=null,u.current=null,s(m)},p=()=>{r(null),l(!0)},b=m=>{r(m),l(!0)},v=m=>{o(m)},N=()=>{i&&(s(e.filter(m=>m.question!==i.question)),x(`FAQ starting with "${i.question.substring(0,20)}..." deleted.`),setTimeout(()=>x(""),3e3),o(null))},f=m=>{s(n?e.map(j=>j.question===n.question?m:j):[...e,m]),l(!1),r(null)};return t.jsxs("div",{className:"space-y-4",children:[h&&t.jsx("div",{className:"p-2 bg-green-100 text-green-700 rounded-md text-sm",children:h}),t.jsx("div",{className:"text-right",children:t.jsx("button",{onClick:p,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Add New FAQ"})}),e.map((m,j)=>t.jsxs("div",{draggable:!0,onDragStart:()=>d.current=j,onDragEnter:()=>u.current=j,onDragEnd:y,onDragOver:g=>g.preventDefault(),className:"flex items-center gap-4 border p-3 rounded-lg cursor-grab active:cursor-grabbing bg-white",children:[t.jsxs("div",{className:"flex-grow",children:[t.jsx("p",{className:"font-bold",children:m.question}),t.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:m.answer})]}),t.jsxs("div",{className:"text-sm space-x-2",children:[t.jsx("button",{onClick:()=>b(m),className:"text-blue-600 hover:underline",children:"Edit"}),t.jsx("button",{onClick:()=>v(m),className:"text-red-600 hover:underline",children:"Delete"})]})]},j)),a&&t.jsx(ze,{title:n?"Edit FAQ":"Add New FAQ",onClose:()=>l(!1),children:t.jsx(uj,{item:n,onSave:f,onCancel:()=>l(!1)})}),i&&t.jsxs(ze,{title:"Confirm Deletion",onClose:()=>o(null),children:[t.jsx("div",{className:"p-6",children:t.jsxs("p",{children:['Are you sure you want to delete the FAQ: "',i.question,'"?']})}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{onClick:()=>o(null),className:"bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Cancel"}),t.jsx("button",{onClick:N,className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md hover:bg-red-700",children:"Delete"})]})]})]})},hj=()=>{const[e,s]=c.useState("Banners"),a=(C,A)=>{try{const M=localStorage.getItem(C);if(M)return JSON.parse(M)}catch(M){console.error(`Failed to load ${C} from localStorage`,M)}return A},[l,n]=c.useState(()=>a("banners",Fo)),[r,i]=c.useState(()=>a("gallery",lf)),[o,d]=c.useState(()=>a("vlogs",Cr)),[u,h]=c.useState(()=>a("blogs",un)),[x,y]=c.useState(()=>a("newsTicker",Bo)),[p,b]=c.useState(()=>a("popups",Rb)),[v,N]=c.useState(()=>a("testimonials",Ho)),[f,m]=c.useState(()=>a("highAchievers",_o)),[j,g]=c.useState(()=>a("contactDetails",Il)),[k,w]=c.useState(()=>a("faqData",qo)),S=(C,A)=>{c.useEffect(()=>{try{const M=JSON.stringify(A);localStorage.setItem(C,M),window.dispatchEvent(new StorageEvent("storage",{key:C,newValue:M}))}catch(M){console.error(`Failed to save ${C} to localStorage`,M)}},[A,C])};S("banners",l),S("gallery",r),S("vlogs",o),S("blogs",u),S("newsTicker",x),S("popups",p),S("testimonials",v),S("highAchievers",f),S("contactDetails",j),S("faqData",k);const T=()=>{switch(e){case"Banners":return t.jsx(Xv,{banners:l,onUpdate:n});case"Gallery":return t.jsx(Jv,{gallery:r,onUpdate:i});case"Vlogs":return t.jsx(Wv,{vlogs:o,onUpdate:d});case"Blogs":return t.jsx(tj,{blogs:u,onUpdate:h});case"News Ticker":return t.jsx(sj,{messages:x,onUpdate:y});case"Popup":return t.jsx(lj,{popups:p,onUpdate:b});case"Testimonials":return t.jsx(rj,{testimonials:v,onUpdate:N});case"High Achievers":return t.jsx(oj,{highAchievers:f,onUpdate:m});case"Contact & Socials":return t.jsx(cj,{details:j,onUpdate:g});case"FAQ":return t.jsx(mj,{items:k,onUpdate:w});default:return null}};return t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-brand-dark mb-8",children:"Manage Site Content"}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("div",{className:"border-b border-gray-200 mb-6 overflow-x-auto",children:t.jsx("nav",{className:"-mb-px flex space-x-4 sm:space-x-8","aria-label":"Tabs",children:["Banners","Gallery","Vlogs","Blogs","News Ticker","Popup","Testimonials","High Achievers","Contact & Socials","FAQ"].map(C=>t.jsx("button",{onClick:()=>s(C),className:`${e===C?"border-brand-red text-brand-red":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:C},C))})}),t.jsx("div",{children:T()})]})]})},xj=({isOpen:e,onClose:s,test:a})=>!e||!a?null:t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:l=>l.stopPropagation(),children:[t.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:a.title}),t.jsx("p",{className:"text-sm text-gray-500",children:a.paper})]}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl","aria-label":"Close modal",children:"×"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[a.questions.map((l,n)=>t.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[t.jsxs("p",{className:"font-semibold text-gray-600",children:["Question ",n+1," (",l.points," points)"]}),t.jsx("p",{className:"mt-1 text-gray-800",children:l.questionText}),l.type==="MCQ"&&l.mcqOptions&&t.jsx("div",{className:"mt-3 space-y-2 text-sm",children:l.mcqOptions.map(r=>t.jsxs("div",{className:`flex items-start p-2 border rounded-md ${r.isCorrect?"bg-green-100 border-green-300":"bg-white"}`,children:[t.jsx("span",{className:"font-bold mr-2",children:r.isCorrect?"✔":"◦"}),t.jsx("p",{children:r.text})]},r.id))})]},l.id)),a.questions.length===0&&t.jsx("p",{className:"text-center text-gray-500 py-8",children:"This test has no questions yet."})]}),t.jsx("div",{className:"p-4 border-t bg-gray-50 flex justify-end",children:t.jsx("button",{onClick:s,className:"bg-brand-dark text-white font-semibold px-6 py-2 rounded-md hover:bg-black",children:"Close"})})]})}),fj=({isOpen:e,onClose:s,submission:a,test:l,studentName:n})=>{if(!e||!l||!a)return null;const{totalScore:r,maxScore:i}=(()=>{if(!l||!a)return{totalScore:0,maxScore:0};const d=l.questions.reduce((u,h)=>u+h.points,0);return{totalScore:a.totalAwardedPoints??0,maxScore:d}})(),o=(d,u)=>{const h=a.answers.find(p=>p.questionId===u.id),x=(h==null?void 0:h.selectedOptionId)===d.id,y=d.isCorrect;return y?"bg-green-100 border-green-400 text-green-800 font-semibold":x&&!y?"bg-red-100 border-red-400 text-red-800":"bg-white border-gray-300"};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:d=>d.stopPropagation(),children:[t.jsx("header",{className:"p-4 border-b",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-2xl font-bold text-brand-dark",children:["Review: ",l.title]}),t.jsxs("p",{className:"text-gray-500",children:["Submission by: ",n]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Final Score"}),t.jsxs("p",{className:"text-2xl font-bold text-brand-red",children:[r," / ",i]})]})]})}),t.jsx("main",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:l.questions.map((d,u)=>{const h=a.answers.find(x=>x.questionId===d.id);return t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("p",{className:"font-semibold text-gray-600",children:["Question ",u+1," (",d.points," points)"]}),a.isGraded&&d.type==="Theoretical"&&t.jsxs("p",{className:"font-bold text-lg text-blue-600",children:["Score: ",(h==null?void 0:h.awardedPoints)??0," / ",d.points]})]}),t.jsx("p",{className:"mt-2 text-gray-800 whitespace-pre-wrap",children:d.questionText}),t.jsxs("div",{className:"mt-4",children:[d.type==="MCQ"&&d.mcqOptions&&t.jsx("div",{className:"space-y-3",children:d.mcqOptions.map(x=>t.jsxs("div",{className:`flex items-start p-3 border rounded-lg ${o(x,d)}`,children:[t.jsx("span",{className:"font-bold mr-3 text-lg",children:x.isCorrect?"✔":(h==null?void 0:h.selectedOptionId)===x.id?"✖":"◦"}),t.jsx("p",{children:x.text})]},x.id))}),d.type==="Theoretical"&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Student's Answer:"}),t.jsx("div",{className:"bg-white p-4 border rounded-md min-h-[80px]",children:t.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:(h==null?void 0:h.answerText)||t.jsx("span",{className:"italic text-gray-400",children:"Not answered"})})})]})]}),(h==null?void 0:h.suggestion)&&t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg",children:[t.jsx("p",{className:"font-bold text-sm text-blue-800",children:"Teacher's Feedback:"}),t.jsx("p",{className:"text-gray-700 mt-1 whitespace-pre-wrap",children:h.suggestion})]})]},d.id)})}),t.jsx("footer",{className:"p-4 border-t bg-gray-50 flex justify-end",children:t.jsx("button",{onClick:s,className:"bg-brand-dark text-white font-semibold px-6 py-2 rounded-md hover:bg-black",children:"Close"})})]})})},gj=()=>{const[e,s]=c.useState(()=>E("mockTests",[])),[a,l]=c.useState(()=>E("studentSubmissions",[])),[n,r]=c.useState(()=>E("faculty",[])),[i,o]=c.useState(()=>E("students",[])),[d,u]=c.useState(null),[h,x]=c.useState(null),[y,p]=c.useState(null);c.useEffect(()=>{se("studentSubmissions",a)},[a]),c.useMemo(()=>new Map(n.map(g=>[g.id,g.name])),[n]);const b=c.useMemo(()=>new Map(i.map(g=>[g.id,g.name])),[i]),v=c.useMemo(()=>d?a.filter(g=>g.testId===d.id):[],[d,a]);c.useEffect(()=>{const g=k=>{k.key==="mockTests"&&s(E("mockTests",[])),k.key==="studentSubmissions"&&l(E("studentSubmissions",[])),k.key==="students"&&o(E("students",[]))};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)},[]);const N=g=>{p(g)},f=g=>{window.confirm("Are you sure you want to permanently delete this student's submission? This action cannot be undone.")&&l(k=>k.filter(w=>w.id!==g))},m=y?e.find(g=>g.id===y.testId):null,j=y?b.get(y.studentId)||"Unknown Student":"";return t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-brand-dark mb-8",children:"Mock Tests & Submissions"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"All Mock Tests"}),t.jsx("div",{className:"overflow-x-auto max-h-[70vh] pr-2",children:t.jsxs("table",{className:"w-full text-left min-w-[500px]",children:[t.jsx("thead",{className:"bg-gray-50 sticky top-0",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Test Title"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Paper"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Status"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Submissions"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",children:e.map(g=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"p-3 font-medium",children:g.title}),t.jsx("td",{className:"p-3 text-sm",children:g.paper}),t.jsx("td",{className:"p-3",children:t.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${g.status==="Published"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:g.status})}),t.jsx("td",{className:"p-3 text-center",children:a.filter(k=>k.testId===g.id).length}),t.jsxs("td",{className:"p-3 space-x-2 whitespace-nowrap",children:[t.jsx("button",{onClick:()=>u(g),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Submissions"}),t.jsx("button",{onClick:()=>x(g),className:"text-sm font-semibold text-green-600 hover:underline",children:"Questions"})]})]},g.id))})]})})]}),t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:d?t.jsxs("div",{children:[t.jsxs("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:['Submissions for "',d.title,'"']}),t.jsx("div",{className:"max-h-[70vh] overflow-y-auto pr-2",children:v.length>0?t.jsx("ul",{className:"divide-y",children:v.map(g=>t.jsx("li",{className:"py-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:b.get(g.studentId)||"Unknown Student"}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted: ",new Date(g.submittedAt).toLocaleString()]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${g.isGraded?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:g.isGraded?"Graded":"Pending"}),t.jsx("button",{onClick:()=>N(g),className:"text-sm font-semibold text-blue-600 hover:underline",children:"View"}),t.jsx("button",{onClick:()=>f(g.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Delete"})]})]})},g.id))}):t.jsx("p",{className:"text-center text-gray-500 py-8",children:"No students have submitted this test yet."})})]}):t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsx("p",{className:"text-gray-500",children:"Select a test to view submissions."})})})]}),t.jsx(xj,{isOpen:!!h,onClose:()=>x(null),test:h}),t.jsx(fj,{isOpen:!!y,onClose:()=>p(null),submission:y,test:m,studentName:j})]})},_u=({users:e,userType:s,onPasswordReset:a,message:l})=>{const[n,r]=c.useState(""),[i,o]=c.useState(""),[d,u]=c.useState(""),[h,x]=c.useState(""),y=p=>{if(p.preventDefault(),x(""),!n){x("Please select a user.");return}if(i.length<6){x("Password must be at least 6 characters long.");return}if(i!==d){x("Passwords do not match.");return}a(parseInt(n,10),i),r(""),o(""),u("")};return t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsxs("h2",{className:"text-2xl font-bold text-brand-dark mb-4 border-b pb-4",children:["Reset ",s," Password"]}),t.jsxs("form",{onSubmit:y,className:"space-y-4",children:[h&&t.jsx("p",{className:"text-sm text-red-600 p-3 bg-red-50 rounded-md",children:h}),l&&l.type==="success"&&t.jsx("p",{className:"text-sm text-green-600 p-3 bg-green-50 rounded-md",children:l.text}),l&&l.type==="error"&&t.jsx("p",{className:"text-sm text-red-600 p-3 bg-red-50 rounded-md",children:l.text}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:`${s}-select`,className:"block text-sm font-medium text-gray-700",children:["Select ",s]}),t.jsxs("select",{id:`${s}-select`,value:n,onChange:p=>r(p.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red",children:[t.jsxs("option",{value:"",children:["-- Select a ",s.toLowerCase()," --"]}),e.map(p=>t.jsxs("option",{value:p.id,children:[p.name," (",s==="Student"?p.studentId:p.username,")"]},p.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:`new-pass-${s}`,className:"block text-sm font-medium text-gray-700",children:"New Password"}),t.jsx("input",{type:"password",id:`new-pass-${s}`,value:i,onChange:p=>o(p.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:`confirm-pass-${s}`,className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),t.jsx("input",{type:"password",id:`confirm-pass-${s}`,value:d,onChange:p=>u(p.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-6 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Reset Password"})})]})]})},pj=()=>{const[e,s]=ts("academyLogoUrl",sa),[a,l]=c.useState(""),n=c.useRef(null),r=async i=>{var d;const o=(d=i.target.files)==null?void 0:d[0];if(o){l("");try{const u=await ec(o,{maxWidth:200,maxHeight:200,quality:.9});s(u),l("Logo updated successfully!")}catch(u){console.error(u),l("Failed to update logo. Please use a valid image file (SVG, PNG, JPG).")}finally{setTimeout(()=>l(""),4e3)}}};return t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4 border-b pb-4",children:"Academy Logo"}),a&&t.jsx("p",{className:"text-sm text-green-600 p-3 bg-green-50 rounded-md mb-4",children:a}),t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("p",{className:"text-sm text-gray-600 text-center",children:"This logo appears in the header, footer, and login pages of the main site."}),t.jsx("div",{className:"h-28 flex items-center justify-center",children:t.jsx("img",{src:e,alt:"Current Academy Logo",className:"max-h-full max-w-full bg-gray-100 p-2 border rounded-md"})}),t.jsx("input",{type:"file",accept:"image/*",ref:n,onChange:r,className:"hidden"}),t.jsx("button",{onClick:()=>{var i;return(i=n.current)==null?void 0:i.click()},className:"bg-brand-dark text-white font-semibold px-4 py-2 rounded-md hover:bg-black",children:"Upload New Logo"})]})]})},bj=()=>{const[e,s]=c.useState(""),[a,l]=c.useState(""),[n,r]=c.useState(""),[i,o]=c.useState(""),[d,u]=c.useState(""),[h,x]=c.useState([]),[y,p]=c.useState([]),[b,v]=c.useState(null),[N,f]=c.useState(null);c.useEffect(()=>{try{const k=localStorage.getItem("students");x(k?JSON.parse(k):ne);const w=localStorage.getItem("faculty");p(w?JSON.parse(w):ce)}catch(k){console.error("Failed to load user data from localStorage",k),x(ne),p(ce)}},[]);const m=k=>{if(k.preventDefault(),o(""),u(""),e!=="password"){o("Incorrect current password.");return}if(a.length<6){o("New password must be at least 6 characters long.");return}if(a!==n){o("New passwords do not match.");return}u("Your password has been changed successfully. Please use it for your next login."),s(""),l(""),r(""),setTimeout(()=>u(""),5e3)},j=(k,w)=>{try{const S=h.map(T=>T.id===k?{...T,password:w}:T);x(S),localStorage.setItem("students",JSON.stringify(S)),v({type:"success",text:"Student password updated successfully."})}catch{v({type:"error",text:"Failed to update student password."})}setTimeout(()=>v(null),3e3)},g=(k,w)=>{try{const S=y.map(T=>T.id===k?{...T,password:w}:T);p(S),localStorage.setItem("faculty",JSON.stringify(S)),f({type:"success",text:"Faculty password updated successfully."})}catch{f({type:"error",text:"Failed to update faculty password."})}setTimeout(()=>f(null),3e3)};return t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-brand-dark mb-8",children:"Admin Settings"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4 border-b pb-4",children:"Change Admin Password"}),t.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i&&t.jsx("p",{className:"text-sm text-red-600 p-3 bg-red-50 rounded-md",children:i}),d&&t.jsx("p",{className:"text-sm text-green-600 p-3 bg-green-50 rounded-md",children:d}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),t.jsx("input",{type:"password",id:"currentPassword",required:!0,value:e,onChange:k=>s(k.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),t.jsx("input",{type:"password",id:"newPassword",required:!0,value:a,onChange:k=>l(k.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),t.jsx("input",{type:"password",id:"confirmPassword",required:!0,value:n,onChange:k=>r(k.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"submit",className:"bg-brand-red text-white font-semibold px-6 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Update Password"})})]})]}),t.jsx(pj,{})]}),t.jsxs("div",{className:"mt-8 pt-8 border-t",children:[t.jsx("h2",{className:"text-3xl font-bold text-brand-dark mb-6",children:"Reset User Passwords"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsx(_u,{users:h,userType:"Student",onPasswordReset:j,message:b}),t.jsx(_u,{users:y,userType:"Faculty",onPasswordReset:g,message:N})]})]})]})},yj=({facultyMember:e,onClose:s,onSave:a})=>{var b;const[l,n]=c.useState(e),[r,i]=c.useState({amount:"",method:"Bank Transfer",notes:"",date:new Date().toISOString().split("T")[0],category:"Salary",otherCategory:""}),o=c.useRef(null),[d,u]=c.useState(null),h=()=>{a(l),s()},x=()=>{const v=parseFloat(r.amount);if(isNaN(v)||v<=0){alert("Please enter a valid payment amount.");return}if(r.category==="Other"&&!r.otherCategory.trim()){alert('Please specify the category for "Other".');return}const N={id:`SAL-${Date.now()}`,date:r.date,amount:v,method:r.method,category:r.category,otherCategory:r.category==="Other"?r.otherCategory.trim():void 0,notes:r.notes.trim(),processedBy:"Admin"};n(f=>({...f,salaryHistory:[N,...f.salaryHistory||[]]})),i({amount:"",method:"Bank Transfer",notes:"",date:new Date().toISOString().split("T")[0],category:"Salary",otherCategory:""})},y=v=>{u(v)},p=()=>{d&&(n(v=>{var N;return{...v,salaryHistory:((N=v.salaryHistory)==null?void 0:N.filter(f=>f.id!==d.id))||[]}}),u(null))};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,children:t.jsxs("div",{ref:o,className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:v=>v.stopPropagation(),children:[t.jsx("div",{className:"p-4 border-b",children:t.jsxs("h2",{className:"text-2xl font-bold text-brand-dark",children:["Manage Salary for ",l.name]})}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Base Salary (NPR)"}),t.jsx("input",{type:"number",value:l.baseSalary,onChange:v=>n({...l,baseSalary:parseInt(v.target.value,10)||0}),className:"mt-1 block w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Record New Payment"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("input",{type:"number",placeholder:"Amount",value:r.amount,onChange:v=>i({...r,amount:v.target.value}),className:"p-2 border rounded-md bg-white"}),t.jsxs("select",{value:r.method,onChange:v=>i({...r,method:v.target.value}),className:"p-2 border rounded-md bg-white",children:[t.jsx("option",{children:"Bank Transfer"}),t.jsx("option",{children:"Cash"}),t.jsx("option",{children:"Cheque"})]}),t.jsxs("select",{value:r.category,onChange:v=>i({...r,category:v.target.value}),className:"p-2 border rounded-md bg-white col-span-2",children:[t.jsx("option",{children:"Salary"}),t.jsx("option",{children:"Tuition Fee"}),t.jsx("option",{children:"Other"})]}),r.category==="Other"&&t.jsx("input",{type:"text",placeholder:"Specify 'Other' Category",value:r.otherCategory,onChange:v=>i({...r,otherCategory:v.target.value}),className:"p-2 border rounded-md bg-white col-span-2"}),t.jsx("input",{type:"date",value:r.date,onChange:v=>i({...r,date:v.target.value}),className:"p-2 border rounded-md bg-white col-span-2"}),t.jsx("input",{type:"text",placeholder:"Notes (e.g., July Salary)",value:r.notes,onChange:v=>i({...r,notes:v.target.value}),className:"p-2 border rounded-md bg-white col-span-2"})]}),t.jsx("button",{onClick:x,className:"mt-4 w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700",children:"Add Payment to History"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payment History"}),t.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md",children:t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-gray-100 sticky top-0",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-2",children:"Date"}),t.jsx("th",{className:"p-2",children:"Amount"}),t.jsx("th",{className:"p-2",children:"Category"}),t.jsx("th",{className:"p-2",children:"Method"}),t.jsx("th",{className:"p-2",children:"Notes"}),t.jsx("th",{className:"p-2",children:"Actions"})]})}),t.jsx("tbody",{children:(b=l.salaryHistory)==null?void 0:b.sort((v,N)=>new Date(N.date).getTime()-new Date(v.date).getTime()).map(v=>t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"p-2",children:v.date}),t.jsxs("td",{className:"p-2",children:["NPR ",v.amount.toLocaleString()]}),t.jsxs("td",{className:"p-2",children:[v.category,v.otherCategory?` (${v.otherCategory})`:""]}),t.jsx("td",{className:"p-2",children:v.method}),t.jsx("td",{className:"p-2",children:v.notes}),t.jsx("td",{className:"p-2 text-center",children:t.jsx("button",{type:"button",onClick:()=>y(v),className:"text-red-600 hover:underline font-semibold text-xs",title:"Revert this payment record",children:"Revert"})})]},v.id))})]})})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{onClick:s,className:"bg-gray-200 px-4 py-2 rounded-md",children:"Cancel"}),t.jsx("button",{onClick:h,className:"bg-brand-red text-white px-4 py-2 rounded-md",children:"Save Changes"})]}),t.jsx(ot,{isOpen:!!d,title:"Revert Salary Payment",message:`Are you sure you want to revert the payment of NPR ${d==null?void 0:d.amount.toLocaleString()}? This action cannot be undone.`,onConfirm:p,onCancel:()=>u(null),confirmText:"Yes, Revert",cancelText:"Cancel"})]})})},vj=()=>{const[e,s]=c.useState(()=>E("faculty",ce)),[a,l]=c.useState(()=>E("salaryRequests",[])),[n,r]=c.useState(null),[i,o]=c.useState(""),[d,u]=c.useState("All"),[h,x]=c.useState("Pending");c.useEffect(()=>{se("faculty",e)},[e]),c.useEffect(()=>{se("salaryRequests",a)},[a]);const y=g=>{l(k=>k.map(w=>w.id===g?{...w,status:"Resolved",resolvedDate:new Date().toISOString().split("T")[0]}:w))},p=g=>{window.confirm("Are you sure you want to delete this request?")&&l(k=>k.filter(w=>w.id!==g))},b=g=>{s(k=>k.map(w=>w.id===g.id?g:w))},v=c.useMemo(()=>a.filter(g=>g.status==="Pending"),[a]),N=c.useMemo(()=>a.filter(g=>g.status==="Resolved"),[a]),f=h==="Pending"?v:N,m=c.useMemo(()=>{const g=[],k=new Date;for(let w=0;w<12;w++){const S=(k.getMonth()+1).toString().padStart(2,"0"),C=`${k.getFullYear()}-${S}`,A=k.toLocaleString("default",{month:"long",year:"numeric"});g.push({value:C,label:A}),k.setMonth(k.getMonth()-1)}return g},[]),j=c.useMemo(()=>e.filter(g=>g.name.toLowerCase().includes(i.toLowerCase())).filter(g=>{var k;return d==="All"?!0:(k=g.salaryHistory)==null?void 0:k.some(w=>w.date.startsWith(d))}),[e,i,d]);return t.jsxs("div",{className:"space-y-8",children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Manage Faculty Salary"}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("div",{className:"border-b border-gray-200 mb-4",children:t.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[t.jsxs("button",{onClick:()=>x("Pending"),className:`py-2 px-1 border-b-2 font-semibold text-sm ${h==="Pending"?"border-brand-red text-brand-red":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Pending Requests ",t.jsx("span",{className:"bg-yellow-200 text-yellow-800 ml-2 py-0.5 px-2 rounded-full text-xs",children:v.length})]}),t.jsxs("button",{onClick:()=>x("Resolved"),className:`py-2 px-1 border-b-2 font-semibold text-sm ${h==="Resolved"?"border-brand-red text-brand-red":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Resolved Requests ",t.jsx("span",{className:"bg-gray-200 text-gray-800 ml-2 py-0.5 px-2 rounded-full text-xs",children:N.length})]})]})}),t.jsx("div",{className:"space-y-4 max-h-72 overflow-y-auto",children:f.length>0?f.map(g=>t.jsxs("div",{className:"p-4 border rounded-lg flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:g.facultyName}),t.jsx("p",{className:"text-sm text-gray-700 mt-1",children:g.message}),t.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Requested on: ",g.requestDate]})]}),t.jsxs("div",{className:"flex-shrink-0 space-x-2",children:[g.status==="Pending"&&t.jsx("button",{onClick:()=>y(g.id),className:"bg-green-600 text-white text-sm font-semibold px-3 py-1 rounded-md hover:bg-green-700",children:"Resolve"}),t.jsx("button",{onClick:()=>p(g.id),className:"text-sm font-semibold text-red-600 hover:underline",children:"Delete"})]})]},g.id)):t.jsxs("p",{className:"text-center text-gray-500 py-4",children:["No ",h.toLowerCase()," requests."]})})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-2xl font-bold text-brand-dark mb-4",children:"Faculty Salary Overview"}),t.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"search-faculty",className:"block text-sm font-medium text-gray-700",children:"Search by Name"}),t.jsx("input",{id:"search-faculty",type:"text",placeholder:"e.g., Kabin Pyakurel",value:i,onChange:g=>o(g.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"month-filter",className:"block text-sm font-medium text-gray-700",children:"Filter by Payment Month"}),t.jsxs("select",{id:"month-filter",value:d,onChange:g=>u(g.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm",children:[t.jsx("option",{value:"All",children:"All Months"}),m.map(g=>t.jsx("option",{value:g.value,children:g.label},g.value))]})]}),t.jsx("div",{className:"self-end",children:t.jsx("button",{onClick:()=>{o(""),u("All")},className:"w-full bg-gray-200 text-gray-700 font-semibold px-4 py-2 rounded-md hover:bg-gray-300",children:"Clear Filters"})})]})}),t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full text-left min-w-[700px]",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Faculty"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Base Salary (NPR)"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Total Paid"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Last Paid"}),t.jsx("th",{className:"p-3 font-semibold text-sm",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",children:j.map(g=>{var T,C;const w=(((T=g.salaryHistory)==null?void 0:T.sort((A,M)=>new Date(M.date).getTime()-new Date(A.date).getTime()))||[])[0],S=((C=g.salaryHistory)==null?void 0:C.reduce((A,M)=>A+M.amount,0))||0;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"p-3 font-medium flex items-center gap-3",children:[t.jsx("img",{src:g.imageUrl,alt:g.name,className:"w-10 h-10 rounded-full object-cover"}),g.name]}),t.jsx("td",{className:"p-3 font-mono",children:g.baseSalary.toLocaleString()}),t.jsx("td",{className:"p-3 font-mono text-green-600 font-semibold",children:S.toLocaleString()}),t.jsx("td",{className:"p-3 font-mono text-xs",children:w?`${w.date} (NPR ${w.amount.toLocaleString()})`:"N/A"}),t.jsx("td",{className:"p-3",children:t.jsx("button",{onClick:()=>r(g),className:"text-sm font-semibold text-blue-600 hover:underline",children:"Manage"})})]},g.id)})})]}),j.length===0&&t.jsx("p",{className:"text-center py-8 text-gray-500",children:"No faculty members match the current filters."})]})]}),n&&t.jsx(yj,{facultyMember:n,onClose:()=>r(null),onSave:b})]})},jj=({isOpen:e,onClose:s,onSend:a})=>{const[l,n]=c.useState(""),[r,i]=c.useState(""),[o,d]=c.useState(""),u=E("students",ne),h=E("faculty",ce),x=()=>{if(!l||!r.trim()||!o.trim()){alert("Please select a recipient and fill out the subject and message.");return}const[y,p]=l.split("-");a({id:Number(p),role:y},r,o)};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:s,children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg",onClick:y=>y.stopPropagation(),children:[t.jsx("div",{className:"p-4 border-b",children:t.jsx("h2",{className:"text-2xl font-bold text-brand-dark",children:"New Message"})}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Recipient"}),t.jsxs("select",{value:l,onChange:y=>n(y.target.value),className:"mt-1 block w-full p-2 border rounded-md bg-white",children:[t.jsx("option",{value:"",children:"Select a recipient..."}),t.jsx("optgroup",{label:"Students",children:u.map(y=>t.jsxs("option",{value:`student-${y.id}`,children:[y.name," (",y.studentId,")"]},`student-${y.id}`))}),t.jsx("optgroup",{label:"Faculty",children:h.map(y=>t.jsx("option",{value:`faculty-${y.id}`,children:y.name},`faculty-${y.id}`))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject"}),t.jsx("input",{value:r,onChange:y=>i(y.target.value),className:"mt-1 block w-full p-2 border rounded-md bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),t.jsx("textarea",{value:o,onChange:y=>d(y.target.value),rows:5,className:"mt-1 block w-full p-2 border rounded-md bg-white"})]})]}),t.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-4",children:[t.jsx("button",{onClick:s,className:"bg-gray-200 px-4 py-2 rounded-md",children:"Cancel"}),t.jsx("button",{onClick:x,className:"bg-brand-red text-white px-4 py-2 rounded-md",children:"Send Message"})]})]})}):null},Nj=()=>{const[e,s]=c.useState(()=>E("adminConversations",[])),[a,l]=c.useState("student"),[n,r]=c.useState(null),[i,o]=c.useState(""),[d,u]=c.useState(!1);c.useEffect(()=>{se("adminConversations",e)},[e]);const h=c.useMemo(()=>e.filter(b=>b.participantRole===a).sort((b,v)=>new Date(v.lastUpdate).getTime()-new Date(b.lastUpdate).getTime()),[e,a]),x=()=>{if(!n||!i.trim())return;const b={...n,lastUpdate:new Date().toISOString(),messages:[...n.messages,{sender:"admin",text:i.trim(),timestamp:new Date().toISOString()}]},v=e.map(N=>N.id===b.id?b:N);s(v),r(b),o("")},y=(b,v,N)=>{var w,S;const f=E("students",ne),m=E("faculty",ce);let j="";b.role==="student"?j=((w=f.find(T=>T.id===b.id))==null?void 0:w.name)||"Unknown Student":j=((S=m.find(T=>T.id===b.id))==null?void 0:S.name)||"Unknown Faculty";const g={id:Date.now(),participantId:b.id,participantRole:b.role,participantName:j,subject:v,status:"Resolved",lastUpdate:new Date().toISOString(),messages:[{sender:"admin",text:N,timestamp:new Date().toISOString()}]},k=[g,...e];s(k),u(!1),l(b.role),r(g)},p=(b,v)=>{const N=e.map(m=>m.id===b?{...m,status:v,lastUpdate:new Date().toISOString()}:m);s(N);const f=N.find(m=>m.id===b);f&&r(f)};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsx("h1",{className:"text-4xl font-bold text-brand-dark",children:"Inbox"}),t.jsx("button",{onClick:()=>u(!0),className:"bg-brand-red text-white font-semibold px-4 py-2 rounded-md",children:"New Message"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-[75vh]",children:[t.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md lg:col-span-1 h-full flex flex-col",children:[t.jsxs("div",{className:"border-b mb-2",children:[t.jsx("button",{onClick:()=>l("student"),className:`py-2 px-4 font-semibold ${a==="student"?"border-b-2 border-brand-red text-brand-red":"text-gray-500"}`,children:"Students"}),t.jsx("button",{onClick:()=>l("faculty"),className:`py-2 px-4 font-semibold ${a==="faculty"?"border-b-2 border-brand-red text-brand-red":"text-gray-500"}`,children:"Faculty"})]}),t.jsx("ul",{className:"space-y-2 overflow-y-auto",children:h.map(b=>t.jsx("li",{children:t.jsxs("button",{onClick:()=>r(b),className:`w-full text-left p-3 rounded-lg border-l-4 ${(n==null?void 0:n.id)===b.id?"bg-red-50 border-brand-red":"bg-gray-50 border-transparent hover:bg-gray-100"}`,children:[t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsx("p",{className:"font-bold",children:b.participantName}),t.jsx("span",{className:`font-bold ${b.status==="Pending"?"text-yellow-600":"text-green-600"}`,children:b.status})]}),t.jsx("p",{className:"font-semibold text-sm truncate mt-1",children:b.subject})]})},b.id))})]}),t.jsx("div",{className:"bg-white rounded-lg shadow-md lg:col-span-2 h-full flex flex-col",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-4 border-b",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:n.subject}),t.jsxs("p",{className:"text-sm text-gray-500",children:["With: ",n.participantName]})]}),n.status==="Pending"?t.jsx("button",{onClick:()=>p(n.id,"Resolved"),className:"bg-green-600 text-white font-semibold px-3 py-1 rounded text-sm hover:bg-green-700",children:"Mark as Resolved"}):t.jsx("button",{onClick:()=>p(n.id,"Pending"),className:"bg-yellow-500 text-white font-semibold px-3 py-1 rounded text-sm hover:bg-yellow-600",children:"Reopen"})]})}),t.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:n.messages.map((b,v)=>t.jsxs("div",{className:`flex items-start gap-3 ${b.sender==="admin"?"justify-end":""}`,children:[b.sender==="user"&&t.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 flex-shrink-0"}),t.jsx("div",{className:`text-sm p-3 rounded-lg max-w-sm ${b.sender==="admin"?"bg-blue-100":"bg-gray-100"}`,children:t.jsx("p",{className:"whitespace-pre-wrap",children:b.text})})]},v))}),t.jsxs("div",{className:"p-4 border-t",children:[t.jsx("textarea",{value:i,onChange:b=>o(b.target.value),rows:3,placeholder:"Type your reply...",className:"w-full p-2 border rounded-md bg-white"}),t.jsx("button",{onClick:x,className:"mt-2 w-full bg-brand-dark text-white py-2 rounded-md font-semibold hover:bg-black",children:"Send Reply"})]})]}):t.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Select a conversation to view."})})]}),t.jsx(jj,{isOpen:d,onClose:()=>u(!1),onSend:y})]})},wj=()=>{const[e,s]=c.useState(!1),a=Ae();return c.useEffect(()=>{const{user:l,role:n}=Wa();(n!=="admin"||!l)&&a("/",{replace:!0})},[a]),t.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[t.jsx(vv,{isOpen:e,setIsOpen:s}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto lg:ml-64",children:[t.jsxs("header",{className:"bg-white shadow-sm p-4 flex justify-between items-center sticky top-0 z-20 border-b",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>s(!0),className:"lg:hidden text-gray-500 hover:text-brand-red",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),t.jsx(sc,{})]}),t.jsx("div",{})]}),t.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-10",children:t.jsx(Gr,{})})]})]})},Sj=()=>t.jsx($r,{children:t.jsxs(V,{element:t.jsx(wj,{}),children:[t.jsx(V,{index:!0,element:t.jsx(Xd,{to:"dashboard",replace:!0})}),t.jsx(V,{path:"dashboard",element:t.jsx(jv,{})}),t.jsx(V,{path:"inbox",element:t.jsx(Nj,{})}),t.jsx(V,{path:"students",element:t.jsx(Sv,{})}),t.jsx(V,{path:"faculty",element:t.jsx(Tv,{})}),t.jsx(V,{path:"courses",element:t.jsx(Ev,{})}),t.jsx(V,{path:"admissions",element:t.jsx(Uv,{})}),t.jsx(V,{path:"announcements",element:t.jsx(zv,{})}),t.jsx(V,{path:"fees",element:t.jsx(Iv,{})}),t.jsx(V,{path:"salary",element:t.jsx(vj,{})}),t.jsx(V,{path:"mock-tests",element:t.jsx(gj,{})}),t.jsx(V,{path:"ratings",element:t.jsx(Vv,{})}),t.jsx(V,{path:"content",element:t.jsx(hj,{})}),t.jsx(V,{path:"settings",element:t.jsx(bj,{})})]})}),kj=({post:e})=>{const[s,a]=c.useState(()=>E("faculty",ce)),[l,n]=c.useState(()=>E("students",ne));c.useEffect(()=>{const h=x=>{x.key==="faculty"&&a(E("faculty",ce)),x.key==="students"&&n(E("students",ne))};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)},[]);const r=new Map(s.map(h=>[h.id,h])),i=new Map(l.map(h=>[h.id,h])),o=e.authorType==="student"?i.get(e.authorId):r.get(e.authorId),d=o?o.name:"Learners Academy",u=o?"imageUrl"in o?o.imageUrl:o.avatarUrl:"";return t.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden flex flex-col group border border-gray-100 hover:shadow-2xl transition-shadow duration-300",children:[t.jsx($,{to:`/blog/${e.id}`,className:"block overflow-hidden",children:t.jsx("img",{src:e.imageUrl.replace("/1200/800","/800/600"),alt:e.title,className:"w-full h-56 object-cover group-hover:scale-105 transition-transform duration-500"})}),t.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-brand-red font-semibold",children:e.tags.join(" / ")}),t.jsx("h2",{className:"text-xl font-bold mt-2 mb-3 group-hover:text-brand-red transition-colors min-h-[3.5rem] line-clamp-2",children:t.jsx($,{to:`/blog/${e.id}`,children:e.title})}),t.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 flex-grow",children:e.excerpt})]}),t.jsx("div",{className:"mt-auto pt-6",children:t.jsxs("div",{className:"border-t pt-4 flex items-center",children:[o&&t.jsx("img",{src:u.replace("/400/400","/100/100"),alt:d,className:"w-10 h-10 rounded-full mr-3"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-sm",children:d}),t.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(e.publicationDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})," · ",e.timeToRead," min read"]})]})]})})]})]})},Cj=({post:e})=>{const[s,a]=c.useState(()=>E("faculty",ce)),[l,n]=c.useState(()=>E("students",ne));c.useEffect(()=>{const h=x=>{x.key==="faculty"&&a(E("faculty",ce)),x.key==="students"&&n(E("students",ne))};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)},[]);const r=new Map(s.map(h=>[h.id,h])),i=new Map(l.map(h=>[h.id,h])),o=e.authorType==="student"?i.get(e.authorId):r.get(e.authorId),d=o?o.name:"Learners Academy",u=o?"imageUrl"in o?o.imageUrl:o.avatarUrl:"";return t.jsx("section",{className:"mb-12 md:mb-20",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center bg-brand-beige p-6 sm:p-8 rounded-lg shadow-lg",children:[t.jsx("div",{className:"overflow-hidden rounded-md",children:t.jsx($,{to:`/blog/${e.id}`,children:t.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full object-cover transform hover:scale-105 transition-transform duration-500"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-brand-red font-bold uppercase tracking-wider mb-2",children:"Featured Post"}),t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-brand-dark hover:text-brand-red transition-colors",children:t.jsx($,{to:`/blog/${e.id}`,children:e.title})}),t.jsx("p",{className:"text-gray-600 my-4",children:e.excerpt}),t.jsxs("div",{className:"flex items-center",children:[o&&t.jsx("img",{src:u.replace("/400/400","/100/100"),alt:d,className:"w-12 h-12 rounded-full mr-4"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:d}),t.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(e.publicationDate).toLocaleDateString("en-US",{month:"long",day:"numeric"})," · ",e.timeToRead," min read"]})]})]})]})]})})},Aj=()=>{const[e,s]=c.useState([]),[a,l]=c.useState("All"),n=c.useCallback(()=>{s(E("blogs",un))},[]);c.useEffect(()=>{n();const h=x=>{x.key==="blogs"&&n()};return window.addEventListener("storage",h),()=>{window.removeEventListener("storage",h)}},[n]);const r=c.useMemo(()=>e.filter(h=>h.status==="Published"),[e]),i=c.useMemo(()=>r.find(h=>h.isFeatured),[r]),o=c.useMemo(()=>r.filter(h=>!h.isFeatured),[r]),d=c.useMemo(()=>["All",...Array.from(new Set(r.flatMap(h=>h.tags)))],[r]),u=c.useMemo(()=>a==="All"?o:o.filter(h=>h.tags.includes(a)),[a,o]);return t.jsxs("div",{className:"bg-white",children:[t.jsx("div",{className:"bg-brand-dark text-white py-12 md:py-20",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 text-center",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Learners Academy Blog"}),t.jsx("p",{className:"mt-4 text-lg max-w-3xl mx-auto",children:"Insights, tips, and career advice from our ACCA experts."})]})}),t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-12 md:py-20",children:[i&&t.jsx(Cj,{post:i}),t.jsxs("div",{className:"mb-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Latest Posts"}),t.jsx("div",{className:"flex justify-center flex-wrap gap-2 md:gap-4",children:d.map(h=>t.jsx("button",{onClick:()=>l(h),className:`px-4 py-2 text-sm rounded-full font-semibold transition-colors duration-300 ${a===h?"bg-brand-red text-white shadow-md":"bg-gray-200 text-brand-dark hover:bg-gray-300"}`,children:h},h))})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(h=>t.jsx(kj,{post:h},h.id))})]})]})},Tj=({initialComments:e})=>{const[s,a]=c.useState(e),[l,n]=c.useState(""),[r,i]=c.useState(""),[o,d]=c.useState(!1),u=x=>{if(x.preventDefault(),!l.trim()||!r.trim())return;d(!0);const y={id:Date.now(),authorName:l,text:r,timestamp:new Date().toISOString(),authorImageUrl:`https://ui-avatars.com/api/?name=${encodeURIComponent(l)}&background=random&color=fff`};setTimeout(()=>{a(p=>[y,...p]),n(""),i(""),d(!1)},500)},h=x=>{const y=Math.floor((new Date().getTime()-new Date(x).getTime())/1e3);let p=y/31536e3;return p>1?Math.floor(p)+" years ago":(p=y/2592e3,p>1?Math.floor(p)+" months ago":(p=y/86400,p>1?Math.floor(p)+" days ago":(p=y/3600,p>1?Math.floor(p)+" hours ago":(p=y/60,p>1?Math.floor(p)+" minutes ago":Math.floor(y)+" seconds ago"))))};return t.jsxs("div",{className:"mt-12 border-t pt-8",children:[t.jsxs("h3",{className:"text-2xl font-bold mb-6",children:[s.length," Comment",s.length!==1?"s":""]}),t.jsxs("div",{className:"bg-brand-beige p-6 rounded-lg mb-8",children:[t.jsx("h4",{className:"font-bold text-lg mb-4",children:"Leave a Reply"}),t.jsxs("form",{onSubmit:u,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"authorName",className:"block text-sm font-medium text-gray-700",children:"Name"}),t.jsx("input",{type:"text",id:"authorName",value:l,onChange:x=>n(x.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"commentText",className:"block text-sm font-medium text-gray-700",children:"Comment"}),t.jsx("textarea",{id:"commentText",value:r,onChange:x=>i(x.target.value),rows:4,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-red focus:border-brand-red bg-white"})]}),t.jsx("div",{className:"text-right",children:t.jsx("button",{type:"submit",disabled:o,className:"bg-brand-red text-white py-2 px-6 rounded-md font-semibold hover:bg-red-700 transition-colors disabled:bg-red-300",children:o?"Posting...":"Post Comment"})})]})]}),t.jsx("div",{className:"space-y-6",children:s.map(x=>t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("img",{src:x.authorImageUrl||`https://ui-avatars.com/api/?name=${encodeURIComponent(x.authorName)}&background=random&color=fff`,alt:x.authorName,className:"w-12 h-12 rounded-full bg-gray-200"}),t.jsxs("div",{className:"flex-1 bg-gray-50 p-4 rounded-lg border",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("p",{className:"font-bold text-brand-dark",children:x.authorName}),t.jsx("p",{className:"text-xs text-gray-500",children:h(x.timestamp)})]}),t.jsx("p",{className:"text-gray-700 mt-2",children:x.text})]})]},x.id))})]})},Mj=({post:e,author:s,allPosts:a})=>{const l=a.filter(i=>i.id!==e.id&&i.status==="Published"&&i.tags.some(o=>e.tags.includes(o))).slice(0,3),n="imageUrl"in s?s.imageUrl:s.avatarUrl,r="qualification"in s;return t.jsxs("aside",{className:"space-y-8",children:[t.jsxs("div",{className:"bg-brand-beige p-6 rounded-lg text-center",children:[t.jsx("img",{src:n,alt:s.name,className:"w-24 h-24 rounded-full mx-auto mb-4 border-4 border-white shadow-md"}),t.jsx("h3",{className:"font-bold text-xl text-brand-dark",children:s.name}),t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:r?s.qualification:`Student ID: ${s.studentId}`}),t.jsx("p",{className:"text-sm text-gray-700",children:r?s.bio:`Enrolled in ${s.currentLevel}`})]}),l.length>0&&t.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[t.jsx("h3",{className:"font-bold text-xl text-brand-dark mb-4 border-b pb-2",children:"Related Posts"}),t.jsx("div",{className:"space-y-4",children:l.map(i=>t.jsxs($,{to:`/blog/${i.id}`,className:"flex items-center gap-4 group",children:[t.jsx("img",{src:i.imageUrl,alt:i.title,className:"w-20 h-20 object-cover rounded-md flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-sm leading-tight group-hover:text-brand-red transition-colors",children:i.title}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(i.publicationDate).toLocaleDateString("en-US",{month:"long",day:"numeric"})})]})]},i.id))})]})]})},Dj=()=>{const{postId:e}=Ka(),[s,a]=c.useState([]),[l,n]=c.useState([]),[r,i]=c.useState([]),o=c.useCallback(()=>{a(E("blogs",un)),n(E("faculty",ce)),i(E("students",ne))},[]);c.useEffect(()=>(o(),window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)),[o]);const d=c.useMemo(()=>s.find(p=>p.id===e),[s,e]),u=c.useMemo(()=>new Map(l.map(p=>[p.id,p])),[l]),h=c.useMemo(()=>new Map(r.map(p=>[p.id,p])),[r]),x=c.useMemo(()=>d?d.authorType==="student"?h.get(d.authorId):u.get(d.authorId):null,[d,u,h]);if(!d||!x)return t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-20 text-center",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Post Not Found"}),t.jsx("p",{className:"mt-4",children:"The post you are looking for does not exist or has been moved."}),t.jsx($,{to:"/blog",className:"mt-6 inline-block bg-brand-red text-white px-6 py-2 rounded-md font-semibold hover:bg-red-700",children:"Back to Blog"})]});const y="imageUrl"in x?x.imageUrl:x.avatarUrl;return t.jsxs("div",{className:"bg-white",children:[t.jsx("style",{children:`
            .prose h1, .prose h2, .prose h3 {
                color: #000000;
                font-weight: 800;
                margin-top: 1.5em;
                margin-bottom: 0.8em;
            }
            .prose p {
                line-height: 1.75;
                margin-bottom: 1.25em;
                color: #333333;
            }
            .prose a {
                color: #B22222;
                text-decoration: none;
                font-weight: 600;
            }
            .prose a:hover {
                text-decoration: underline;
            }
            .prose ul, .prose ol {
                padding-left: 1.5em;
                margin-bottom: 1.25em;
            }
            .prose li {
                margin-bottom: 0.5em;
            }
            .prose li > p {
                margin-bottom: 0.5em;
            }
            .prose blockquote {
                border-left-color: #B22222;
                color: #333333;
                font-style: italic;
            }
            `}),t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-12 md:py-20",children:[t.jsxs("div",{className:"max-w-4xl mx-auto mb-8",children:[t.jsx($,{to:"/blog",className:"text-brand-red font-semibold hover:underline mb-4 inline-block",children:"← Back to all posts"}),t.jsx("p",{className:"text-sm text-brand-red font-semibold",children:d.tags.join(" / ")}),t.jsx("h1",{className:"text-4xl md:text-5xl font-black text-brand-dark my-4 leading-tight",children:d.title}),t.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[t.jsx("img",{src:y.replace("/400/400","/100/100"),alt:x.name,className:"w-12 h-12 rounded-full mr-4"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-brand-dark",children:x.name}),t.jsxs("p",{children:[new Date(d.publicationDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})," · ",d.timeToRead," min read"]})]})]})]}),t.jsx("div",{className:"mb-8",children:t.jsx("img",{src:d.imageUrl,alt:d.title,className:"w-full max-w-5xl mx-auto rounded-lg shadow-lg"})}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-12 max-w-6xl mx-auto",children:[t.jsx("article",{className:"lg:col-span-2 prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:d.content}}),t.jsx("div",{className:"lg:col-span-1",children:t.jsx(Mj,{post:d,author:x,allPosts:s})})]}),t.jsx("div",{className:"max-w-3xl mx-auto",children:t.jsx(Tj,{initialComments:d.comments||[]})})]})]})},Ej=({feeCategories:e})=>{const s=a=>a==null?"-":a.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return t.jsxs("div",{className:"overflow-x-auto bg-white p-4 sm:p-6 rounded-lg shadow-lg",children:[t.jsxs("table",{className:"w-full text-left min-w-[700px]",children:[t.jsx("thead",{className:"border-b-2 border-brand-red",children:t.jsxs("tr",{children:[t.jsx("th",{className:"p-3 font-bold text-brand-dark uppercase tracking-wider text-sm w-[30%]",children:"Paper"}),t.jsx("th",{className:"p-3 font-bold text-brand-dark uppercase tracking-wider text-sm",children:"Details"}),t.jsx("th",{className:"p-3 font-bold text-brand-dark uppercase tracking-wider text-sm text-right",children:"UK Fees (NRS)"}),t.jsx("th",{className:"p-3 font-bold text-brand-dark uppercase tracking-wider text-sm text-right",children:"College Fees (NRS)"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map((a,l)=>t.jsxs(ys.Fragment,{children:[t.jsx("tr",{className:"bg-brand-dark text-white",children:t.jsxs("td",{colSpan:4,className:"p-3 font-bold",children:[a.level,a.description&&t.jsx("span",{className:"font-normal text-sm block text-gray-300",children:a.description})]})}),a.items.map((n,r)=>t.jsxs("tr",{className:"hover:bg-gray-50 align-top",children:[t.jsx("td",{className:"p-3 font-semibold",children:n.paper||"-"}),t.jsx("td",{className:"p-3",children:n.details}),t.jsx("td",{className:"p-3 text-right font-mono",children:s(n.ukFeesNrs)}),t.jsx("td",{className:"p-3 text-right font-mono",children:s(n.collegeFeesNrs)})]},r)),a.subtotals&&t.jsxs("tr",{className:"bg-yellow-100 font-bold",children:[t.jsx("td",{colSpan:2,className:"p-3 text-right text-brand-dark",children:"Subtotal"}),t.jsx("td",{className:"p-3 text-right font-mono text-brand-dark",children:s(a.subtotals.ukFeesNrs)}),t.jsx("td",{className:"p-3 text-right font-mono text-brand-dark",children:s(a.subtotals.collegeFeesNrs)})]}),a.notes&&t.jsx("tr",{children:t.jsxs("td",{colSpan:4,className:"p-3 text-xs text-gray-600 bg-gray-50 italic",children:["Note: ",a.notes]})})]},l))})]}),t.jsxs("div",{className:"mt-6 text-center text-xs text-gray-600 bg-yellow-50 p-3 rounded-lg",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Disclaimer:"})," All fees are subject to change without prior notice. The external fees payable to ACCA are based on current exchange rates and may vary. Please confirm the latest fees with our admissions office."]}),t.jsx("p",{className:"mt-1",children:"The UK fees are indicative and calculated based on an assumed exchange rate. Please verify the current rate at the time of payment."})]})]})},Lj=()=>t.jsxs("div",{className:"bg-brand-beige",children:[t.jsx("div",{className:"bg-brand-dark text-white py-12 md:py-20",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 text-center",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"ACCA Fee Structure"}),t.jsx("p",{className:"mt-4 text-lg max-w-3xl mx-auto",children:"A comprehensive breakdown of college tuition fees and external fees payable to ACCA UK."})]})}),t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-12 md:py-20",children:t.jsx(Ej,{feeCategories:nf})})]}),Rj=({vlog:e,onClose:s})=>{const a=e.sourceType==="upload"?e.localVideoSrc:e.videoUrl;return t.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 transition-opacity duration-300",onClick:s,role:"dialog","aria-modal":"true",children:[t.jsx("div",{className:"relative w-full max-w-4xl bg-black",onClick:l=>l.stopPropagation(),children:t.jsx("div",{className:"aspect-video",children:e.sourceType==="upload"?t.jsx("video",{src:a,controls:!0,autoPlay:!0,className:"w-full h-full object-contain"}):t.jsx("iframe",{src:a,title:e.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})}),t.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-white text-4xl hover:text-gray-300 transition-colors","aria-label":"Close video player",children:"×"})]})},Oj=()=>{const[e,s]=ys.useState(()=>E("vlogs",Cr)),[a,l]=ys.useState(null);return ys.useEffect(()=>{const n=r=>{r.key==="vlogs"&&s(E("vlogs",Cr))};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[]),t.jsxs("div",{className:"bg-white",children:[t.jsx("div",{className:"bg-brand-dark text-white py-12 md:py-20",children:t.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 text-center",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Vlogs"}),t.jsx("p",{className:"mt-4 text-lg max-w-3xl mx-auto",children:"See what life is like at Learners Academy. Explore campus tours, student stories, and special events."})]})}),t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20 py-12 md:py-20",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(n=>t.jsxs("div",{className:"overflow-hidden rounded-lg shadow-lg group cursor-pointer border",onClick:()=>l(n),children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:n.thumbnailUrl,alt:n.title,className:"w-full h-56 object-cover transform group-hover:scale-110 transition-transform duration-500"}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsx("svg",{className:"w-16 h-16 text-white opacity-80",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})})]}),t.jsxs("div",{className:"p-4 bg-white",children:[t.jsx("h3",{className:"font-bold text-lg text-brand-dark group-hover:text-brand-red transition-colors",children:n.title}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(n.publicationDate).toLocaleDateString()})]})]},n.id))})}),a&&t.jsx(Rj,{vlog:a,onClose:()=>l(null)})]})},Rn=({children:e})=>t.jsx("pre",{className:"bg-gray-800 text-white p-4 rounded-md overflow-x-auto text-sm my-4",children:t.jsx("code",{children:e})}),Bi=({number:e,title:s,children:a})=>t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"bg-brand-red text-white rounded-full w-10 h-10 flex items-center justify-center font-bold text-xl flex-shrink-0",children:e}),t.jsx("h2",{className:"text-2xl font-bold text-brand-dark ml-4",children:s})]}),t.jsx("div",{className:"pl-14 border-l-2 border-gray-200 ml-5",children:t.jsx("div",{className:"ml-6 space-y-4 text-gray-700",children:a})})]}),Uj=()=>t.jsxs("div",{className:"bg-brand-beige min-h-screen font-sans",children:[t.jsx("header",{className:"bg-white shadow-md p-4",children:t.jsxs("div",{className:"container mx-auto flex items-center gap-4",children:[t.jsx("img",{src:sa,alt:"Academy Logo",className:"h-12 w-auto"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold text-brand-dark",children:Lb}),t.jsx("p",{className:"text-sm text-gray-600",children:"Deployment Guide"})]})]})}),t.jsx("main",{className:"container mx-auto p-4 md:p-8",children:t.jsxs("div",{className:"bg-white p-6 md:p-10 rounded-lg shadow-xl max-w-4xl mx-auto",children:[t.jsx("h1",{className:"text-4xl font-black text-brand-dark text-center mb-4",children:"Let's Get Your Website Online!"}),t.jsx("p",{className:"text-center text-gray-600 mb-12",children:"Follow these steps to deploy your website to the internet for free. This process typically takes about 10-15 minutes."}),t.jsxs(Bi,{number:1,title:"Prerequisites",children:[t.jsx("p",{children:"Before we start, make sure you have the following:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Git:"})," A version control system. If you don't have it, ",t.jsx("a",{href:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer",className:"text-brand-red font-semibold hover:underline",children:"download it here"}),"."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"A GitHub Account:"})," If you don't have one, ",t.jsx("a",{href:"https://github.com/join",target:"_blank",rel:"noopener noreferrer",className:"text-brand-red font-semibold hover:underline",children:"sign up for free"}),"."]})]})]}),t.jsxs(Bi,{number:2,title:"Get Your Code on GitHub",children:[t.jsx("p",{children:"First, we need to upload your project code to a GitHub repository. Open a terminal or command prompt in your project's main directory and run these commands one by one."}),t.jsx("p",{children:"1. Initialize a new Git repository:"}),t.jsx(Rn,{children:"git init -b main"}),t.jsx("p",{children:"2. Add all the files to be tracked:"}),t.jsx(Rn,{children:"git add ."}),t.jsx("p",{children:"3. Create your first commit (a snapshot of your code):"}),t.jsx(Rn,{children:'git commit -m "Initial commit"'}),t.jsxs("p",{children:["4. Go to ",t.jsx("a",{href:"https://github.com/new",target:"_blank",rel:"noopener noreferrer",className:"text-brand-red font-semibold hover:underline",children:"GitHub and create a new repository"}),'. You can name it whatever you like (e.g., "learners-academy-website"). Make it ',t.jsx("strong",{children:"public"})," and do ",t.jsx("strong",{children:"not"})," initialize it with a README or .gitignore file."]}),t.jsx("p",{children:'5. After creating it, GitHub will show you commands to "push an existing repository from the command line". Copy those commands and run them in your terminal. They will look similar to this:'}),t.jsx(Rn,{children:`git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPOSITORY.git
git push -u origin main`}),t.jsx("p",{children:"Once this is done, your code will be safely stored on GitHub!"})]}),t.jsxs(Bi,{number:3,title:"Deploy with Vercel",children:[t.jsx("p",{children:"Vercel is a platform that makes it incredibly easy to host modern web applications."}),t.jsxs("ol",{className:"list-decimal list-inside space-y-3",children:[t.jsxs("li",{children:["Go to ",t.jsx("a",{href:"https://vercel.com/signup",target:"_blank",rel:"noopener noreferrer",className:"text-brand-red font-semibold hover:underline",children:"Vercel and sign up"})," using your GitHub account. It's free."]}),t.jsxs("li",{children:["After signing up, you'll be on your dashboard. Click ",t.jsx("strong",{children:'"Add New... > Project"'}),"."]}),t.jsxs("li",{children:['Vercel will ask to connect to your GitHub. Grant it access, then find and select the repository you just created (e.g., "learners-academy-website") and click ',t.jsx("strong",{children:'"Import"'}),"."]}),t.jsx("li",{children:"On the configuration screen, Vercel will automatically detect that this is a Vite project. You shouldn't need to change any settings."}),t.jsxs("li",{children:["Simply click the ",t.jsx("strong",{children:'"Deploy"'})," button."]})]}),t.jsxs("p",{children:["That's it! Vercel will build and deploy your site. After a minute or two, it will provide you with a public URL (like ",t.jsx("code",{children:"your-project.vercel.app"}),") where your website is live!"]})]}),t.jsxs("div",{className:"mt-12 pt-8 border-t",children:[t.jsx("h2",{className:"text-2xl font-bold text-center text-brand-dark",children:"Important: Next Steps"}),t.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 rounded-r-lg",children:[t.jsxs("p",{children:[t.jsx("strong",{className:"font-bold",children:"About Your Data:"})," Your website is now online, but it still uses your browser's `localStorage`. This means each visitor will have their own separate data. An admin adding a new course on one computer won't see it on another."]}),t.jsx("p",{className:"mt-2",children:"Our next major task is to replace this with a central online database so that all data is shared and synchronized for everyone. This will make your admin, student, and faculty portals fully functional."})]}),t.jsx("div",{className:"text-center mt-8",children:t.jsx($,{to:"/",className:"bg-brand-dark text-white px-8 py-3 rounded-md font-semibold hover:bg-opacity-80 transition-transform hover:scale-105 shadow-lg",children:"← Back to Home"})})]})]})})]}),zj=()=>t.jsxs(t.Fragment,{children:[t.jsx(Ib,{}),t.jsx("main",{className:"flex-grow",children:t.jsx(Gr,{})}),t.jsx(Yb,{})]}),Pj=()=>t.jsxs(wb,{children:[t.jsx(mv,{}),t.jsx("div",{className:"flex flex-col min-h-screen",children:t.jsxs($r,{children:[t.jsxs(V,{element:t.jsx(zj,{}),children:[t.jsx(V,{path:"/",element:t.jsx(sy,{})}),t.jsx(V,{path:"/about",element:t.jsx(ay,{})}),t.jsx(V,{path:"/courses",element:t.jsx(ny,{})}),t.jsx(V,{path:"/courses/:courseId",element:t.jsx(gv,{})}),t.jsx(V,{path:"/admissions",element:t.jsx(ry,{})}),t.jsx(V,{path:"/fees",element:t.jsx(Lj,{})}),t.jsx(V,{path:"/gallery",element:t.jsx(dy,{})}),t.jsx(V,{path:"/faq",element:t.jsx(uy,{})}),t.jsx(V,{path:"/blog",element:t.jsx(Aj,{})}),t.jsx(V,{path:"/blog/:postId",element:t.jsx(Dj,{})}),t.jsx(V,{path:"/vlogs",element:t.jsx(Oj,{})}),t.jsx(V,{path:"/contact",element:t.jsx(iy,{})})]}),t.jsx(V,{path:"/login",element:t.jsx(yv,{})}),t.jsx(V,{path:"/student-portal/*",element:t.jsx(Hy,{})}),t.jsx(V,{path:"/faculty-portal/*",element:t.jsx(uv,{})}),t.jsx(V,{path:"/admin-portal/*",element:t.jsx(Sj,{})}),t.jsx(V,{path:"/deployment-guide",element:t.jsx(Uj,{})})]})})]}),mf=document.getElementById("root");if(!mf)throw new Error("Could not find root element to mount to");const Bj=dp.createRoot(mf);Bj.render(t.jsx(ys.StrictMode,{children:t.jsx(Pj,{})}));
